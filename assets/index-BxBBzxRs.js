var zT=Object.defineProperty;var HT=(n,e,i)=>e in n?zT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var Sd=(n,e,i)=>HT(n,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function BT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bd={exports:{}},Ia={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function jT(){if(xy)return Ia;xy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:n,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Ia.Fragment=e,Ia.jsx=i,Ia.jsxs=i,Ia}var ky;function VT(){return ky||(ky=1,bd.exports=jT()),bd.exports}var V=VT(),Cd={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function qT(){if(Ly)return oe;Ly=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function v(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,x={};function U(b,B,Q){this.props=b,this.context=B,this.refs=x,this.updater=Q||w}U.prototype.isReactComponent={},U.prototype.setState=function(b,B){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,B,"setState")},U.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function M(){}M.prototype=U.prototype;function j(b,B,Q){this.props=b,this.context=B,this.refs=x,this.updater=Q||w}var H=j.prototype=new M;H.constructor=j,T(H,U.prototype),H.isPureReactComponent=!0;var F=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function $(b,B,Q,Y,ee,ye){return Q=ye.ref,{$$typeof:n,type:b,key:B,ref:Q!==void 0?Q:null,props:ye}}function ue(b,B){return $(b.type,B,void 0,void 0,void 0,b.props)}function X(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function Se(b){var B={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Q){return B[Q]})}var Qe=/\/+/g;function qe(b,B){return typeof b=="object"&&b!==null&&b.key!=null?Se(""+b.key):B.toString(36)}function zt(){}function Zn(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(zt,zt):(b.status="pending",b.then(function(B){b.status==="pending"&&(b.status="fulfilled",b.value=B)},function(B){b.status==="pending"&&(b.status="rejected",b.reason=B)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function dt(b,B,Q,Y,ee){var ye=typeof b;(ye==="undefined"||ye==="boolean")&&(b=null);var le=!1;if(b===null)le=!0;else switch(ye){case"bigint":case"string":case"number":le=!0;break;case"object":switch(b.$$typeof){case n:case e:le=!0;break;case _:return le=b._init,dt(le(b._payload),B,Q,Y,ee)}}if(le)return ee=ee(b),le=Y===""?"."+qe(b,0):Y,F(ee)?(Q="",le!=null&&(Q=le.replace(Qe,"$&/")+"/"),dt(ee,B,Q,"",function(Jn){return Jn})):ee!=null&&(X(ee)&&(ee=ue(ee,Q+(ee.key==null||b&&b.key===ee.key?"":(""+ee.key).replace(Qe,"$&/")+"/")+le)),B.push(ee)),1;le=0;var Rt=Y===""?".":Y+":";if(F(b))for(var Le=0;Le<b.length;Le++)Y=b[Le],ye=Rt+qe(Y,Le),le+=dt(Y,B,Q,ye,ee);else if(Le=v(b),typeof Le=="function")for(b=Le.call(b),Le=0;!(Y=b.next()).done;)Y=Y.value,ye=Rt+qe(Y,Le++),le+=dt(Y,B,Q,ye,ee);else if(ye==="object"){if(typeof b.then=="function")return dt(Zn(b),B,Q,Y,ee);throw B=String(b),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return le}function L(b,B,Q){if(b==null)return b;var Y=[],ee=0;return dt(b,Y,"","",function(ye){return B.call(Q,ye,ee++)}),Y}function K(b){if(b._status===-1){var B=b._result;B=B(),B.then(function(Q){(b._status===0||b._status===-1)&&(b._status=1,b._result=Q)},function(Q){(b._status===0||b._status===-1)&&(b._status=2,b._result=Q)}),b._status===-1&&(b._status=0,b._result=B)}if(b._status===1)return b._result.default;throw b._result}var ie=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function De(){}return oe.Children={map:L,forEach:function(b,B,Q){L(b,function(){B.apply(this,arguments)},Q)},count:function(b){var B=0;return L(b,function(){B++}),B},toArray:function(b){return L(b,function(B){return B})||[]},only:function(b){if(!X(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},oe.Component=U,oe.Fragment=i,oe.Profiler=l,oe.PureComponent=j,oe.StrictMode=s,oe.Suspense=h,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,oe.__COMPILER_RUNTIME={__proto__:null,c:function(b){return q.H.useMemoCache(b)}},oe.cache=function(b){return function(){return b.apply(null,arguments)}},oe.cloneElement=function(b,B,Q){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var Y=T({},b.props),ee=b.key,ye=void 0;if(B!=null)for(le in B.ref!==void 0&&(ye=void 0),B.key!==void 0&&(ee=""+B.key),B)!J.call(B,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&B.ref===void 0||(Y[le]=B[le]);var le=arguments.length-2;if(le===1)Y.children=Q;else if(1<le){for(var Rt=Array(le),Le=0;Le<le;Le++)Rt[Le]=arguments[Le+2];Y.children=Rt}return $(b.type,ee,void 0,void 0,ye,Y)},oe.createContext=function(b){return b={$$typeof:f,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:u,_context:b},b},oe.createElement=function(b,B,Q){var Y,ee={},ye=null;if(B!=null)for(Y in B.key!==void 0&&(ye=""+B.key),B)J.call(B,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ee[Y]=B[Y]);var le=arguments.length-2;if(le===1)ee.children=Q;else if(1<le){for(var Rt=Array(le),Le=0;Le<le;Le++)Rt[Le]=arguments[Le+2];ee.children=Rt}if(b&&b.defaultProps)for(Y in le=b.defaultProps,le)ee[Y]===void 0&&(ee[Y]=le[Y]);return $(b,ye,void 0,void 0,null,ee)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(b){return{$$typeof:p,render:b}},oe.isValidElement=X,oe.lazy=function(b){return{$$typeof:_,_payload:{_status:-1,_result:b},_init:K}},oe.memo=function(b,B){return{$$typeof:m,type:b,compare:B===void 0?null:B}},oe.startTransition=function(b){var B=q.T,Q={};q.T=Q;try{var Y=b(),ee=q.S;ee!==null&&ee(Q,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(De,ie)}catch(ye){ie(ye)}finally{q.T=B}},oe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},oe.use=function(b){return q.H.use(b)},oe.useActionState=function(b,B,Q){return q.H.useActionState(b,B,Q)},oe.useCallback=function(b,B){return q.H.useCallback(b,B)},oe.useContext=function(b){return q.H.useContext(b)},oe.useDebugValue=function(){},oe.useDeferredValue=function(b,B){return q.H.useDeferredValue(b,B)},oe.useEffect=function(b,B,Q){var Y=q.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(b,B)},oe.useId=function(){return q.H.useId()},oe.useImperativeHandle=function(b,B,Q){return q.H.useImperativeHandle(b,B,Q)},oe.useInsertionEffect=function(b,B){return q.H.useInsertionEffect(b,B)},oe.useLayoutEffect=function(b,B){return q.H.useLayoutEffect(b,B)},oe.useMemo=function(b,B){return q.H.useMemo(b,B)},oe.useOptimistic=function(b,B){return q.H.useOptimistic(b,B)},oe.useReducer=function(b,B,Q){return q.H.useReducer(b,B,Q)},oe.useRef=function(b){return q.H.useRef(b)},oe.useState=function(b){return q.H.useState(b)},oe.useSyncExternalStore=function(b,B,Q){return q.H.useSyncExternalStore(b,B,Q)},oe.useTransition=function(){return q.H.useTransition()},oe.version="19.1.0",oe}var Uy;function Uu(){return Uy||(Uy=1,Cd.exports=qT()),Cd.exports}var I=Uu();const Mh=BT(I);var Td={exports:{}},Ma={},wd={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function GT(){return Py||(Py=1,function(n){function e(L,K){var ie=L.length;L.push(K);e:for(;0<ie;){var De=ie-1>>>1,b=L[De];if(0<l(b,K))L[De]=K,L[ie]=b,ie=De;else break e}}function i(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var K=L[0],ie=L.pop();if(ie!==K){L[0]=ie;e:for(var De=0,b=L.length,B=b>>>1;De<B;){var Q=2*(De+1)-1,Y=L[Q],ee=Q+1,ye=L[ee];if(0>l(Y,ie))ee<b&&0>l(ye,Y)?(L[De]=ye,L[ee]=ie,De=ee):(L[De]=Y,L[Q]=ie,De=Q);else if(ee<b&&0>l(ye,ie))L[De]=ye,L[ee]=ie,De=ee;else break e}}return K}function l(L,K){var ie=L.sortIndex-K.sortIndex;return ie!==0?ie:L.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var h=[],m=[],_=1,E=null,v=3,w=!1,T=!1,x=!1,U=!1,M=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function F(L){for(var K=i(m);K!==null;){if(K.callback===null)s(m);else if(K.startTime<=L)s(m),K.sortIndex=K.expirationTime,e(h,K);else break;K=i(m)}}function q(L){if(x=!1,F(L),!T)if(i(h)!==null)T=!0,J||(J=!0,qe());else{var K=i(m);K!==null&&dt(q,K.startTime-L)}}var J=!1,$=-1,ue=5,X=-1;function Se(){return U?!0:!(n.unstable_now()-X<ue)}function Qe(){if(U=!1,J){var L=n.unstable_now();X=L;var K=!0;try{e:{T=!1,x&&(x=!1,j($),$=-1),w=!0;var ie=v;try{t:{for(F(L),E=i(h);E!==null&&!(E.expirationTime>L&&Se());){var De=E.callback;if(typeof De=="function"){E.callback=null,v=E.priorityLevel;var b=De(E.expirationTime<=L);if(L=n.unstable_now(),typeof b=="function"){E.callback=b,F(L),K=!0;break t}E===i(h)&&s(h),F(L)}else s(h);E=i(h)}if(E!==null)K=!0;else{var B=i(m);B!==null&&dt(q,B.startTime-L),K=!1}}break e}finally{E=null,v=ie,w=!1}K=void 0}}finally{K?qe():J=!1}}}var qe;if(typeof H=="function")qe=function(){H(Qe)};else if(typeof MessageChannel<"u"){var zt=new MessageChannel,Zn=zt.port2;zt.port1.onmessage=Qe,qe=function(){Zn.postMessage(null)}}else qe=function(){M(Qe,0)};function dt(L,K){$=M(function(){L(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(L){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ie=v;v=K;try{return L()}finally{v=ie}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ie=v;v=L;try{return K()}finally{v=ie}},n.unstable_scheduleCallback=function(L,K,ie){var De=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?De+ie:De):ie=De,L){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=ie+b,L={id:_++,callback:K,priorityLevel:L,startTime:ie,expirationTime:b,sortIndex:-1},ie>De?(L.sortIndex=ie,e(m,L),i(h)===null&&L===i(m)&&(x?(j($),$=-1):x=!0,dt(q,ie-De))):(L.sortIndex=b,e(h,L),T||w||(T=!0,J||(J=!0,qe()))),L},n.unstable_shouldYield=Se,n.unstable_wrapCallback=function(L){var K=v;return function(){var ie=v;v=K;try{return L.apply(this,arguments)}finally{v=ie}}}}(Rd)),Rd}var zy;function FT(){return zy||(zy=1,wd.exports=GT()),wd.exports}var Ad={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function YT(){if(Hy)return mt;Hy=1;var n=Uu();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(h,m,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:h,containerInfo:m,implementation:_}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mt.createPortal=function(h,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(h,m,null,_)},mt.flushSync=function(h){var m=f.T,_=s.p;try{if(f.T=null,s.p=2,h)return h()}finally{f.T=m,s.p=_,s.d.f()}},mt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},mt.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},mt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var _=m.as,E=p(_,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:v,fetchPriority:w}):_==="script"&&s.d.X(h,{crossOrigin:E,integrity:v,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},mt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=p(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},mt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,E=p(_,m.crossOrigin);s.d.L(h,_,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},mt.preloadModule=function(h,m){if(typeof h=="string")if(m){var _=p(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},mt.requestFormReset=function(h){s.d.r(h)},mt.unstable_batchedUpdates=function(h,m){return h(m)},mt.useFormState=function(h,m,_){return f.H.useFormState(h,m,_)},mt.useFormStatus=function(){return f.H.useHostTransitionStatus()},mt.version="19.1.0",mt}var By;function KT(){if(By)return Ad.exports;By=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ad.exports=YT(),Ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function QT(){if(jy)return Ma;jy=1;var n=FT(),e=Uu(),i=KT();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function h(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,o=r;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return p(c),t;if(d===o)return p(c),r;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=c,o=d;else{for(var g=!1,y=c.child;y;){if(y===a){g=!0,a=c,o=d;break}if(y===o){g=!0,o=c,a=d;break}y=y.sibling}if(!g){for(y=d.child;y;){if(y===a){g=!0,a=d,o=c;break}if(y===o){g=!0,o=d,a=c;break}y=y.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function m(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=m(t),r!==null)return r;t=t.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),H=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),Se=Symbol.for("react.memo_cache_sentinel"),Qe=Symbol.iterator;function qe(t){return t===null||typeof t!="object"?null:(t=Qe&&t[Qe]||t["@@iterator"],typeof t=="function"?t:null)}var zt=Symbol.for("react.client.reference");function Zn(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===zt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case U:return"Profiler";case x:return"StrictMode";case q:return"Suspense";case J:return"SuspenseList";case X:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case H:return(t.displayName||"Context")+".Provider";case j:return(t._context.displayName||"Context")+".Consumer";case F:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return r=t.displayName||null,r!==null?r:Zn(t.type)||"Memo";case ue:r=t._payload,t=t._init;try{return Zn(t(r))}catch{}}return null}var dt=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},De=[],b=-1;function B(t){return{current:t}}function Q(t){0>b||(t.current=De[b],De[b]=null,b--)}function Y(t,r){b++,De[b]=t.current,t.current=r}var ee=B(null),ye=B(null),le=B(null),Rt=B(null);function Le(t,r){switch(Y(le,r),Y(ye,t),Y(ee,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?ly(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=ly(r),t=oy(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ee),Y(ee,t)}function Jn(){Q(ee),Q(ye),Q(le)}function sc(t){t.memoizedState!==null&&Y(Rt,t);var r=ee.current,a=oy(r,t.type);r!==a&&(Y(ye,t),Y(ee,a))}function Al(t){ye.current===t&&(Q(ee),Q(ye)),Rt.current===t&&(Q(Rt),Ra._currentValue=ie)}var ac=Object.prototype.hasOwnProperty,lc=n.unstable_scheduleCallback,oc=n.unstable_cancelCallback,gb=n.unstable_shouldYield,_b=n.unstable_requestPaint,cn=n.unstable_now,yb=n.unstable_getCurrentPriorityLevel,jp=n.unstable_ImmediatePriority,Vp=n.unstable_UserBlockingPriority,Nl=n.unstable_NormalPriority,vb=n.unstable_LowPriority,qp=n.unstable_IdlePriority,Eb=n.log,Sb=n.unstable_setDisableYieldValue,ks=null,At=null;function ei(t){if(typeof Eb=="function"&&Sb(t),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(ks,t)}catch{}}var Nt=Math.clz32?Math.clz32:Tb,bb=Math.log,Cb=Math.LN2;function Tb(t){return t>>>=0,t===0?32:31-(bb(t)/Cb|0)|0}var Ol=256,Dl=4194304;function ji(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Il(t,r,a){var o=t.pendingLanes;if(o===0)return 0;var c=0,d=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var y=o&134217727;return y!==0?(o=y&~d,o!==0?c=ji(o):(g&=y,g!==0?c=ji(g):a||(a=y&~t,a!==0&&(c=ji(a))))):(y=o&~d,y!==0?c=ji(y):g!==0?c=ji(g):a||(a=o&~t,a!==0&&(c=ji(a)))),c===0?0:r!==0&&r!==c&&(r&d)===0&&(d=c&-c,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:c}function Ls(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function wb(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gp(){var t=Ol;return Ol<<=1,(Ol&4194048)===0&&(Ol=256),t}function Fp(){var t=Dl;return Dl<<=1,(Dl&62914560)===0&&(Dl=4194304),t}function uc(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Us(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rb(t,r,a,o,c,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var y=t.entanglements,S=t.expirationTimes,N=t.hiddenUpdates;for(a=g&~a;0<a;){var k=31-Nt(a),z=1<<k;y[k]=0,S[k]=-1;var O=N[k];if(O!==null)for(N[k]=null,k=0;k<O.length;k++){var D=O[k];D!==null&&(D.lane&=-536870913)}a&=~z}o!==0&&Yp(t,o,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~r))}function Yp(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-Nt(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function Kp(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var o=31-Nt(a),c=1<<o;c&r|t[o]&r&&(t[o]|=r),a&=~c}}function cc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qp(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Ay(t.type))}function Ab(t,r){var a=K.p;try{return K.p=t,r()}finally{K.p=a}}var ti=Math.random().toString(36).slice(2),ht="__reactFiber$"+ti,Et="__reactProps$"+ti,Sr="__reactContainer$"+ti,dc="__reactEvents$"+ti,Nb="__reactListeners$"+ti,Ob="__reactHandles$"+ti,Wp="__reactResources$"+ti,Ps="__reactMarker$"+ti;function hc(t){delete t[ht],delete t[Et],delete t[dc],delete t[Nb],delete t[Ob]}function br(t){var r=t[ht];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Sr]||a[ht]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=dy(t);t!==null;){if(a=t[ht])return a;t=dy(t)}return r}t=a,a=t.parentNode}return null}function Cr(t){if(t=t[ht]||t[Sr]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function zs(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Tr(t){var r=t[Wp];return r||(r=t[Wp]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Je(t){t[Ps]=!0}var Xp=new Set,$p={};function Vi(t,r){wr(t,r),wr(t+"Capture",r)}function wr(t,r){for($p[t]=r,t=0;t<r.length;t++)Xp.add(r[t])}var Db=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zp={},Jp={};function Ib(t){return ac.call(Jp,t)?!0:ac.call(Zp,t)?!1:Db.test(t)?Jp[t]=!0:(Zp[t]=!0,!1)}function Ml(t,r,a){if(Ib(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function xl(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function bn(t,r,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+o)}}var pc,em;function Rr(t){if(pc===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);pc=r&&r[1]||"",em=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pc+t+em}var mc=!1;function gc(t,r){if(!t||mc)return"";mc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(D){var O=D}Reflect.construct(t,[],z)}else{try{z.call()}catch(D){O=D}t.call(z.prototype)}}else{try{throw Error()}catch(D){O=D}(z=t())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(D){if(D&&O&&typeof D.stack=="string")return[D.stack,O.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),g=d[0],y=d[1];if(g&&y){var S=g.split(`
`),N=y.split(`
`);for(c=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(o===S.length||c===N.length)for(o=S.length-1,c=N.length-1;1<=o&&0<=c&&S[o]!==N[c];)c--;for(;1<=o&&0<=c;o--,c--)if(S[o]!==N[c]){if(o!==1||c!==1)do if(o--,c--,0>c||S[o]!==N[c]){var k=`
`+S[o].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=o&&0<=c);break}}}finally{mc=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rr(a):""}function Mb(t){switch(t.tag){case 26:case 27:case 5:return Rr(t.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 15:return gc(t.type,!1);case 11:return gc(t.type.render,!1);case 1:return gc(t.type,!0);case 31:return Rr("Activity");default:return""}}function tm(t){try{var r="";do r+=Mb(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nm(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function xb(t){var r=nm(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,d.call(this,g)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function kl(t){t._valueTracker||(t._valueTracker=xb(t))}function im(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return t&&(o=nm(t)?t.checked?"true":"false":t.value),t=o,t!==a?(r.setValue(t),!0):!1}function Ll(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kb=/[\n"\\]/g;function Bt(t){return t.replace(kb,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _c(t,r,a,o,c,d,g,y){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),r!=null?g==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ht(r)):t.value!==""+Ht(r)&&(t.value=""+Ht(r)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),r!=null?yc(t,g,Ht(r)):a!=null?yc(t,g,Ht(a)):o!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.name=""+Ht(y):t.removeAttribute("name")}function rm(t,r,a,o,c,d,g,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Ht(a):"",r=r!=null?""+Ht(r):a,y||r===t.value||(t.value=r),t.defaultValue=r}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=y?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function yc(t,r,a){r==="number"&&Ll(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ar(t,r,a,o){if(t=t.options,r){r={};for(var c=0;c<a.length;c++)r["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=r.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),r=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}r!==null||t[c].disabled||(r=t[c])}r!==null&&(r.selected=!0)}}function sm(t,r,a){if(r!=null&&(r=""+Ht(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Ht(a):""}function am(t,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(s(92));if(dt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=Ht(r),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Nr(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Lb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lm(t,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,a):typeof a!="number"||a===0||Lb.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function om(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in r)o=r[c],r.hasOwnProperty(c)&&a[c]!==o&&lm(t,c,o)}else for(var d in r)r.hasOwnProperty(d)&&lm(t,d,r[d])}function vc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ub=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ul(t){return Pb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ec=null;function Sc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Or=null,Dr=null;function um(t){var r=Cr(t);if(r&&(t=r.stateNode)){var a=t[Et]||null;e:switch(t=r.stateNode,r.type){case"input":if(_c(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Bt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==t&&o.form===t.form){var c=o[Et]||null;if(!c)throw Error(s(90));_c(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===t.form&&im(o)}break e;case"textarea":sm(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ar(t,!!a.multiple,r,!1)}}}var bc=!1;function cm(t,r,a){if(bc)return t(r,a);bc=!0;try{var o=t(r);return o}finally{if(bc=!1,(Or!==null||Dr!==null)&&(bo(),Or&&(r=Or,t=Dr,Dr=Or=null,um(r),t)))for(r=0;r<t.length;r++)um(t[r])}}function Hs(t,r){var a=t.stateNode;if(a===null)return null;var o=a[Et]||null;if(o===null)return null;a=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cc=!1;if(Cn)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){Cc=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{Cc=!1}var ni=null,Tc=null,Pl=null;function fm(){if(Pl)return Pl;var t,r=Tc,a=r.length,o,c="value"in ni?ni.value:ni.textContent,d=c.length;for(t=0;t<a&&r[t]===c[t];t++);var g=a-t;for(o=1;o<=g&&r[a-o]===c[d-o];o++);return Pl=c.slice(t,1<o?1-o:void 0)}function zl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Hl(){return!0}function dm(){return!1}function St(t){function r(a,o,c,d,g){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(a=t[y],this[y]=a?a(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hl:dm,this.isPropagationStopped=dm,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),r}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=St(qi),js=_({},qi,{view:0,detail:0}),zb=St(js),wc,Rc,Vs,jl=_({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vs&&(Vs&&t.type==="mousemove"?(wc=t.screenX-Vs.screenX,Rc=t.screenY-Vs.screenY):Rc=wc=0,Vs=t),wc)},movementY:function(t){return"movementY"in t?t.movementY:Rc}}),hm=St(jl),Hb=_({},jl,{dataTransfer:0}),Bb=St(Hb),jb=_({},js,{relatedTarget:0}),Ac=St(jb),Vb=_({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),qb=St(Vb),Gb=_({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fb=St(Gb),Yb=_({},qi,{data:0}),pm=St(Yb),Kb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xb(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Wb[t])?!!r[t]:!1}function Nc(){return Xb}var $b=_({},js,{key:function(t){if(t.key){var r=Kb[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=zl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nc,charCode:function(t){return t.type==="keypress"?zl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zb=St($b),Jb=_({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mm=St(Jb),eC=_({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nc}),tC=St(eC),nC=_({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),iC=St(nC),rC=_({},jl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sC=St(rC),aC=_({},qi,{newState:0,oldState:0}),lC=St(aC),oC=[9,13,27,32],Oc=Cn&&"CompositionEvent"in window,qs=null;Cn&&"documentMode"in document&&(qs=document.documentMode);var uC=Cn&&"TextEvent"in window&&!qs,gm=Cn&&(!Oc||qs&&8<qs&&11>=qs),_m=" ",ym=!1;function vm(t,r){switch(t){case"keyup":return oC.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Em(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ir=!1;function cC(t,r){switch(t){case"compositionend":return Em(r);case"keypress":return r.which!==32?null:(ym=!0,_m);case"textInput":return t=r.data,t===_m&&ym?null:t;default:return null}}function fC(t,r){if(Ir)return t==="compositionend"||!Oc&&vm(t,r)?(t=fm(),Pl=Tc=ni=null,Ir=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return gm&&r.locale!=="ko"?null:r.data;default:return null}}var dC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sm(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!dC[t.type]:r==="textarea"}function bm(t,r,a,o){Or?Dr?Dr.push(o):Dr=[o]:Or=o,r=No(r,"onChange"),0<r.length&&(a=new Bl("onChange","change",null,a,o),t.push({event:a,listeners:r}))}var Gs=null,Fs=null;function hC(t){ny(t,0)}function Vl(t){var r=zs(t);if(im(r))return t}function Cm(t,r){if(t==="change")return r}var Tm=!1;if(Cn){var Dc;if(Cn){var Ic="oninput"in document;if(!Ic){var wm=document.createElement("div");wm.setAttribute("oninput","return;"),Ic=typeof wm.oninput=="function"}Dc=Ic}else Dc=!1;Tm=Dc&&(!document.documentMode||9<document.documentMode)}function Rm(){Gs&&(Gs.detachEvent("onpropertychange",Am),Fs=Gs=null)}function Am(t){if(t.propertyName==="value"&&Vl(Fs)){var r=[];bm(r,Fs,t,Sc(t)),cm(hC,r)}}function pC(t,r,a){t==="focusin"?(Rm(),Gs=r,Fs=a,Gs.attachEvent("onpropertychange",Am)):t==="focusout"&&Rm()}function mC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vl(Fs)}function gC(t,r){if(t==="click")return Vl(r)}function _C(t,r){if(t==="input"||t==="change")return Vl(r)}function yC(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Ot=typeof Object.is=="function"?Object.is:yC;function Ys(t,r){if(Ot(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!ac.call(r,c)||!Ot(t[c],r[c]))return!1}return!0}function Nm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Om(t,r){var a=Nm(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=r&&o>=r)return{node:a,offset:r-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Nm(a)}}function Dm(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Dm(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Im(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ll(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ll(t.document)}return r}function Mc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var vC=Cn&&"documentMode"in document&&11>=document.documentMode,Mr=null,xc=null,Ks=null,kc=!1;function Mm(t,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kc||Mr==null||Mr!==Ll(o)||(o=Mr,"selectionStart"in o&&Mc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ks&&Ys(Ks,o)||(Ks=o,o=No(xc,"onSelect"),0<o.length&&(r=new Bl("onSelect","select",null,r,a),t.push({event:r,listeners:o}),r.target=Mr)))}function Gi(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var xr={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},Lc={},xm={};Cn&&(xm=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function Fi(t){if(Lc[t])return Lc[t];if(!xr[t])return t;var r=xr[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in xm)return Lc[t]=r[a];return t}var km=Fi("animationend"),Lm=Fi("animationiteration"),Um=Fi("animationstart"),EC=Fi("transitionrun"),SC=Fi("transitionstart"),bC=Fi("transitioncancel"),Pm=Fi("transitionend"),zm=new Map,Uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uc.push("scrollEnd");function $t(t,r){zm.set(t,r),Vi(r,[t])}var Hm=new WeakMap;function jt(t,r){if(typeof t=="object"&&t!==null){var a=Hm.get(t);return a!==void 0?a:(r={value:t,source:r,stack:tm(r)},Hm.set(t,r),r)}return{value:t,source:r,stack:tm(r)}}var Vt=[],kr=0,Pc=0;function ql(){for(var t=kr,r=Pc=kr=0;r<t;){var a=Vt[r];Vt[r++]=null;var o=Vt[r];Vt[r++]=null;var c=Vt[r];Vt[r++]=null;var d=Vt[r];if(Vt[r++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}d!==0&&Bm(a,c,d)}}function Gl(t,r,a,o){Vt[kr++]=t,Vt[kr++]=r,Vt[kr++]=a,Vt[kr++]=o,Pc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function zc(t,r,a,o){return Gl(t,r,a,o),Fl(t)}function Lr(t,r){return Gl(t,null,null,r),Fl(t)}function Bm(t,r,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var c=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,c&&r!==null&&(c=31-Nt(a),t=d.hiddenUpdates,o=t[c],o===null?t[c]=[r]:o.push(r),r.lane=a|536870912),d):null}function Fl(t){if(50<ya)throw ya=0,Ff=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ur={};function CC(t,r,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,r,a,o){return new CC(t,r,a,o)}function Hc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tn(t,r){var a=t.alternate;return a===null?(a=Dt(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jm(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Yl(t,r,a,o,c,d){var g=0;if(o=t,typeof t=="function")Hc(t)&&(g=1);else if(typeof t=="string")g=wT(t,a,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case X:return t=Dt(31,a,r,c),t.elementType=X,t.lanes=d,t;case T:return Yi(a.children,c,d,r);case x:g=8,c|=24;break;case U:return t=Dt(12,a,r,c|2),t.elementType=U,t.lanes=d,t;case q:return t=Dt(13,a,r,c),t.elementType=q,t.lanes=d,t;case J:return t=Dt(19,a,r,c),t.elementType=J,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:case H:g=10;break e;case j:g=9;break e;case F:g=11;break e;case $:g=14;break e;case ue:g=16,o=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return r=Dt(g,a,r,c),r.elementType=t,r.type=o,r.lanes=d,r}function Yi(t,r,a,o){return t=Dt(7,t,o,r),t.lanes=a,t}function Bc(t,r,a){return t=Dt(6,t,null,r),t.lanes=a,t}function jc(t,r,a){return r=Dt(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Pr=[],zr=0,Kl=null,Ql=0,qt=[],Gt=0,Ki=null,wn=1,Rn="";function Qi(t,r){Pr[zr++]=Ql,Pr[zr++]=Kl,Kl=t,Ql=r}function Vm(t,r,a){qt[Gt++]=wn,qt[Gt++]=Rn,qt[Gt++]=Ki,Ki=t;var o=wn;t=Rn;var c=32-Nt(o)-1;o&=~(1<<c),a+=1;var d=32-Nt(r)+c;if(30<d){var g=c-c%5;d=(o&(1<<g)-1).toString(32),o>>=g,c-=g,wn=1<<32-Nt(r)+c|a<<c|o,Rn=d+t}else wn=1<<d|a<<c|o,Rn=t}function Vc(t){t.return!==null&&(Qi(t,1),Vm(t,1,0))}function qc(t){for(;t===Kl;)Kl=Pr[--zr],Pr[zr]=null,Ql=Pr[--zr],Pr[zr]=null;for(;t===Ki;)Ki=qt[--Gt],qt[Gt]=null,Rn=qt[--Gt],qt[Gt]=null,wn=qt[--Gt],qt[Gt]=null}var gt=null,He=null,be=!1,Wi=null,fn=!1,Gc=Error(s(519));function Xi(t){var r=Error(s(418,""));throw Xs(jt(r,t)),Gc}function qm(t){var r=t.stateNode,a=t.type,o=t.memoizedProps;switch(r[ht]=t,r[Et]=o,a){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(a=0;a<Ea.length;a++)me(Ea[a],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":me("invalid",r),rm(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),kl(r);break;case"select":me("invalid",r);break;case"textarea":me("invalid",r),am(r,o.value,o.defaultValue,o.children),kl(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||ay(r.textContent,a)?(o.popover!=null&&(me("beforetoggle",r),me("toggle",r)),o.onScroll!=null&&me("scroll",r),o.onScrollEnd!=null&&me("scrollend",r),o.onClick!=null&&(r.onclick=Oo),r=!0):r=!1,r||Xi(t)}function Gm(t){for(gt=t.return;gt;)switch(gt.tag){case 5:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:gt=gt.return}}function Qs(t){if(t!==gt)return!1;if(!be)return Gm(t),be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ld(t.type,t.memoizedProps)),a=!a),a&&He&&Xi(t),Gm(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){He=Jt(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}He=null}}else r===27?(r=He,yi(t.type)?(t=fd,fd=null,He=t):He=r):He=gt?Jt(t.stateNode.nextSibling):null;return!0}function Ws(){He=gt=null,be=!1}function Fm(){var t=Wi;return t!==null&&(Tt===null?Tt=t:Tt.push.apply(Tt,t),Wi=null),t}function Xs(t){Wi===null?Wi=[t]:Wi.push(t)}var Fc=B(null),$i=null,An=null;function ii(t,r,a){Y(Fc,r._currentValue),r._currentValue=a}function Nn(t){t._currentValue=Fc.current,Q(Fc)}function Yc(t,r,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===a)break;t=t.return}}function Kc(t,r,a,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=c;for(var S=0;S<r.length;S++)if(y.context===r[S]){d.lanes|=a,y=d.alternate,y!==null&&(y.lanes|=a),Yc(d.return,a,t),o||(g=null);break e}d=y.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),Yc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function $s(t,r,a,o){t=null;for(var c=r,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var y=c.type;Ot(c.pendingProps.value,g.value)||(t!==null?t.push(y):t=[y])}}else if(c===Rt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ra):t=[Ra])}c=c.return}t!==null&&Kc(r,t,a,o),r.flags|=262144}function Wl(t){for(t=t.firstContext;t!==null;){if(!Ot(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zi(t){$i=t,An=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pt(t){return Ym($i,t)}function Xl(t,r){return $i===null&&Zi(t),Ym(t,r)}function Ym(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},An===null){if(t===null)throw Error(s(308));An=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else An=An.next=r;return a}var TC=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},wC=n.unstable_scheduleCallback,RC=n.unstable_NormalPriority,We={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qc(){return{controller:new TC,data:new Map,refCount:0}}function Zs(t){t.refCount--,t.refCount===0&&wC(RC,function(){t.controller.abort()})}var Js=null,Wc=0,Hr=0,Br=null;function AC(t,r){if(Js===null){var a=Js=[];Wc=0,Hr=Zf(),Br={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Wc++,r.then(Km,Km),r}function Km(){if(--Wc===0&&Js!==null){Br!==null&&(Br.status="fulfilled");var t=Js;Js=null,Hr=0,Br=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function NC(t,r){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var c=0;c<a.length;c++)(0,a[c])(r)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var Qm=L.S;L.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&AC(t,r),Qm!==null&&Qm(t,r)};var Ji=B(null);function Xc(){var t=Ji.current;return t!==null?t:Me.pooledCache}function $l(t,r){r===null?Y(Ji,Ji.current):Y(Ji,r.pool)}function Wm(){var t=Xc();return t===null?null:{parent:We._currentValue,pool:t}}var ea=Error(s(460)),Xm=Error(s(474)),Zl=Error(s(542)),$c={then:function(){}};function $m(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jl(){}function Zm(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Jl,Jl),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,eg(t),t;default:if(typeof r.status=="string")r.then(Jl,Jl);else{if(t=Me,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var c=r;c.status="fulfilled",c.value=o}},function(o){if(r.status==="pending"){var c=r;c.status="rejected",c.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,eg(t),t}throw ta=r,ea}}var ta=null;function Jm(){if(ta===null)throw Error(s(459));var t=ta;return ta=null,t}function eg(t){if(t===ea||t===Zl)throw Error(s(483))}var ri=!1;function Zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jc(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ai(t,r,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ce&2)!==0){var c=o.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),o.pending=r,r=Fl(t),Bm(t,null,a),r}return Gl(t,o,r,a),Fl(t)}function na(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,Kp(t,a)}}function ef(t,r){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?c=d=r:d=d.next=r}else c=d=r;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var tf=!1;function ia(){if(tf){var t=Br;if(t!==null)throw t}}function ra(t,r,a,o){tf=!1;var c=t.updateQueue;ri=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var S=y,N=S.next;S.next=null,g===null?d=N:g.next=N,g=S;var k=t.alternate;k!==null&&(k=k.updateQueue,y=k.lastBaseUpdate,y!==g&&(y===null?k.firstBaseUpdate=N:y.next=N,k.lastBaseUpdate=S))}if(d!==null){var z=c.baseState;g=0,k=N=S=null,y=d;do{var O=y.lane&-536870913,D=O!==y.lane;if(D?(_e&O)===O:(o&O)===O){O!==0&&O===Hr&&(tf=!0),k!==null&&(k=k.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ae=t,te=y;O=r;var Ae=a;switch(te.tag){case 1:if(ae=te.payload,typeof ae=="function"){z=ae.call(Ae,z,O);break e}z=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=te.payload,O=typeof ae=="function"?ae.call(Ae,z,O):ae,O==null)break e;z=_({},z,O);break e;case 2:ri=!0}}O=y.callback,O!==null&&(t.flags|=64,D&&(t.flags|=8192),D=c.callbacks,D===null?c.callbacks=[O]:D.push(O))}else D={lane:O,tag:y.tag,payload:y.payload,callback:y.callback,next:null},k===null?(N=k=D,S=z):k=k.next=D,g|=O;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;D=y,y=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);k===null&&(S=z),c.baseState=S,c.firstBaseUpdate=N,c.lastBaseUpdate=k,d===null&&(c.shared.lanes=0),pi|=g,t.lanes=g,t.memoizedState=z}}function tg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function ng(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)tg(a[t],r)}var jr=B(null),eo=B(0);function ig(t,r){t=Ln,Y(eo,t),Y(jr,r),Ln=t|r.baseLanes}function nf(){Y(eo,Ln),Y(jr,jr.current)}function rf(){Ln=eo.current,Q(jr),Q(eo)}var li=0,ce=null,we=null,Ye=null,to=!1,Vr=!1,er=!1,no=0,sa=0,qr=null,OC=0;function Ge(){throw Error(s(321))}function sf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Ot(t[a],r[a]))return!1;return!0}function af(t,r,a,o,c,d){return li=d,ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,L.H=t===null||t.memoizedState===null?Bg:jg,er=!1,d=a(o,c),er=!1,Vr&&(d=sg(r,a,o,c)),rg(t),d}function rg(t){L.H=oo;var r=we!==null&&we.next!==null;if(li=0,Ye=we=ce=null,to=!1,sa=0,qr=null,r)throw Error(s(300));t===null||et||(t=t.dependencies,t!==null&&Wl(t)&&(et=!0))}function sg(t,r,a,o){ce=t;var c=0;do{if(Vr&&(qr=null),sa=0,Vr=!1,25<=c)throw Error(s(301));if(c+=1,Ye=we=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}L.H=UC,d=r(a,o)}while(Vr);return d}function DC(){var t=L.H,r=t.useState()[0];return r=typeof r.then=="function"?aa(r):r,t=t.useState()[0],(we!==null?we.memoizedState:null)!==t&&(ce.flags|=1024),r}function lf(){var t=no!==0;return no=0,t}function of(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function uf(t){if(to){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}to=!1}li=0,Ye=we=ce=null,Vr=!1,sa=no=0,qr=null}function bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ce.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Ke(){if(we===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var r=Ye===null?ce.memoizedState:Ye.next;if(r!==null)Ye=r,we=t;else{if(t===null)throw ce.alternate===null?Error(s(467)):Error(s(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ye===null?ce.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function aa(t){var r=sa;return sa+=1,qr===null&&(qr=[]),t=Zm(qr,t,r),r=ce,(Ye===null?r.memoizedState:Ye.next)===null&&(r=r.alternate,L.H=r===null||r.memoizedState===null?Bg:jg),t}function io(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return aa(t);if(t.$$typeof===H)return pt(t)}throw Error(s(438,String(t)))}function ff(t){var r=null,a=ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(c){return c.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=cf(),ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),o=0;o<t;o++)a[o]=Se;return r.index++,a}function On(t,r){return typeof r=="function"?r(t):r}function ro(t){var r=Ke();return df(r,we,t)}function df(t,r,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var c=t.baseQueue,d=o.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}r.baseQueue=c=d,o.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{r=c.next;var y=g=null,S=null,N=r,k=!1;do{var z=N.lane&-536870913;if(z!==N.lane?(_e&z)===z:(li&z)===z){var O=N.revertLane;if(O===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),z===Hr&&(k=!0);else if((li&O)===O){N=N.next,O===Hr&&(k=!0);continue}else z={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(y=S=z,g=d):S=S.next=z,ce.lanes|=O,pi|=O;z=N.action,er&&a(d,z),d=N.hasEagerState?N.eagerState:a(d,z)}else O={lane:z,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(y=S=O,g=d):S=S.next=O,ce.lanes|=z,pi|=z;N=N.next}while(N!==null&&N!==r);if(S===null?g=d:S.next=y,!Ot(d,t.memoizedState)&&(et=!0,k&&(a=Br,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=S,o.lastRenderedState=d}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function hf(t){var r=Ke(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,c=a.pending,d=r.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do d=t(d,g.action),g=g.next;while(g!==c);Ot(d,r.memoizedState)||(et=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,o]}function ag(t,r,a){var o=ce,c=Ke(),d=be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var g=!Ot((we||c).memoizedState,a);g&&(c.memoizedState=a,et=!0),c=c.queue;var y=ug.bind(null,o,c,t);if(la(2048,8,y,[t]),c.getSnapshot!==r||g||Ye!==null&&Ye.memoizedState.tag&1){if(o.flags|=2048,Gr(9,so(),og.bind(null,o,c,a,r),null),Me===null)throw Error(s(349));d||(li&124)!==0||lg(o,r,a)}return a}function lg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=ce.updateQueue,r===null?(r=cf(),ce.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function og(t,r,a,o){r.value=a,r.getSnapshot=o,cg(r)&&fg(t)}function ug(t,r,a){return a(function(){cg(r)&&fg(t)})}function cg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Ot(t,a)}catch{return!0}}function fg(t){var r=Lr(t,2);r!==null&&Lt(r,t,2)}function pf(t){var r=bt();if(typeof t=="function"){var a=t;if(t=a(),er){ei(!0);try{a()}finally{ei(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:t},r}function dg(t,r,a,o){return t.baseState=a,df(t,we,typeof o=="function"?o:On)}function IC(t,r,a,o,c){if(lo(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};L.T!==null?a(!0):d.isTransition=!1,o(d),a=r.pending,a===null?(d.next=r.pending=d,hg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function hg(t,r){var a=r.action,o=r.payload,c=t.state;if(r.isTransition){var d=L.T,g={};L.T=g;try{var y=a(c,o),S=L.S;S!==null&&S(g,y),pg(t,r,y)}catch(N){mf(t,r,N)}finally{L.T=d}}else try{d=a(c,o),pg(t,r,d)}catch(N){mf(t,r,N)}}function pg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){mg(t,r,o)},function(o){return mf(t,r,o)}):mg(t,r,a)}function mg(t,r,a){r.status="fulfilled",r.value=a,gg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,hg(t,a)))}function mf(t,r,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,gg(r),r=r.next;while(r!==o)}t.action=null}function gg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function _g(t,r){return r}function yg(t,r){if(be){var a=Me.formState;if(a!==null){e:{var o=ce;if(be){if(He){t:{for(var c=He,d=fn;c.nodeType!==8;){if(!d){c=null;break t}if(c=Jt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){He=Jt(c.nextSibling),o=c.data==="F!";break e}}Xi(o)}o=!1}o&&(r=a[0])}}return a=bt(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:r},a.queue=o,a=Pg.bind(null,ce,o),o.dispatch=a,o=pf(!1),d=Ef.bind(null,ce,!1,o.queue),o=bt(),c={state:r,dispatch:null,action:t,pending:null},o.queue=c,a=IC.bind(null,ce,c,d,a),c.dispatch=a,o.memoizedState=t,[r,a,!1]}function vg(t){var r=Ke();return Eg(r,we,t)}function Eg(t,r,a){if(r=df(t,r,_g)[0],t=ro(On)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=aa(r)}catch(g){throw g===ea?Zl:g}else o=r;r=Ke();var c=r.queue,d=c.dispatch;return a!==r.memoizedState&&(ce.flags|=2048,Gr(9,so(),MC.bind(null,c,a),null)),[o,d,t]}function MC(t,r){t.action=r}function Sg(t){var r=Ke(),a=we;if(a!==null)return Eg(r,a,t);Ke(),r=r.memoizedState,a=Ke();var o=a.queue.dispatch;return a.memoizedState=t,[r,o,!1]}function Gr(t,r,a,o){return t={tag:t,create:a,deps:o,inst:r,next:null},r=ce.updateQueue,r===null&&(r=cf(),ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,r.lastEffect=t),t}function so(){return{destroy:void 0,resource:void 0}}function bg(){return Ke().memoizedState}function ao(t,r,a,o){var c=bt();o=o===void 0?null:o,ce.flags|=t,c.memoizedState=Gr(1|r,so(),a,o)}function la(t,r,a,o){var c=Ke();o=o===void 0?null:o;var d=c.memoizedState.inst;we!==null&&o!==null&&sf(o,we.memoizedState.deps)?c.memoizedState=Gr(r,d,a,o):(ce.flags|=t,c.memoizedState=Gr(1|r,d,a,o))}function Cg(t,r){ao(8390656,8,t,r)}function Tg(t,r){la(2048,8,t,r)}function wg(t,r){return la(4,2,t,r)}function Rg(t,r){return la(4,4,t,r)}function Ag(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ng(t,r,a){a=a!=null?a.concat([t]):null,la(4,4,Ag.bind(null,r,t),a)}function gf(){}function Og(t,r){var a=Ke();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&sf(r,o[1])?o[0]:(a.memoizedState=[t,r],t)}function Dg(t,r){var a=Ke();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&sf(r,o[1]))return o[0];if(o=t(),er){ei(!0);try{t()}finally{ei(!1)}}return a.memoizedState=[o,r],o}function _f(t,r,a){return a===void 0||(li&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=x_(),ce.lanes|=t,pi|=t,a)}function Ig(t,r,a,o){return Ot(a,r)?a:jr.current!==null?(t=_f(t,a,o),Ot(t,r)||(et=!0),t):(li&42)===0?(et=!0,t.memoizedState=a):(t=x_(),ce.lanes|=t,pi|=t,r)}function Mg(t,r,a,o,c){var d=K.p;K.p=d!==0&&8>d?d:8;var g=L.T,y={};L.T=y,Ef(t,!1,r,a);try{var S=c(),N=L.S;if(N!==null&&N(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var k=NC(S,o);oa(t,r,k,kt(t))}else oa(t,r,o,kt(t))}catch(z){oa(t,r,{then:function(){},status:"rejected",reason:z},kt())}finally{K.p=d,L.T=g}}function xC(){}function yf(t,r,a,o){if(t.tag!==5)throw Error(s(476));var c=xg(t).queue;Mg(t,c,r,ie,a===null?xC:function(){return kg(t),a(o)})}function xg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:ie},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function kg(t){var r=xg(t).next.queue;oa(t,r,{},kt())}function vf(){return pt(Ra)}function Lg(){return Ke().memoizedState}function Ug(){return Ke().memoizedState}function kC(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=kt();t=si(a);var o=ai(r,t,a);o!==null&&(Lt(o,r,a),na(o,r,a)),r={cache:Qc()},t.payload=r;return}r=r.return}}function LC(t,r,a){var o=kt();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lo(t)?zg(r,a):(a=zc(t,r,a,o),a!==null&&(Lt(a,t,o),Hg(a,r,o)))}function Pg(t,r,a){var o=kt();oa(t,r,a,o)}function oa(t,r,a,o){var c={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lo(t))zg(r,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var g=r.lastRenderedState,y=d(g,a);if(c.hasEagerState=!0,c.eagerState=y,Ot(y,g))return Gl(t,r,c,0),Me===null&&ql(),!1}catch{}finally{}if(a=zc(t,r,c,o),a!==null)return Lt(a,t,o),Hg(a,r,o),!0}return!1}function Ef(t,r,a,o){if(o={lane:2,revertLane:Zf(),action:o,hasEagerState:!1,eagerState:null,next:null},lo(t)){if(r)throw Error(s(479))}else r=zc(t,a,o,2),r!==null&&Lt(r,t,2)}function lo(t){var r=t.alternate;return t===ce||r!==null&&r===ce}function zg(t,r){Vr=to=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Hg(t,r,a){if((a&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,Kp(t,a)}}var oo={readContext:pt,use:io,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge},Bg={readContext:pt,use:io,useCallback:function(t,r){return bt().memoizedState=[t,r===void 0?null:r],t},useContext:pt,useEffect:Cg,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,ao(4194308,4,Ag.bind(null,r,t),a)},useLayoutEffect:function(t,r){return ao(4194308,4,t,r)},useInsertionEffect:function(t,r){ao(4,2,t,r)},useMemo:function(t,r){var a=bt();r=r===void 0?null:r;var o=t();if(er){ei(!0);try{t()}finally{ei(!1)}}return a.memoizedState=[o,r],o},useReducer:function(t,r,a){var o=bt();if(a!==void 0){var c=a(r);if(er){ei(!0);try{a(r)}finally{ei(!1)}}}else c=r;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=LC.bind(null,ce,t),[o.memoizedState,t]},useRef:function(t){var r=bt();return t={current:t},r.memoizedState=t},useState:function(t){t=pf(t);var r=t.queue,a=Pg.bind(null,ce,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:gf,useDeferredValue:function(t,r){var a=bt();return _f(a,t,r)},useTransition:function(){var t=pf(!1);return t=Mg.bind(null,ce,t.queue,!0,!1),bt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var o=ce,c=bt();if(be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Me===null)throw Error(s(349));(_e&124)!==0||lg(o,r,a)}c.memoizedState=a;var d={value:a,getSnapshot:r};return c.queue=d,Cg(ug.bind(null,o,d,t),[t]),o.flags|=2048,Gr(9,so(),og.bind(null,o,d,a,r),null),a},useId:function(){var t=bt(),r=Me.identifierPrefix;if(be){var a=Rn,o=wn;a=(o&~(1<<32-Nt(o)-1)).toString(32)+a,r="«"+r+"R"+a,a=no++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=OC++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:vf,useFormState:yg,useActionState:yg,useOptimistic:function(t){var r=bt();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ef.bind(null,ce,!0,a),a.dispatch=r,[t,r]},useMemoCache:ff,useCacheRefresh:function(){return bt().memoizedState=kC.bind(null,ce)}},jg={readContext:pt,use:io,useCallback:Og,useContext:pt,useEffect:Tg,useImperativeHandle:Ng,useInsertionEffect:wg,useLayoutEffect:Rg,useMemo:Dg,useReducer:ro,useRef:bg,useState:function(){return ro(On)},useDebugValue:gf,useDeferredValue:function(t,r){var a=Ke();return Ig(a,we.memoizedState,t,r)},useTransition:function(){var t=ro(On)[0],r=Ke().memoizedState;return[typeof t=="boolean"?t:aa(t),r]},useSyncExternalStore:ag,useId:Lg,useHostTransitionStatus:vf,useFormState:vg,useActionState:vg,useOptimistic:function(t,r){var a=Ke();return dg(a,we,t,r)},useMemoCache:ff,useCacheRefresh:Ug},UC={readContext:pt,use:io,useCallback:Og,useContext:pt,useEffect:Tg,useImperativeHandle:Ng,useInsertionEffect:wg,useLayoutEffect:Rg,useMemo:Dg,useReducer:hf,useRef:bg,useState:function(){return hf(On)},useDebugValue:gf,useDeferredValue:function(t,r){var a=Ke();return we===null?_f(a,t,r):Ig(a,we.memoizedState,t,r)},useTransition:function(){var t=hf(On)[0],r=Ke().memoizedState;return[typeof t=="boolean"?t:aa(t),r]},useSyncExternalStore:ag,useId:Lg,useHostTransitionStatus:vf,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,r){var a=Ke();return we!==null?dg(a,we,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ff,useCacheRefresh:Ug},Fr=null,ua=0;function uo(t){var r=ua;return ua+=1,Fr===null&&(Fr=[]),Zm(Fr,t,r)}function ca(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function co(t,r){throw r.$$typeof===E?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Vg(t){var r=t._init;return r(t._payload)}function qg(t){function r(R,C){if(t){var A=R.deletions;A===null?(R.deletions=[C],R.flags|=16):A.push(C)}}function a(R,C){if(!t)return null;for(;C!==null;)r(R,C),C=C.sibling;return null}function o(R){for(var C=new Map;R!==null;)R.key!==null?C.set(R.key,R):C.set(R.index,R),R=R.sibling;return C}function c(R,C){return R=Tn(R,C),R.index=0,R.sibling=null,R}function d(R,C,A){return R.index=A,t?(A=R.alternate,A!==null?(A=A.index,A<C?(R.flags|=67108866,C):A):(R.flags|=67108866,C)):(R.flags|=1048576,C)}function g(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function y(R,C,A,P){return C===null||C.tag!==6?(C=Bc(A,R.mode,P),C.return=R,C):(C=c(C,A),C.return=R,C)}function S(R,C,A,P){var W=A.type;return W===T?k(R,C,A.props.children,P,A.key):C!==null&&(C.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ue&&Vg(W)===C.type)?(C=c(C,A.props),ca(C,A),C.return=R,C):(C=Yl(A.type,A.key,A.props,null,R.mode,P),ca(C,A),C.return=R,C)}function N(R,C,A,P){return C===null||C.tag!==4||C.stateNode.containerInfo!==A.containerInfo||C.stateNode.implementation!==A.implementation?(C=jc(A,R.mode,P),C.return=R,C):(C=c(C,A.children||[]),C.return=R,C)}function k(R,C,A,P,W){return C===null||C.tag!==7?(C=Yi(A,R.mode,P,W),C.return=R,C):(C=c(C,A),C.return=R,C)}function z(R,C,A){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Bc(""+C,R.mode,A),C.return=R,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case v:return A=Yl(C.type,C.key,C.props,null,R.mode,A),ca(A,C),A.return=R,A;case w:return C=jc(C,R.mode,A),C.return=R,C;case ue:var P=C._init;return C=P(C._payload),z(R,C,A)}if(dt(C)||qe(C))return C=Yi(C,R.mode,A,null),C.return=R,C;if(typeof C.then=="function")return z(R,uo(C),A);if(C.$$typeof===H)return z(R,Xl(R,C),A);co(R,C)}return null}function O(R,C,A,P){var W=C!==null?C.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return W!==null?null:y(R,C,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case v:return A.key===W?S(R,C,A,P):null;case w:return A.key===W?N(R,C,A,P):null;case ue:return W=A._init,A=W(A._payload),O(R,C,A,P)}if(dt(A)||qe(A))return W!==null?null:k(R,C,A,P,null);if(typeof A.then=="function")return O(R,C,uo(A),P);if(A.$$typeof===H)return O(R,C,Xl(R,A),P);co(R,A)}return null}function D(R,C,A,P,W){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return R=R.get(A)||null,y(C,R,""+P,W);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return R=R.get(P.key===null?A:P.key)||null,S(C,R,P,W);case w:return R=R.get(P.key===null?A:P.key)||null,N(C,R,P,W);case ue:var fe=P._init;return P=fe(P._payload),D(R,C,A,P,W)}if(dt(P)||qe(P))return R=R.get(A)||null,k(C,R,P,W,null);if(typeof P.then=="function")return D(R,C,A,uo(P),W);if(P.$$typeof===H)return D(R,C,A,Xl(C,P),W);co(C,P)}return null}function ae(R,C,A,P){for(var W=null,fe=null,Z=C,ne=C=0,nt=null;Z!==null&&ne<A.length;ne++){Z.index>ne?(nt=Z,Z=null):nt=Z.sibling;var ve=O(R,Z,A[ne],P);if(ve===null){Z===null&&(Z=nt);break}t&&Z&&ve.alternate===null&&r(R,Z),C=d(ve,C,ne),fe===null?W=ve:fe.sibling=ve,fe=ve,Z=nt}if(ne===A.length)return a(R,Z),be&&Qi(R,ne),W;if(Z===null){for(;ne<A.length;ne++)Z=z(R,A[ne],P),Z!==null&&(C=d(Z,C,ne),fe===null?W=Z:fe.sibling=Z,fe=Z);return be&&Qi(R,ne),W}for(Z=o(Z);ne<A.length;ne++)nt=D(Z,R,ne,A[ne],P),nt!==null&&(t&&nt.alternate!==null&&Z.delete(nt.key===null?ne:nt.key),C=d(nt,C,ne),fe===null?W=nt:fe.sibling=nt,fe=nt);return t&&Z.forEach(function(Ci){return r(R,Ci)}),be&&Qi(R,ne),W}function te(R,C,A,P){if(A==null)throw Error(s(151));for(var W=null,fe=null,Z=C,ne=C=0,nt=null,ve=A.next();Z!==null&&!ve.done;ne++,ve=A.next()){Z.index>ne?(nt=Z,Z=null):nt=Z.sibling;var Ci=O(R,Z,ve.value,P);if(Ci===null){Z===null&&(Z=nt);break}t&&Z&&Ci.alternate===null&&r(R,Z),C=d(Ci,C,ne),fe===null?W=Ci:fe.sibling=Ci,fe=Ci,Z=nt}if(ve.done)return a(R,Z),be&&Qi(R,ne),W;if(Z===null){for(;!ve.done;ne++,ve=A.next())ve=z(R,ve.value,P),ve!==null&&(C=d(ve,C,ne),fe===null?W=ve:fe.sibling=ve,fe=ve);return be&&Qi(R,ne),W}for(Z=o(Z);!ve.done;ne++,ve=A.next())ve=D(Z,R,ne,ve.value,P),ve!==null&&(t&&ve.alternate!==null&&Z.delete(ve.key===null?ne:ve.key),C=d(ve,C,ne),fe===null?W=ve:fe.sibling=ve,fe=ve);return t&&Z.forEach(function(PT){return r(R,PT)}),be&&Qi(R,ne),W}function Ae(R,C,A,P){if(typeof A=="object"&&A!==null&&A.type===T&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case v:e:{for(var W=A.key;C!==null;){if(C.key===W){if(W=A.type,W===T){if(C.tag===7){a(R,C.sibling),P=c(C,A.props.children),P.return=R,R=P;break e}}else if(C.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ue&&Vg(W)===C.type){a(R,C.sibling),P=c(C,A.props),ca(P,A),P.return=R,R=P;break e}a(R,C);break}else r(R,C);C=C.sibling}A.type===T?(P=Yi(A.props.children,R.mode,P,A.key),P.return=R,R=P):(P=Yl(A.type,A.key,A.props,null,R.mode,P),ca(P,A),P.return=R,R=P)}return g(R);case w:e:{for(W=A.key;C!==null;){if(C.key===W)if(C.tag===4&&C.stateNode.containerInfo===A.containerInfo&&C.stateNode.implementation===A.implementation){a(R,C.sibling),P=c(C,A.children||[]),P.return=R,R=P;break e}else{a(R,C);break}else r(R,C);C=C.sibling}P=jc(A,R.mode,P),P.return=R,R=P}return g(R);case ue:return W=A._init,A=W(A._payload),Ae(R,C,A,P)}if(dt(A))return ae(R,C,A,P);if(qe(A)){if(W=qe(A),typeof W!="function")throw Error(s(150));return A=W.call(A),te(R,C,A,P)}if(typeof A.then=="function")return Ae(R,C,uo(A),P);if(A.$$typeof===H)return Ae(R,C,Xl(R,A),P);co(R,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,C!==null&&C.tag===6?(a(R,C.sibling),P=c(C,A),P.return=R,R=P):(a(R,C),P=Bc(A,R.mode,P),P.return=R,R=P),g(R)):a(R,C)}return function(R,C,A,P){try{ua=0;var W=Ae(R,C,A,P);return Fr=null,W}catch(Z){if(Z===ea||Z===Zl)throw Z;var fe=Dt(29,Z,null,R.mode);return fe.lanes=P,fe.return=R,fe}finally{}}}var Yr=qg(!0),Gg=qg(!1),Ft=B(null),dn=null;function oi(t){var r=t.alternate;Y(Xe,Xe.current&1),Y(Ft,t),dn===null&&(r===null||jr.current!==null||r.memoizedState!==null)&&(dn=t)}function Fg(t){if(t.tag===22){if(Y(Xe,Xe.current),Y(Ft,t),dn===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(dn=t)}}else ui()}function ui(){Y(Xe,Xe.current),Y(Ft,Ft.current)}function Dn(t){Q(Ft),dn===t&&(dn=null),Q(Xe)}var Xe=B(0);function fo(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||cd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Sf(t,r,a,o){r=t.memoizedState,a=a(o,r),a=a==null?r:_({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var bf={enqueueSetState:function(t,r,a){t=t._reactInternals;var o=kt(),c=si(o);c.payload=r,a!=null&&(c.callback=a),r=ai(t,c,o),r!==null&&(Lt(r,t,o),na(r,t,o))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var o=kt(),c=si(o);c.tag=1,c.payload=r,a!=null&&(c.callback=a),r=ai(t,c,o),r!==null&&(Lt(r,t,o),na(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=kt(),o=si(a);o.tag=2,r!=null&&(o.callback=r),r=ai(t,o,a),r!==null&&(Lt(r,t,a),na(r,t,a))}};function Yg(t,r,a,o,c,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,g):r.prototype&&r.prototype.isPureReactComponent?!Ys(a,o)||!Ys(c,d):!0}function Kg(t,r,a,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==t&&bf.enqueueReplaceState(r,r.state,null)}function tr(t,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(t=t.defaultProps){a===r&&(a=_({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var ho=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Qg(t){ho(t)}function Wg(t){console.error(t)}function Xg(t){ho(t)}function po(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function $g(t,r,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Cf(t,r,a){return a=si(a),a.tag=3,a.payload={element:null},a.callback=function(){po(t,r)},a}function Zg(t){return t=si(t),t.tag=3,t}function Jg(t,r,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;t.payload=function(){return c(d)},t.callback=function(){$g(r,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){$g(r,a,o),typeof c!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var y=o.stack;this.componentDidCatch(o.value,{componentStack:y!==null?y:""})})}function PC(t,r,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&$s(r,a,c,!0),a=Ft.current,a!==null){switch(a.tag){case 13:return dn===null?Kf():a.alternate===null&&Be===0&&(Be=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===$c?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),Wf(t,o,c)),!1;case 22:return a.flags|=65536,o===$c?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),Wf(t,o,c)),!1}throw Error(s(435,a.tag))}return Wf(t,o,c),Kf(),!1}if(be)return r=Ft.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=c,o!==Gc&&(t=Error(s(422),{cause:o}),Xs(jt(t,a)))):(o!==Gc&&(r=Error(s(423),{cause:o}),Xs(jt(r,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=jt(o,a),c=Cf(t.stateNode,o,c),ef(t,c),Be!==4&&(Be=2)),!1;var d=Error(s(520),{cause:o});if(d=jt(d,a),_a===null?_a=[d]:_a.push(d),Be!==4&&(Be=2),r===null)return!0;o=jt(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Cf(a.stateNode,o,t),ef(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(mi===null||!mi.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Zg(c),Jg(c,t,a,o),ef(a,c),!1}a=a.return}while(a!==null);return!1}var e_=Error(s(461)),et=!1;function st(t,r,a,o){r.child=t===null?Gg(r,null,a,o):Yr(r,t.child,a,o)}function t_(t,r,a,o,c){a=a.render;var d=r.ref;if("ref"in o){var g={};for(var y in o)y!=="ref"&&(g[y]=o[y])}else g=o;return Zi(r),o=af(t,r,a,g,d,c),y=lf(),t!==null&&!et?(of(t,r,c),In(t,r,c)):(be&&y&&Vc(r),r.flags|=1,st(t,r,o,c),r.child)}function n_(t,r,a,o,c){if(t===null){var d=a.type;return typeof d=="function"&&!Hc(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,i_(t,r,d,o,c)):(t=Yl(a.type,null,o,r,r.mode,c),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!If(t,c)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ys,a(g,o)&&t.ref===r.ref)return In(t,r,c)}return r.flags|=1,t=Tn(d,o),t.ref=r.ref,t.return=r,r.child=t}function i_(t,r,a,o,c){if(t!==null){var d=t.memoizedProps;if(Ys(d,o)&&t.ref===r.ref)if(et=!1,r.pendingProps=o=d,If(t,c))(t.flags&131072)!==0&&(et=!0);else return r.lanes=t.lanes,In(t,r,c)}return Tf(t,r,a,o,c)}function r_(t,r,a){var o=r.pendingProps,c=o.children,d=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,t!==null){for(c=r.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;r.childLanes=d&~o}else r.childLanes=0,r.child=null;return s_(t,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&$l(r,d!==null?d.cachePool:null),d!==null?ig(r,d):nf(),Fg(r);else return r.lanes=r.childLanes=536870912,s_(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?($l(r,d.cachePool),ig(r,d),ui(),r.memoizedState=null):(t!==null&&$l(r,null),nf(),ui());return st(t,r,c,a),r.child}function s_(t,r,a,o){var c=Xc();return c=c===null?null:{parent:We._currentValue,pool:c},r.memoizedState={baseLanes:a,cachePool:c},t!==null&&$l(r,null),nf(),Fg(r),t!==null&&$s(t,r,o,!0),null}function mo(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Tf(t,r,a,o,c){return Zi(r),a=af(t,r,a,o,void 0,c),o=lf(),t!==null&&!et?(of(t,r,c),In(t,r,c)):(be&&o&&Vc(r),r.flags|=1,st(t,r,a,c),r.child)}function a_(t,r,a,o,c,d){return Zi(r),r.updateQueue=null,a=sg(r,o,a,c),rg(t),o=lf(),t!==null&&!et?(of(t,r,d),In(t,r,d)):(be&&o&&Vc(r),r.flags|=1,st(t,r,a,d),r.child)}function l_(t,r,a,o,c){if(Zi(r),r.stateNode===null){var d=Ur,g=a.contextType;typeof g=="object"&&g!==null&&(d=pt(g)),d=new a(o,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=o,d.state=r.memoizedState,d.refs={},Zc(r),g=a.contextType,d.context=typeof g=="object"&&g!==null?pt(g):Ur,d.state=r.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Sf(r,a,g,o),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&bf.enqueueReplaceState(d,d.state,null),ra(r,o,d,c),ia(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){d=r.stateNode;var y=r.memoizedProps,S=tr(a,y);d.props=S;var N=d.context,k=a.contextType;g=Ur,typeof k=="object"&&k!==null&&(g=pt(k));var z=a.getDerivedStateFromProps;k=typeof z=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=r.pendingProps!==y,k||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||N!==g)&&Kg(r,d,o,g),ri=!1;var O=r.memoizedState;d.state=O,ra(r,o,d,c),ia(),N=r.memoizedState,y||O!==N||ri?(typeof z=="function"&&(Sf(r,a,z,o),N=r.memoizedState),(S=ri||Yg(r,a,S,o,O,N,g))?(k||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=N),d.props=o,d.state=N,d.context=g,o=S):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{d=r.stateNode,Jc(t,r),g=r.memoizedProps,k=tr(a,g),d.props=k,z=r.pendingProps,O=d.context,N=a.contextType,S=Ur,typeof N=="object"&&N!==null&&(S=pt(N)),y=a.getDerivedStateFromProps,(N=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==z||O!==S)&&Kg(r,d,o,S),ri=!1,O=r.memoizedState,d.state=O,ra(r,o,d,c),ia();var D=r.memoizedState;g!==z||O!==D||ri||t!==null&&t.dependencies!==null&&Wl(t.dependencies)?(typeof y=="function"&&(Sf(r,a,y,o),D=r.memoizedState),(k=ri||Yg(r,a,k,o,O,D,S)||t!==null&&t.dependencies!==null&&Wl(t.dependencies))?(N||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,D,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,D,S)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=D),d.props=o,d.state=D,d.context=S,o=k):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(r.flags|=1024),o=!1)}return d=o,mo(t,r),o=(r.flags&128)!==0,d||o?(d=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&o?(r.child=Yr(r,t.child,null,c),r.child=Yr(r,null,a,c)):st(t,r,a,c),r.memoizedState=d.state,t=r.child):t=In(t,r,c),t}function o_(t,r,a,o){return Ws(),r.flags|=256,st(t,r,a,o),r.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(t){return{baseLanes:t,cachePool:Wm()}}function Af(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Yt),t}function u_(t,r,a){var o=r.pendingProps,c=!1,d=(r.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(Xe.current&2)!==0),g&&(c=!0,r.flags&=-129),g=(r.flags&32)!==0,r.flags&=-33,t===null){if(be){if(c?oi(r):ui(),be){var y=He,S;if(S=y){e:{for(S=y,y=fn;S.nodeType!==8;){if(!y){y=null;break e}if(S=Jt(S.nextSibling),S===null){y=null;break e}}y=S}y!==null?(r.memoizedState={dehydrated:y,treeContext:Ki!==null?{id:wn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},S=Dt(18,null,null,0),S.stateNode=y,S.return=r,r.child=S,gt=r,He=null,S=!0):S=!1}S||Xi(r)}if(y=r.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return cd(y)?r.lanes=32:r.lanes=536870912,null;Dn(r)}return y=o.children,o=o.fallback,c?(ui(),c=r.mode,y=go({mode:"hidden",children:y},c),o=Yi(o,c,a,null),y.return=r,o.return=r,y.sibling=o,r.child=y,c=r.child,c.memoizedState=Rf(a),c.childLanes=Af(t,g,a),r.memoizedState=wf,o):(oi(r),Nf(r,y))}if(S=t.memoizedState,S!==null&&(y=S.dehydrated,y!==null)){if(d)r.flags&256?(oi(r),r.flags&=-257,r=Of(t,r,a)):r.memoizedState!==null?(ui(),r.child=t.child,r.flags|=128,r=null):(ui(),c=o.fallback,y=r.mode,o=go({mode:"visible",children:o.children},y),c=Yi(c,y,a,null),c.flags|=2,o.return=r,c.return=r,o.sibling=c,r.child=o,Yr(r,t.child,null,a),o=r.child,o.memoizedState=Rf(a),o.childLanes=Af(t,g,a),r.memoizedState=wf,r=c);else if(oi(r),cd(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var N=g.dgst;g=N,o=Error(s(419)),o.stack="",o.digest=g,Xs({value:o,source:null,stack:null}),r=Of(t,r,a)}else if(et||$s(t,r,a,!1),g=(a&t.childLanes)!==0,et||g){if(g=Me,g!==null&&(o=a&-a,o=(o&42)!==0?1:cc(o),o=(o&(g.suspendedLanes|a))!==0?0:o,o!==0&&o!==S.retryLane))throw S.retryLane=o,Lr(t,o),Lt(g,t,o),e_;y.data==="$?"||Kf(),r=Of(t,r,a)}else y.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=S.treeContext,He=Jt(y.nextSibling),gt=r,be=!0,Wi=null,fn=!1,t!==null&&(qt[Gt++]=wn,qt[Gt++]=Rn,qt[Gt++]=Ki,wn=t.id,Rn=t.overflow,Ki=r),r=Nf(r,o.children),r.flags|=4096);return r}return c?(ui(),c=o.fallback,y=r.mode,S=t.child,N=S.sibling,o=Tn(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&65011712,N!==null?c=Tn(N,c):(c=Yi(c,y,a,null),c.flags|=2),c.return=r,o.return=r,o.sibling=c,r.child=o,o=c,c=r.child,y=t.child.memoizedState,y===null?y=Rf(a):(S=y.cachePool,S!==null?(N=We._currentValue,S=S.parent!==N?{parent:N,pool:N}:S):S=Wm(),y={baseLanes:y.baseLanes|a,cachePool:S}),c.memoizedState=y,c.childLanes=Af(t,g,a),r.memoizedState=wf,o):(oi(r),a=t.child,t=a.sibling,a=Tn(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,t!==null&&(g=r.deletions,g===null?(r.deletions=[t],r.flags|=16):g.push(t)),r.child=a,r.memoizedState=null,a)}function Nf(t,r){return r=go({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function go(t,r){return t=Dt(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Of(t,r,a){return Yr(r,t.child,null,a),t=Nf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function c_(t,r,a){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),Yc(t.return,r,a)}function Df(t,r,a,o,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=c)}function f_(t,r,a){var o=r.pendingProps,c=o.revealOrder,d=o.tail;if(st(t,r,o.children,a),o=Xe.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c_(t,a,r);else if(t.tag===19)c_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Y(Xe,o),c){case"forwards":for(a=r.child,c=null;a!==null;)t=a.alternate,t!==null&&fo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=r.child,r.child=null):(c=a.sibling,a.sibling=null),Df(r,!1,c,a,d);break;case"backwards":for(a=null,c=r.child,r.child=null;c!==null;){if(t=c.alternate,t!==null&&fo(t)===null){r.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Df(r,!0,a,null,d);break;case"together":Df(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function In(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),pi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if($s(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Tn(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Tn(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function If(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Wl(t)))}function zC(t,r,a){switch(r.tag){case 3:Le(r,r.stateNode.containerInfo),ii(r,We,t.memoizedState.cache),Ws();break;case 27:case 5:sc(r);break;case 4:Le(r,r.stateNode.containerInfo);break;case 10:ii(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(oi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?u_(t,r,a):(oi(r),t=In(t,r,a),t!==null?t.sibling:null);oi(r);break;case 19:var c=(t.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||($s(t,r,a,!1),o=(a&r.childLanes)!==0),c){if(o)return f_(t,r,a);r.flags|=128}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Y(Xe,Xe.current),o)break;return null;case 22:case 23:return r.lanes=0,r_(t,r,a);case 24:ii(r,We,t.memoizedState.cache)}return In(t,r,a)}function d_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)et=!0;else{if(!If(t,a)&&(r.flags&128)===0)return et=!1,zC(t,r,a);et=(t.flags&131072)!==0}else et=!1,be&&(r.flags&1048576)!==0&&Vm(r,Ql,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,c=o._init;if(o=c(o._payload),r.type=o,typeof o=="function")Hc(o)?(t=tr(o,t),r.tag=1,r=l_(null,r,o,t,a)):(r.tag=0,r=Tf(null,r,o,t,a));else{if(o!=null){if(c=o.$$typeof,c===F){r.tag=11,r=t_(null,r,o,t,a);break e}else if(c===$){r.tag=14,r=n_(null,r,o,t,a);break e}}throw r=Zn(o)||o,Error(s(306,r,""))}}return r;case 0:return Tf(t,r,r.type,r.pendingProps,a);case 1:return o=r.type,c=tr(o,r.pendingProps),l_(t,r,o,c,a);case 3:e:{if(Le(r,r.stateNode.containerInfo),t===null)throw Error(s(387));o=r.pendingProps;var d=r.memoizedState;c=d.element,Jc(t,r),ra(r,o,null,a);var g=r.memoizedState;if(o=g.cache,ii(r,We,o),o!==d.cache&&Kc(r,[We],a,!0),ia(),o=g.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:g.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=o_(t,r,o,a);break e}else if(o!==c){c=jt(Error(s(424)),r),Xs(c),r=o_(t,r,o,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(He=Jt(t.firstChild),gt=r,be=!0,Wi=null,fn=!0,a=Gg(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ws(),o===c){r=In(t,r,a);break e}st(t,r,o,a)}r=r.child}return r;case 26:return mo(t,r),t===null?(a=gy(r.type,null,r.pendingProps,null))?r.memoizedState=a:be||(a=r.type,t=r.pendingProps,o=Do(le.current).createElement(a),o[ht]=r,o[Et]=t,lt(o,a,t),Je(o),r.stateNode=o):r.memoizedState=gy(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return sc(r),t===null&&be&&(o=r.stateNode=hy(r.type,r.pendingProps,le.current),gt=r,fn=!0,c=He,yi(r.type)?(fd=c,He=Jt(o.firstChild)):He=c),st(t,r,r.pendingProps.children,a),mo(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&be&&((c=o=He)&&(o=dT(o,r.type,r.pendingProps,fn),o!==null?(r.stateNode=o,gt=r,He=Jt(o.firstChild),fn=!1,c=!0):c=!1),c||Xi(r)),sc(r),c=r.type,d=r.pendingProps,g=t!==null?t.memoizedProps:null,o=d.children,ld(c,d)?o=null:g!==null&&ld(c,g)&&(r.flags|=32),r.memoizedState!==null&&(c=af(t,r,DC,null,null,a),Ra._currentValue=c),mo(t,r),st(t,r,o,a),r.child;case 6:return t===null&&be&&((t=a=He)&&(a=hT(a,r.pendingProps,fn),a!==null?(r.stateNode=a,gt=r,He=null,t=!0):t=!1),t||Xi(r)),null;case 13:return u_(t,r,a);case 4:return Le(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Yr(r,null,o,a):st(t,r,o,a),r.child;case 11:return t_(t,r,r.type,r.pendingProps,a);case 7:return st(t,r,r.pendingProps,a),r.child;case 8:return st(t,r,r.pendingProps.children,a),r.child;case 12:return st(t,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,ii(r,r.type,o.value),st(t,r,o.children,a),r.child;case 9:return c=r.type._context,o=r.pendingProps.children,Zi(r),c=pt(c),o=o(c),r.flags|=1,st(t,r,o,a),r.child;case 14:return n_(t,r,r.type,r.pendingProps,a);case 15:return i_(t,r,r.type,r.pendingProps,a);case 19:return f_(t,r,a);case 31:return o=r.pendingProps,a=r.mode,o={mode:o.mode,children:o.children},t===null?(a=go(o,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Tn(t.child,o),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return r_(t,r,a);case 24:return Zi(r),o=pt(We),t===null?(c=Xc(),c===null&&(c=Me,d=Qc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),r.memoizedState={parent:o,cache:c},Zc(r),ii(r,We,c)):((t.lanes&a)!==0&&(Jc(t,r),ra(r,null,null,a),ia()),c=t.memoizedState,d=r.memoizedState,c.parent!==o?(c={parent:o,cache:o},r.memoizedState=c,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=c),ii(r,We,o)):(o=d.cache,ii(r,We,o),o!==c.cache&&Kc(r,[We],a,!0))),st(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Mn(t){t.flags|=4}function h_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Sy(r)){if(r=Ft.current,r!==null&&((_e&4194048)===_e?dn!==null:(_e&62914560)!==_e&&(_e&536870912)===0||r!==dn))throw ta=$c,Xm;t.flags|=8192}}function _o(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Fp():536870912,t.lanes|=r,Xr|=r)}function fa(t,r){if(!be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ze(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(r)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=a,r}function HC(t,r,a){var o=r.pendingProps;switch(qc(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(r),null;case 1:return ze(r),null;case 3:return a=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Nn(We),Jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qs(r)?Mn(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Fm())),ze(r),null;case 26:return a=r.memoizedState,t===null?(Mn(r),a!==null?(ze(r),h_(r,a)):(ze(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Mn(r),ze(r),h_(r,a)):(ze(r),r.flags&=-16777217):(t.memoizedProps!==o&&Mn(r),ze(r),r.flags&=-16777217),null;case 27:Al(r),a=le.current;var c=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Mn(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return ze(r),null}t=ee.current,Qs(r)?qm(r):(t=hy(c,o,a),r.stateNode=t,Mn(r))}return ze(r),null;case 5:if(Al(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Mn(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return ze(r),null}if(t=ee.current,Qs(r))qm(r);else{switch(c=Do(le.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?c.createElement(a,{is:o.is}):c.createElement(a)}}t[ht]=r,t[Et]=o;e:for(c=r.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===r)break e;for(;c.sibling===null;){if(c.return===null||c.return===r)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r.stateNode=t;e:switch(lt(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Mn(r)}}return ze(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&Mn(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(s(166));if(t=le.current,Qs(r)){if(t=r.stateNode,a=r.memoizedProps,o=null,c=gt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[ht]=r,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||ay(t.nodeValue,a)),t||Xi(r)}else t=Do(t).createTextNode(o),t[ht]=r,r.stateNode=t}return ze(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Qs(r),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=r.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ht]=r}else Ws(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ze(r),c=!1}else c=Fm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return r.flags&256?(Dn(r),r):(Dn(r),null)}if(Dn(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=r.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),_o(r,r.updateQueue),ze(r),null;case 4:return Jn(),t===null&&nd(r.stateNode.containerInfo),ze(r),null;case 10:return Nn(r.type),ze(r),null;case 19:if(Q(Xe),c=r.memoizedState,c===null)return ze(r),null;if(o=(r.flags&128)!==0,d=c.rendering,d===null)if(o)fa(c,!1);else{if(Be!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=fo(t),d!==null){for(r.flags|=128,fa(c,!1),t=d.updateQueue,r.updateQueue=t,_o(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)jm(a,t),a=a.sibling;return Y(Xe,Xe.current&1|2),r.child}t=t.sibling}c.tail!==null&&cn()>Eo&&(r.flags|=128,o=!0,fa(c,!1),r.lanes=4194304)}else{if(!o)if(t=fo(d),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,_o(r,t),fa(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!be)return ze(r),null}else 2*cn()-c.renderingStartTime>Eo&&a!==536870912&&(r.flags|=128,o=!0,fa(c,!1),r.lanes=4194304);c.isBackwards?(d.sibling=r.child,r.child=d):(t=c.last,t!==null?t.sibling=d:r.child=d,c.last=d)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=cn(),r.sibling=null,t=Xe.current,Y(Xe,o?t&1|2:t&1),r):(ze(r),null);case 22:case 23:return Dn(r),rf(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(ze(r),r.subtreeFlags&6&&(r.flags|=8192)):ze(r),a=r.updateQueue,a!==null&&_o(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),t!==null&&Q(Ji),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Nn(We),ze(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function BC(t,r){switch(qc(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Nn(We),Jn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Al(r),null;case 13:if(Dn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ws()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Q(Xe),null;case 4:return Jn(),null;case 10:return Nn(r.type),null;case 22:case 23:return Dn(r),rf(),t!==null&&Q(Ji),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Nn(We),null;case 25:return null;default:return null}}function p_(t,r){switch(qc(r),r.tag){case 3:Nn(We),Jn();break;case 26:case 27:case 5:Al(r);break;case 4:Jn();break;case 13:Dn(r);break;case 19:Q(Xe);break;case 10:Nn(r.type);break;case 22:case 23:Dn(r),rf(),t!==null&&Q(Ji);break;case 24:Nn(We)}}function da(t,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&t)===t){o=void 0;var d=a.create,g=a.inst;o=d(),g.destroy=o}a=a.next}while(a!==c)}}catch(y){Ie(r,r.return,y)}}function ci(t,r,a){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&t)===t){var g=o.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,c=r;var S=a,N=y;try{N()}catch(k){Ie(c,S,k)}}}o=o.next}while(o!==d)}}catch(k){Ie(r,r.return,k)}}function m_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{ng(r,a)}catch(o){Ie(t,t.return,o)}}}function g_(t,r,a){a.props=tr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ie(t,r,o)}}function ha(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(c){Ie(t,r,c)}}function hn(t,r){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){Ie(t,r,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ie(t,r,c)}else a.current=null}function __(t){var r=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){Ie(t,t.return,c)}}function Mf(t,r,a){try{var o=t.stateNode;lT(o,t.type,a,r),o[Et]=r}catch(c){Ie(t,t.return,c)}}function y_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&yi(t.type)||t.tag===4}function xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kf(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Oo));else if(o!==4&&(o===27&&yi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(kf(t,r,a),t=t.sibling;t!==null;)kf(t,r,a),t=t.sibling}function yo(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(o!==4&&(o===27&&yi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yo(t,r,a),t=t.sibling;t!==null;)yo(t,r,a),t=t.sibling}function v_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,c=r.attributes;c.length;)r.removeAttributeNode(c[0]);lt(r,o,a),r[ht]=t,r[Et]=a}catch(d){Ie(t,t.return,d)}}var xn=!1,Fe=!1,Lf=!1,E_=typeof WeakSet=="function"?WeakSet:Set,tt=null;function jC(t,r){if(t=t.containerInfo,sd=Uo,t=Im(t),Mc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,y=-1,S=-1,N=0,k=0,z=t,O=null;t:for(;;){for(var D;z!==a||c!==0&&z.nodeType!==3||(y=g+c),z!==d||o!==0&&z.nodeType!==3||(S=g+o),z.nodeType===3&&(g+=z.nodeValue.length),(D=z.firstChild)!==null;)O=z,z=D;for(;;){if(z===t)break t;if(O===a&&++N===c&&(y=g),O===d&&++k===o&&(S=g),(D=z.nextSibling)!==null)break;z=O,O=z.parentNode}z=D}a=y===-1||S===-1?null:{start:y,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(ad={focusedElem:t,selectionRange:a},Uo=!1,tt=r;tt!==null;)if(r=tt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,tt=t;else for(;tt!==null;){switch(r=tt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,c=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ae=tr(a.type,c,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(ae,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(te){Ie(a,a.return,te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)ud(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,tt=t;break}tt=r.return}}function S_(t,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:fi(t,a),o&4&&da(5,a);break;case 1:if(fi(t,a),o&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(g){Ie(a,a.return,g)}else{var c=tr(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(c,r,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ie(a,a.return,g)}}o&64&&m_(a),o&512&&ha(a,a.return);break;case 3:if(fi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ng(t,r)}catch(g){Ie(a,a.return,g)}}break;case 27:r===null&&o&4&&v_(a);case 26:case 5:fi(t,a),r===null&&o&4&&__(a),o&512&&ha(a,a.return);break;case 12:fi(t,a);break;case 13:fi(t,a),o&4&&T_(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=XC.bind(null,a),pT(t,a))));break;case 22:if(o=a.memoizedState!==null||xn,!o){r=r!==null&&r.memoizedState!==null||Fe,c=xn;var d=Fe;xn=o,(Fe=r)&&!d?di(t,a,(a.subtreeFlags&8772)!==0):fi(t,a),xn=c,Fe=d}break;case 30:break;default:fi(t,a)}}function b_(t){var r=t.alternate;r!==null&&(t.alternate=null,b_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&hc(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ue=null,Ct=!1;function kn(t,r,a){for(a=a.child;a!==null;)C_(t,r,a),a=a.sibling}function C_(t,r,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ks,a)}catch{}switch(a.tag){case 26:Fe||hn(a,r),kn(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||hn(a,r);var o=Ue,c=Ct;yi(a.type)&&(Ue=a.stateNode,Ct=!1),kn(t,r,a),ba(a.stateNode),Ue=o,Ct=c;break;case 5:Fe||hn(a,r);case 6:if(o=Ue,c=Ct,Ue=null,kn(t,r,a),Ue=o,Ct=c,Ue!==null)if(Ct)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(a.stateNode)}catch(d){Ie(a,r,d)}else try{Ue.removeChild(a.stateNode)}catch(d){Ie(a,r,d)}break;case 18:Ue!==null&&(Ct?(t=Ue,fy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Da(t)):fy(Ue,a.stateNode));break;case 4:o=Ue,c=Ct,Ue=a.stateNode.containerInfo,Ct=!0,kn(t,r,a),Ue=o,Ct=c;break;case 0:case 11:case 14:case 15:Fe||ci(2,a,r),Fe||ci(4,a,r),kn(t,r,a);break;case 1:Fe||(hn(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&g_(a,r,o)),kn(t,r,a);break;case 21:kn(t,r,a);break;case 22:Fe=(o=Fe)||a.memoizedState!==null,kn(t,r,a),Fe=o;break;default:kn(t,r,a)}}function T_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Da(t)}catch(a){Ie(r,r.return,a)}}function VC(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new E_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new E_),r;default:throw Error(s(435,t.tag))}}function Uf(t,r){var a=VC(t);r.forEach(function(o){var c=$C.bind(null,t,o);a.has(o)||(a.add(o),o.then(c,c))})}function It(t,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],d=t,g=r,y=g;e:for(;y!==null;){switch(y.tag){case 27:if(yi(y.type)){Ue=y.stateNode,Ct=!1;break e}break;case 5:Ue=y.stateNode,Ct=!1;break e;case 3:case 4:Ue=y.stateNode.containerInfo,Ct=!0;break e}y=y.return}if(Ue===null)throw Error(s(160));C_(d,g,c),Ue=null,Ct=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)w_(r,t),r=r.sibling}var Zt=null;function w_(t,r){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:It(r,t),Mt(t),o&4&&(ci(3,t,t.return),da(3,t),ci(5,t,t.return));break;case 1:It(r,t),Mt(t),o&512&&(Fe||a===null||hn(a,a.return)),o&64&&xn&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=Zt;if(It(r,t),Mt(t),o&512&&(Fe||a===null||hn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Ps]||d[ht]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(o),c.head.insertBefore(d,c.querySelector("head > title"))),lt(d,o,a),d[ht]=t,Je(d),o=d;break e;case"link":var g=vy("link","href",c).get(o+(a.href||""));if(g){for(var y=0;y<g.length;y++)if(d=g[y],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(y,1);break t}}d=c.createElement(o),lt(d,o,a),c.head.appendChild(d);break;case"meta":if(g=vy("meta","content",c).get(o+(a.content||""))){for(y=0;y<g.length;y++)if(d=g[y],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(y,1);break t}}d=c.createElement(o),lt(d,o,a),c.head.appendChild(d);break;default:throw Error(s(468,o))}d[ht]=t,Je(d),o=d}t.stateNode=o}else Ey(c,t.type,t.stateNode);else t.stateNode=yy(c,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Ey(c,t.type,t.stateNode):yy(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Mf(t,t.memoizedProps,a.memoizedProps)}break;case 27:It(r,t),Mt(t),o&512&&(Fe||a===null||hn(a,a.return)),a!==null&&o&4&&Mf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(It(r,t),Mt(t),o&512&&(Fe||a===null||hn(a,a.return)),t.flags&32){c=t.stateNode;try{Nr(c,"")}catch(D){Ie(t,t.return,D)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,Mf(t,c,a!==null?a.memoizedProps:c)),o&1024&&(Lf=!0);break;case 6:if(It(r,t),Mt(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(D){Ie(t,t.return,D)}}break;case 3:if(xo=null,c=Zt,Zt=Io(r.containerInfo),It(r,t),Zt=c,Mt(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Da(r.containerInfo)}catch(D){Ie(t,t.return,D)}Lf&&(Lf=!1,R_(t));break;case 4:o=Zt,Zt=Io(t.stateNode.containerInfo),It(r,t),Mt(t),Zt=o;break;case 12:It(r,t),Mt(t);break;case 13:It(r,t),Mt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vf=cn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Uf(t,o)));break;case 22:c=t.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,N=xn,k=Fe;if(xn=N||c,Fe=k||S,It(r,t),Fe=k,xn=N,Mt(t),o&8192)e:for(r=t.stateNode,r._visibility=c?r._visibility&-2:r._visibility|1,c&&(a===null||S||xn||Fe||nr(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){S=a=r;try{if(d=S.stateNode,c)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=S.stateNode;var z=S.memoizedProps.style,O=z!=null&&z.hasOwnProperty("display")?z.display:null;y.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(D){Ie(S,S.return,D)}}}else if(r.tag===6){if(a===null){S=r;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(D){Ie(S,S.return,D)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Uf(t,a))));break;case 19:It(r,t),Mt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Uf(t,o)));break;case 30:break;case 21:break;default:It(r,t),Mt(t)}}function Mt(t){var r=t.flags;if(r&2){try{for(var a,o=t.return;o!==null;){if(y_(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,d=xf(t);yo(t,d,c);break;case 5:var g=a.stateNode;a.flags&32&&(Nr(g,""),a.flags&=-33);var y=xf(t);yo(t,y,g);break;case 3:case 4:var S=a.stateNode.containerInfo,N=xf(t);kf(t,N,S);break;default:throw Error(s(161))}}catch(k){Ie(t,t.return,k)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function R_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;R_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function fi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)S_(t,r.alternate,r),r=r.sibling}function nr(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ci(4,r,r.return),nr(r);break;case 1:hn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&g_(r,r.return,a),nr(r);break;case 27:ba(r.stateNode);case 26:case 5:hn(r,r.return),nr(r);break;case 22:r.memoizedState===null&&nr(r);break;case 30:nr(r);break;default:nr(r)}t=t.sibling}}function di(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,c=t,d=r,g=d.flags;switch(d.tag){case 0:case 11:case 15:di(c,d,a),da(4,d);break;case 1:if(di(c,d,a),o=d,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Ie(o,o.return,N)}if(o=d,c=o.updateQueue,c!==null){var y=o.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)tg(S[c],y)}catch(N){Ie(o,o.return,N)}}a&&g&64&&m_(d),ha(d,d.return);break;case 27:v_(d);case 26:case 5:di(c,d,a),a&&o===null&&g&4&&__(d),ha(d,d.return);break;case 12:di(c,d,a);break;case 13:di(c,d,a),a&&g&4&&T_(c,d);break;case 22:d.memoizedState===null&&di(c,d,a),ha(d,d.return);break;case 30:break;default:di(c,d,a)}r=r.sibling}}function Pf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Zs(a))}function zf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Zs(t))}function pn(t,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A_(t,r,a,o),r=r.sibling}function A_(t,r,a,o){var c=r.flags;switch(r.tag){case 0:case 11:case 15:pn(t,r,a,o),c&2048&&da(9,r);break;case 1:pn(t,r,a,o);break;case 3:pn(t,r,a,o),c&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Zs(t)));break;case 12:if(c&2048){pn(t,r,a,o),t=r.stateNode;try{var d=r.memoizedProps,g=d.id,y=d.onPostCommit;typeof y=="function"&&y(g,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ie(r,r.return,S)}}else pn(t,r,a,o);break;case 13:pn(t,r,a,o);break;case 23:break;case 22:d=r.stateNode,g=r.alternate,r.memoizedState!==null?d._visibility&2?pn(t,r,a,o):pa(t,r):d._visibility&2?pn(t,r,a,o):(d._visibility|=2,Kr(t,r,a,o,(r.subtreeFlags&10256)!==0)),c&2048&&Pf(g,r);break;case 24:pn(t,r,a,o),c&2048&&zf(r.alternate,r);break;default:pn(t,r,a,o)}}function Kr(t,r,a,o,c){for(c=c&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,g=r,y=a,S=o,N=g.flags;switch(g.tag){case 0:case 11:case 15:Kr(d,g,y,S,c),da(8,g);break;case 23:break;case 22:var k=g.stateNode;g.memoizedState!==null?k._visibility&2?Kr(d,g,y,S,c):pa(d,g):(k._visibility|=2,Kr(d,g,y,S,c)),c&&N&2048&&Pf(g.alternate,g);break;case 24:Kr(d,g,y,S,c),c&&N&2048&&zf(g.alternate,g);break;default:Kr(d,g,y,S,c)}r=r.sibling}}function pa(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,o=r,c=o.flags;switch(o.tag){case 22:pa(a,o),c&2048&&Pf(o.alternate,o);break;case 24:pa(a,o),c&2048&&zf(o.alternate,o);break;default:pa(a,o)}r=r.sibling}}var ma=8192;function Qr(t){if(t.subtreeFlags&ma)for(t=t.child;t!==null;)N_(t),t=t.sibling}function N_(t){switch(t.tag){case 26:Qr(t),t.flags&ma&&t.memoizedState!==null&&AT(Zt,t.memoizedState,t.memoizedProps);break;case 5:Qr(t);break;case 3:case 4:var r=Zt;Zt=Io(t.stateNode.containerInfo),Qr(t),Zt=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ma,ma=16777216,Qr(t),ma=r):Qr(t));break;default:Qr(t)}}function O_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function ga(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];tt=o,I_(o,t)}O_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)D_(t),t=t.sibling}function D_(t){switch(t.tag){case 0:case 11:case 15:ga(t),t.flags&2048&&ci(9,t,t.return);break;case 3:ga(t);break;case 12:ga(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,vo(t)):ga(t);break;default:ga(t)}}function vo(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];tt=o,I_(o,t)}O_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ci(8,r,r.return),vo(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,vo(r));break;default:vo(r)}t=t.sibling}}function I_(t,r){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:ci(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Zs(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,tt=o;else e:for(a=t;tt!==null;){o=tt;var c=o.sibling,d=o.return;if(b_(o),o===a){tt=null;break e}if(c!==null){c.return=d,tt=c;break e}tt=d}}}var qC={getCacheForType:function(t){var r=pt(We),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},GC=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Me=null,pe=null,_e=0,Te=0,xt=null,hi=!1,Wr=!1,Hf=!1,Ln=0,Be=0,pi=0,ir=0,Bf=0,Yt=0,Xr=0,_a=null,Tt=null,jf=!1,Vf=0,Eo=1/0,So=null,mi=null,at=0,gi=null,$r=null,Zr=0,qf=0,Gf=null,M_=null,ya=0,Ff=null;function kt(){if((Ce&2)!==0&&_e!==0)return _e&-_e;if(L.T!==null){var t=Hr;return t!==0?t:Zf()}return Qp()}function x_(){Yt===0&&(Yt=(_e&536870912)===0||be?Gp():536870912);var t=Ft.current;return t!==null&&(t.flags|=32),Yt}function Lt(t,r,a){(t===Me&&(Te===2||Te===9)||t.cancelPendingCommit!==null)&&(Jr(t,0),_i(t,_e,Yt,!1)),Us(t,a),((Ce&2)===0||t!==Me)&&(t===Me&&((Ce&2)===0&&(ir|=a),Be===4&&_i(t,_e,Yt,!1)),mn(t))}function k_(t,r,a){if((Ce&6)!==0)throw Error(s(327));var o=!a&&(r&124)===0&&(r&t.expiredLanes)===0||Ls(t,r),c=o?KC(t,r):Qf(t,r,!0),d=o;do{if(c===0){Wr&&!o&&_i(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!FC(a)){c=Qf(t,r,!1),d=!1;continue}if(c===2){if(d=r,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){r=g;e:{var y=t;c=_a;var S=y.current.memoizedState.isDehydrated;if(S&&(Jr(y,g).flags|=256),g=Qf(y,g,!1),g!==2){if(Hf&&!S){y.errorRecoveryDisabledLanes|=d,ir|=d,c=4;break e}d=Tt,Tt=c,d!==null&&(Tt===null?Tt=d:Tt.push.apply(Tt,d))}c=g}if(d=!1,c!==2)continue}}if(c===1){Jr(t,0),_i(t,r,0,!0);break}e:{switch(o=t,d=c,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:_i(o,r,Yt,!hi);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(c=Vf+300-cn(),10<c)){if(_i(o,r,Yt,!hi),Il(o,0,!0)!==0)break e;o.timeoutHandle=uy(L_.bind(null,o,a,Tt,So,jf,r,Yt,ir,Xr,hi,d,2,-0,0),c);break e}L_(o,a,Tt,So,jf,r,Yt,ir,Xr,hi,d,0,-0,0)}}break}while(!0);mn(t)}function L_(t,r,a,o,c,d,g,y,S,N,k,z,O,D){if(t.timeoutHandle=-1,z=r.subtreeFlags,(z&8192||(z&16785408)===16785408)&&(wa={stylesheets:null,count:0,unsuspend:RT},N_(r),z=NT(),z!==null)){t.cancelPendingCommit=z(V_.bind(null,t,r,d,a,o,c,g,y,S,k,1,O,D)),_i(t,d,g,!N);return}V_(t,r,d,a,o,c,g,y,S)}function FC(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],d=c.getSnapshot;c=c.value;try{if(!Ot(d(),c))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function _i(t,r,a,o){r&=~Bf,r&=~ir,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var c=r;0<c;){var d=31-Nt(c),g=1<<d;o[d]=-1,c&=~g}a!==0&&Yp(t,a,r)}function bo(){return(Ce&6)===0?(va(0),!1):!0}function Yf(){if(pe!==null){if(Te===0)var t=pe.return;else t=pe,An=$i=null,uf(t),Fr=null,ua=0,t=pe;for(;t!==null;)p_(t.alternate,t),t=t.return;pe=null}}function Jr(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,uT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Yf(),Me=t,pe=a=Tn(t.current,null),_e=r,Te=0,xt=null,hi=!1,Wr=Ls(t,r),Hf=!1,Xr=Yt=Bf=ir=pi=Be=0,Tt=_a=null,jf=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var c=31-Nt(o),d=1<<c;r|=t[c],o&=~d}return Ln=r,ql(),a}function U_(t,r){ce=null,L.H=oo,r===ea||r===Zl?(r=Jm(),Te=3):r===Xm?(r=Jm(),Te=4):Te=r===e_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xt=r,pe===null&&(Be=1,po(t,jt(r,t.current)))}function P_(){var t=L.H;return L.H=oo,t===null?oo:t}function z_(){var t=L.A;return L.A=qC,t}function Kf(){Be=4,hi||(_e&4194048)!==_e&&Ft.current!==null||(Wr=!0),(pi&134217727)===0&&(ir&134217727)===0||Me===null||_i(Me,_e,Yt,!1)}function Qf(t,r,a){var o=Ce;Ce|=2;var c=P_(),d=z_();(Me!==t||_e!==r)&&(So=null,Jr(t,r)),r=!1;var g=Be;e:do try{if(Te!==0&&pe!==null){var y=pe,S=xt;switch(Te){case 8:Yf(),g=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(r=!0);var N=Te;if(Te=0,xt=null,es(t,y,S,N),a&&Wr){g=0;break e}break;default:N=Te,Te=0,xt=null,es(t,y,S,N)}}YC(),g=Be;break}catch(k){U_(t,k)}while(!0);return r&&t.shellSuspendCounter++,An=$i=null,Ce=o,L.H=c,L.A=d,pe===null&&(Me=null,_e=0,ql()),g}function YC(){for(;pe!==null;)H_(pe)}function KC(t,r){var a=Ce;Ce|=2;var o=P_(),c=z_();Me!==t||_e!==r?(So=null,Eo=cn()+500,Jr(t,r)):Wr=Ls(t,r);e:do try{if(Te!==0&&pe!==null){r=pe;var d=xt;t:switch(Te){case 1:Te=0,xt=null,es(t,r,d,1);break;case 2:case 9:if($m(d)){Te=0,xt=null,B_(r);break}r=function(){Te!==2&&Te!==9||Me!==t||(Te=7),mn(t)},d.then(r,r);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:$m(d)?(Te=0,xt=null,B_(r)):(Te=0,xt=null,es(t,r,d,7));break;case 5:var g=null;switch(pe.tag){case 26:g=pe.memoizedState;case 5:case 27:var y=pe;if(!g||Sy(g)){Te=0,xt=null;var S=y.sibling;if(S!==null)pe=S;else{var N=y.return;N!==null?(pe=N,Co(N)):pe=null}break t}}Te=0,xt=null,es(t,r,d,5);break;case 6:Te=0,xt=null,es(t,r,d,6);break;case 8:Yf(),Be=6;break e;default:throw Error(s(462))}}QC();break}catch(k){U_(t,k)}while(!0);return An=$i=null,L.H=o,L.A=c,Ce=a,pe!==null?0:(Me=null,_e=0,ql(),Be)}function QC(){for(;pe!==null&&!gb();)H_(pe)}function H_(t){var r=d_(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,r===null?Co(t):pe=r}function B_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=a_(a,r,r.pendingProps,r.type,void 0,_e);break;case 11:r=a_(a,r,r.pendingProps,r.type.render,r.ref,_e);break;case 5:uf(r);default:p_(a,r),r=pe=jm(r,Ln),r=d_(a,r,Ln)}t.memoizedProps=t.pendingProps,r===null?Co(t):pe=r}function es(t,r,a,o){An=$i=null,uf(r),Fr=null,ua=0;var c=r.return;try{if(PC(t,c,r,a,_e)){Be=1,po(t,jt(a,t.current)),pe=null;return}}catch(d){if(c!==null)throw pe=c,d;Be=1,po(t,jt(a,t.current)),pe=null;return}r.flags&32768?(be||o===1?t=!0:Wr||(_e&536870912)!==0?t=!1:(hi=t=!0,(o===2||o===9||o===3||o===6)&&(o=Ft.current,o!==null&&o.tag===13&&(o.flags|=16384))),j_(r,t)):Co(r)}function Co(t){var r=t;do{if((r.flags&32768)!==0){j_(r,hi);return}t=r.return;var a=HC(r.alternate,r,Ln);if(a!==null){pe=a;return}if(r=r.sibling,r!==null){pe=r;return}pe=r=t}while(r!==null);Be===0&&(Be=5)}function j_(t,r){do{var a=BC(t.alternate,t);if(a!==null){a.flags&=32767,pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){pe=t;return}pe=t=a}while(t!==null);Be=6,pe=null}function V_(t,r,a,o,c,d,g,y,S){t.cancelPendingCommit=null;do To();while(at!==0);if((Ce&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Pc,Rb(t,a,d,g,y,S),t===Me&&(pe=Me=null,_e=0),$r=r,gi=t,Zr=a,qf=d,Gf=c,M_=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ZC(Nl,function(){return K_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,c=K.p,K.p=2,g=Ce,Ce|=4;try{jC(t,r,a)}finally{Ce=g,K.p=c,L.T=o}}at=1,q_(),G_(),F_()}}function q_(){if(at===1){at=0;var t=gi,r=$r,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var o=K.p;K.p=2;var c=Ce;Ce|=4;try{w_(r,t);var d=ad,g=Im(t.containerInfo),y=d.focusedElem,S=d.selectionRange;if(g!==y&&y&&y.ownerDocument&&Dm(y.ownerDocument.documentElement,y)){if(S!==null&&Mc(y)){var N=S.start,k=S.end;if(k===void 0&&(k=N),"selectionStart"in y)y.selectionStart=N,y.selectionEnd=Math.min(k,y.value.length);else{var z=y.ownerDocument||document,O=z&&z.defaultView||window;if(O.getSelection){var D=O.getSelection(),ae=y.textContent.length,te=Math.min(S.start,ae),Ae=S.end===void 0?te:Math.min(S.end,ae);!D.extend&&te>Ae&&(g=Ae,Ae=te,te=g);var R=Om(y,te),C=Om(y,Ae);if(R&&C&&(D.rangeCount!==1||D.anchorNode!==R.node||D.anchorOffset!==R.offset||D.focusNode!==C.node||D.focusOffset!==C.offset)){var A=z.createRange();A.setStart(R.node,R.offset),D.removeAllRanges(),te>Ae?(D.addRange(A),D.extend(C.node,C.offset)):(A.setEnd(C.node,C.offset),D.addRange(A))}}}}for(z=[],D=y;D=D.parentNode;)D.nodeType===1&&z.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<z.length;y++){var P=z[y];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Uo=!!sd,ad=sd=null}finally{Ce=c,K.p=o,L.T=a}}t.current=r,at=2}}function G_(){if(at===2){at=0;var t=gi,r=$r,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var o=K.p;K.p=2;var c=Ce;Ce|=4;try{S_(t,r.alternate,r)}finally{Ce=c,K.p=o,L.T=a}}at=3}}function F_(){if(at===4||at===3){at=0,_b();var t=gi,r=$r,a=Zr,o=M_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?at=5:(at=0,$r=gi=null,Y_(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(mi=null),fc(a),r=r.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ks,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=L.T,c=K.p,K.p=2,L.T=null;try{for(var d=t.onRecoverableError,g=0;g<o.length;g++){var y=o[g];d(y.value,{componentStack:y.stack})}}finally{L.T=r,K.p=c}}(Zr&3)!==0&&To(),mn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Ff?ya++:(ya=0,Ff=t):ya=0,va(0)}}function Y_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Zs(r)))}function To(t){return q_(),G_(),F_(),K_()}function K_(){if(at!==5)return!1;var t=gi,r=qf;qf=0;var a=fc(Zr),o=L.T,c=K.p;try{K.p=32>a?32:a,L.T=null,a=Gf,Gf=null;var d=gi,g=Zr;if(at=0,$r=gi=null,Zr=0,(Ce&6)!==0)throw Error(s(331));var y=Ce;if(Ce|=4,D_(d.current),A_(d,d.current,g,a),Ce=y,va(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ks,d)}catch{}return!0}finally{K.p=c,L.T=o,Y_(t,r)}}function Q_(t,r,a){r=jt(a,r),r=Cf(t.stateNode,r,2),t=ai(t,r,2),t!==null&&(Us(t,2),mn(t))}function Ie(t,r,a){if(t.tag===3)Q_(t,t,a);else for(;r!==null;){if(r.tag===3){Q_(r,t,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(mi===null||!mi.has(o))){t=jt(a,t),a=Zg(2),o=ai(r,a,2),o!==null&&(Jg(a,o,r,t),Us(o,2),mn(o));break}}r=r.return}}function Wf(t,r,a){var o=t.pingCache;if(o===null){o=t.pingCache=new GC;var c=new Set;o.set(r,c)}else c=o.get(r),c===void 0&&(c=new Set,o.set(r,c));c.has(a)||(Hf=!0,c.add(a),t=WC.bind(null,t,r,a),r.then(t,t))}function WC(t,r,a){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Me===t&&(_e&a)===a&&(Be===4||Be===3&&(_e&62914560)===_e&&300>cn()-Vf?(Ce&2)===0&&Jr(t,0):Bf|=a,Xr===_e&&(Xr=0)),mn(t)}function W_(t,r){r===0&&(r=Fp()),t=Lr(t,r),t!==null&&(Us(t,r),mn(t))}function XC(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),W_(t,a)}function $C(t,r){var a=0;switch(t.tag){case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(r),W_(t,a)}function ZC(t,r){return lc(t,r)}var wo=null,ts=null,Xf=!1,Ro=!1,$f=!1,rr=0;function mn(t){t!==ts&&t.next===null&&(ts===null?wo=ts=t:ts=ts.next=t),Ro=!0,Xf||(Xf=!0,eT())}function va(t,r){if(!$f&&Ro){$f=!0;do for(var a=!1,o=wo;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var d=0;else{var g=o.suspendedLanes,y=o.pingedLanes;d=(1<<31-Nt(42|t)+1)-1,d&=c&~(g&~y),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,J_(o,d))}else d=_e,d=Il(o,o===Me?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Ls(o,d)||(a=!0,J_(o,d));o=o.next}while(a);$f=!1}}function JC(){X_()}function X_(){Ro=Xf=!1;var t=0;rr!==0&&(oT()&&(t=rr),rr=0);for(var r=cn(),a=null,o=wo;o!==null;){var c=o.next,d=$_(o,r);d===0?(o.next=null,a===null?wo=c:a.next=c,c===null&&(ts=a)):(a=o,(t!==0||(d&3)!==0)&&(Ro=!0)),o=c}va(t)}function $_(t,r){for(var a=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Nt(d),y=1<<g,S=c[g];S===-1?((y&a)===0||(y&o)!==0)&&(c[g]=wb(y,r)):S<=r&&(t.expiredLanes|=y),d&=~y}if(r=Me,a=_e,a=Il(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===r&&(Te===2||Te===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&oc(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ls(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(o!==null&&oc(o),fc(a)){case 2:case 8:a=Vp;break;case 32:a=Nl;break;case 268435456:a=qp;break;default:a=Nl}return o=Z_.bind(null,t),a=lc(a,o),t.callbackPriority=r,t.callbackNode=a,r}return o!==null&&o!==null&&oc(o),t.callbackPriority=2,t.callbackNode=null,2}function Z_(t,r){if(at!==0&&at!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(To()&&t.callbackNode!==a)return null;var o=_e;return o=Il(t,t===Me?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(k_(t,o,r),$_(t,cn()),t.callbackNode!=null&&t.callbackNode===a?Z_.bind(null,t):null)}function J_(t,r){if(To())return null;k_(t,r,!0)}function eT(){cT(function(){(Ce&6)!==0?lc(jp,JC):X_()})}function Zf(){return rr===0&&(rr=Gp()),rr}function ey(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ul(""+t)}function ty(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function tT(t,r,a,o,c){if(r==="submit"&&a&&a.stateNode===c){var d=ey((c[Et]||null).action),g=o.submitter;g&&(r=(r=g[Et]||null)?ey(r.formAction):g.getAttribute("formAction"),r!==null&&(d=r,g=null));var y=new Bl("action","action",null,o,c);t.push({event:y,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(rr!==0){var S=g?ty(c,g):new FormData(c);yf(a,{pending:!0,data:S,method:c.method,action:d},null,S)}}else typeof d=="function"&&(y.preventDefault(),S=g?ty(c,g):new FormData(c),yf(a,{pending:!0,data:S,method:c.method,action:d},d,S))},currentTarget:c}]})}}for(var Jf=0;Jf<Uc.length;Jf++){var ed=Uc[Jf],nT=ed.toLowerCase(),iT=ed[0].toUpperCase()+ed.slice(1);$t(nT,"on"+iT)}$t(km,"onAnimationEnd"),$t(Lm,"onAnimationIteration"),$t(Um,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(EC,"onTransitionRun"),$t(SC,"onTransitionStart"),$t(bC,"onTransitionCancel"),$t(Pm,"onTransitionEnd"),wr("onMouseEnter",["mouseout","mouseover"]),wr("onMouseLeave",["mouseout","mouseover"]),wr("onPointerEnter",["pointerout","pointerover"]),wr("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ea));function ny(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],c=o.event;o=o.listeners;e:{var d=void 0;if(r)for(var g=o.length-1;0<=g;g--){var y=o[g],S=y.instance,N=y.currentTarget;if(y=y.listener,S!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=N;try{d(c)}catch(k){ho(k)}c.currentTarget=null,d=S}else for(g=0;g<o.length;g++){if(y=o[g],S=y.instance,N=y.currentTarget,y=y.listener,S!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=N;try{d(c)}catch(k){ho(k)}c.currentTarget=null,d=S}}}}function me(t,r){var a=r[dc];a===void 0&&(a=r[dc]=new Set);var o=t+"__bubble";a.has(o)||(iy(r,t,2,!1),a.add(o))}function td(t,r,a){var o=0;r&&(o|=4),iy(a,t,o,r)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function nd(t){if(!t[Ao]){t[Ao]=!0,Xp.forEach(function(a){a!=="selectionchange"&&(rT.has(a)||td(a,!1,t),td(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ao]||(r[Ao]=!0,td("selectionchange",!1,r))}}function iy(t,r,a,o){switch(Ay(r)){case 2:var c=IT;break;case 8:c=MT;break;default:c=gd}a=c.bind(null,r,a,t),c=void 0,!Cc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(r,a,{capture:!0,passive:c}):t.addEventListener(r,a,!0):c!==void 0?t.addEventListener(r,a,{passive:c}):t.addEventListener(r,a,!1)}function id(t,r,a,o,c){var d=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var y=o.stateNode.containerInfo;if(y===c)break;if(g===4)for(g=o.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;y!==null;){if(g=br(y),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){o=d=g;continue e}y=y.parentNode}}o=o.return}cm(function(){var N=d,k=Sc(a),z=[];e:{var O=zm.get(t);if(O!==void 0){var D=Bl,ae=t;switch(t){case"keypress":if(zl(a)===0)break e;case"keydown":case"keyup":D=Zb;break;case"focusin":ae="focus",D=Ac;break;case"focusout":ae="blur",D=Ac;break;case"beforeblur":case"afterblur":D=Ac;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=hm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=Bb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=tC;break;case km:case Lm:case Um:D=qb;break;case Pm:D=iC;break;case"scroll":case"scrollend":D=zb;break;case"wheel":D=sC;break;case"copy":case"cut":case"paste":D=Fb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=mm;break;case"toggle":case"beforetoggle":D=lC}var te=(r&4)!==0,Ae=!te&&(t==="scroll"||t==="scrollend"),R=te?O!==null?O+"Capture":null:O;te=[];for(var C=N,A;C!==null;){var P=C;if(A=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||A===null||R===null||(P=Hs(C,R),P!=null&&te.push(Sa(C,P,A))),Ae)break;C=C.return}0<te.length&&(O=new D(O,ae,null,a,k),z.push({event:O,listeners:te}))}}if((r&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",D=t==="mouseout"||t==="pointerout",O&&a!==Ec&&(ae=a.relatedTarget||a.fromElement)&&(br(ae)||ae[Sr]))break e;if((D||O)&&(O=k.window===k?k:(O=k.ownerDocument)?O.defaultView||O.parentWindow:window,D?(ae=a.relatedTarget||a.toElement,D=N,ae=ae?br(ae):null,ae!==null&&(Ae=u(ae),te=ae.tag,ae!==Ae||te!==5&&te!==27&&te!==6)&&(ae=null)):(D=null,ae=N),D!==ae)){if(te=hm,P="onMouseLeave",R="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(te=mm,P="onPointerLeave",R="onPointerEnter",C="pointer"),Ae=D==null?O:zs(D),A=ae==null?O:zs(ae),O=new te(P,C+"leave",D,a,k),O.target=Ae,O.relatedTarget=A,P=null,br(k)===N&&(te=new te(R,C+"enter",ae,a,k),te.target=A,te.relatedTarget=Ae,P=te),Ae=P,D&&ae)t:{for(te=D,R=ae,C=0,A=te;A;A=ns(A))C++;for(A=0,P=R;P;P=ns(P))A++;for(;0<C-A;)te=ns(te),C--;for(;0<A-C;)R=ns(R),A--;for(;C--;){if(te===R||R!==null&&te===R.alternate)break t;te=ns(te),R=ns(R)}te=null}else te=null;D!==null&&ry(z,O,D,te,!1),ae!==null&&Ae!==null&&ry(z,Ae,ae,te,!0)}}e:{if(O=N?zs(N):window,D=O.nodeName&&O.nodeName.toLowerCase(),D==="select"||D==="input"&&O.type==="file")var W=Cm;else if(Sm(O))if(Tm)W=_C;else{W=mC;var fe=pC}else D=O.nodeName,!D||D.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?N&&vc(N.elementType)&&(W=Cm):W=gC;if(W&&(W=W(t,N))){bm(z,W,a,k);break e}fe&&fe(t,O,N),t==="focusout"&&N&&O.type==="number"&&N.memoizedProps.value!=null&&yc(O,"number",O.value)}switch(fe=N?zs(N):window,t){case"focusin":(Sm(fe)||fe.contentEditable==="true")&&(Mr=fe,xc=N,Ks=null);break;case"focusout":Ks=xc=Mr=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,Mm(z,a,k);break;case"selectionchange":if(vC)break;case"keydown":case"keyup":Mm(z,a,k)}var Z;if(Oc)e:{switch(t){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Ir?vm(t,a)&&(ne="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ne="onCompositionStart");ne&&(gm&&a.locale!=="ko"&&(Ir||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Ir&&(Z=fm()):(ni=k,Tc="value"in ni?ni.value:ni.textContent,Ir=!0)),fe=No(N,ne),0<fe.length&&(ne=new pm(ne,t,null,a,k),z.push({event:ne,listeners:fe}),Z?ne.data=Z:(Z=Em(a),Z!==null&&(ne.data=Z)))),(Z=uC?cC(t,a):fC(t,a))&&(ne=No(N,"onBeforeInput"),0<ne.length&&(fe=new pm("onBeforeInput","beforeinput",null,a,k),z.push({event:fe,listeners:ne}),fe.data=Z)),tT(z,t,N,a,k)}ny(z,r)})}function Sa(t,r,a){return{instance:t,listener:r,currentTarget:a}}function No(t,r){for(var a=r+"Capture",o=[];t!==null;){var c=t,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Hs(t,a),c!=null&&o.unshift(Sa(t,c,d)),c=Hs(t,r),c!=null&&o.push(Sa(t,c,d))),t.tag===3)return o;t=t.return}return[]}function ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ry(t,r,a,o,c){for(var d=r._reactName,g=[];a!==null&&a!==o;){var y=a,S=y.alternate,N=y.stateNode;if(y=y.tag,S!==null&&S===o)break;y!==5&&y!==26&&y!==27||N===null||(S=N,c?(N=Hs(a,d),N!=null&&g.unshift(Sa(a,N,S))):c||(N=Hs(a,d),N!=null&&g.push(Sa(a,N,S)))),a=a.return}g.length!==0&&t.push({event:r,listeners:g})}var sT=/\r\n?/g,aT=/\u0000|\uFFFD/g;function sy(t){return(typeof t=="string"?t:""+t).replace(sT,`
`).replace(aT,"")}function ay(t,r){return r=sy(r),sy(t)===r}function Oo(){}function Re(t,r,a,o,c,d){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||Nr(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&Nr(t,""+o);break;case"className":xl(t,"class",o);break;case"tabIndex":xl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":xl(t,a,o);break;case"style":om(t,o,d);break;case"data":if(r!=="object"){xl(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ul(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Re(t,r,"name",c.name,c,null),Re(t,r,"formEncType",c.formEncType,c,null),Re(t,r,"formMethod",c.formMethod,c,null),Re(t,r,"formTarget",c.formTarget,c,null)):(Re(t,r,"encType",c.encType,c,null),Re(t,r,"method",c.method,c,null),Re(t,r,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ul(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Oo);break;case"onScroll":o!=null&&me("scroll",t);break;case"onScrollEnd":o!=null&&me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ul(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":me("beforetoggle",t),me("toggle",t),Ml(t,"popover",o);break;case"xlinkActuate":bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":bn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":bn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":bn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":bn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ml(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ub.get(a)||a,Ml(t,a,o))}}function rd(t,r,a,o,c,d){switch(a){case"style":om(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Nr(t,o):(typeof o=="number"||typeof o=="bigint")&&Nr(t,""+o);break;case"onScroll":o!=null&&me("scroll",t);break;case"onScrollEnd":o!=null&&me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Oo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$p.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),r=a.slice(2,c?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,c),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,o,c);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ml(t,a,o)}}}function lt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",t),me("load",t);var o=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Re(t,r,d,g,a,null)}}c&&Re(t,r,"srcSet",a.srcSet,a,null),o&&Re(t,r,"src",a.src,a,null);return;case"input":me("invalid",t);var y=d=g=c=null,S=null,N=null;for(o in a)if(a.hasOwnProperty(o)){var k=a[o];if(k!=null)switch(o){case"name":c=k;break;case"type":g=k;break;case"checked":S=k;break;case"defaultChecked":N=k;break;case"value":d=k;break;case"defaultValue":y=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,r));break;default:Re(t,r,o,k,a,null)}}rm(t,d,y,S,N,g,c,!1),kl(t);return;case"select":me("invalid",t),o=g=d=null;for(c in a)if(a.hasOwnProperty(c)&&(y=a[c],y!=null))switch(c){case"value":d=y;break;case"defaultValue":g=y;break;case"multiple":o=y;default:Re(t,r,c,y,a,null)}r=d,a=g,t.multiple=!!o,r!=null?Ar(t,!!o,r,!1):a!=null&&Ar(t,!!o,a,!0);return;case"textarea":me("invalid",t),d=c=o=null;for(g in a)if(a.hasOwnProperty(g)&&(y=a[g],y!=null))switch(g){case"value":o=y;break;case"defaultValue":c=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:Re(t,r,g,y,a,null)}am(t,o,c,d),kl(t);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(o=a[S],o!=null))switch(S){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Re(t,r,S,o,a,null)}return;case"dialog":me("beforetoggle",t),me("toggle",t),me("cancel",t),me("close",t);break;case"iframe":case"object":me("load",t);break;case"video":case"audio":for(o=0;o<Ea.length;o++)me(Ea[o],t);break;case"image":me("error",t),me("load",t);break;case"details":me("toggle",t);break;case"embed":case"source":case"link":me("error",t),me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Re(t,r,N,o,a,null)}return;default:if(vc(r)){for(k in a)a.hasOwnProperty(k)&&(o=a[k],o!==void 0&&rd(t,r,k,o,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(o=a[y],o!=null&&Re(t,r,y,o,a,null))}function lT(t,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,y=null,S=null,N=null,k=null;for(D in a){var z=a[D];if(a.hasOwnProperty(D)&&z!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":S=z;default:o.hasOwnProperty(D)||Re(t,r,D,null,o,z)}}for(var O in o){var D=o[O];if(z=a[O],o.hasOwnProperty(O)&&(D!=null||z!=null))switch(O){case"type":d=D;break;case"name":c=D;break;case"checked":N=D;break;case"defaultChecked":k=D;break;case"value":g=D;break;case"defaultValue":y=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,r));break;default:D!==z&&Re(t,r,O,D,o,z)}}_c(t,g,y,S,N,k,d,c);return;case"select":D=g=y=O=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":D=S;default:o.hasOwnProperty(d)||Re(t,r,d,null,o,S)}for(c in o)if(d=o[c],S=a[c],o.hasOwnProperty(c)&&(d!=null||S!=null))switch(c){case"value":O=d;break;case"defaultValue":y=d;break;case"multiple":g=d;default:d!==S&&Re(t,r,c,d,o,S)}r=y,a=g,o=D,O!=null?Ar(t,!!a,O,!1):!!o!=!!a&&(r!=null?Ar(t,!!a,r,!0):Ar(t,!!a,a?[]:"",!1));return;case"textarea":D=O=null;for(y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!o.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Re(t,r,y,null,o,c)}for(g in o)if(c=o[g],d=a[g],o.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":O=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==d&&Re(t,r,g,c,o,d)}sm(t,O,D);return;case"option":for(var ae in a)if(O=a[ae],a.hasOwnProperty(ae)&&O!=null&&!o.hasOwnProperty(ae))switch(ae){case"selected":t.selected=!1;break;default:Re(t,r,ae,null,o,O)}for(S in o)if(O=o[S],D=a[S],o.hasOwnProperty(S)&&O!==D&&(O!=null||D!=null))switch(S){case"selected":t.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Re(t,r,S,O,o,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var te in a)O=a[te],a.hasOwnProperty(te)&&O!=null&&!o.hasOwnProperty(te)&&Re(t,r,te,null,o,O);for(N in o)if(O=o[N],D=a[N],o.hasOwnProperty(N)&&O!==D&&(O!=null||D!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,r));break;default:Re(t,r,N,O,o,D)}return;default:if(vc(r)){for(var Ae in a)O=a[Ae],a.hasOwnProperty(Ae)&&O!==void 0&&!o.hasOwnProperty(Ae)&&rd(t,r,Ae,void 0,o,O);for(k in o)O=o[k],D=a[k],!o.hasOwnProperty(k)||O===D||O===void 0&&D===void 0||rd(t,r,k,O,o,D);return}}for(var R in a)O=a[R],a.hasOwnProperty(R)&&O!=null&&!o.hasOwnProperty(R)&&Re(t,r,R,null,o,O);for(z in o)O=o[z],D=a[z],!o.hasOwnProperty(z)||O===D||O==null&&D==null||Re(t,r,z,O,o,D)}var sd=null,ad=null;function Do(t){return t.nodeType===9?t:t.ownerDocument}function ly(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oy(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function ld(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var od=null;function oT(){var t=window.event;return t&&t.type==="popstate"?t===od?!1:(od=t,!0):(od=null,!1)}var uy=typeof setTimeout=="function"?setTimeout:void 0,uT=typeof clearTimeout=="function"?clearTimeout:void 0,cy=typeof Promise=="function"?Promise:void 0,cT=typeof queueMicrotask=="function"?queueMicrotask:typeof cy<"u"?function(t){return cy.resolve(null).then(t).catch(fT)}:uy;function fT(t){setTimeout(function(){throw t})}function yi(t){return t==="head"}function fy(t,r){var a=r,o=0,c=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var g=t.ownerDocument;if(a&1&&ba(g.documentElement),a&2&&ba(g.body),a&4)for(a=g.head,ba(a),g=a.firstChild;g;){var y=g.nextSibling,S=g.nodeName;g[Ps]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=y}}if(c===0){t.removeChild(d),Da(r);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);Da(r)}function ud(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ud(a),hc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function dT(t,r,a,o){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ps])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Jt(t.nextSibling),t===null)break}return null}function hT(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jt(t.nextSibling),t===null))return null;return t}function cd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function pT(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var o=function(){r(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Jt(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var fd=null;function dy(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function hy(t,r,a){switch(r=Do(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ba(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);hc(t)}var Kt=new Map,py=new Set;function Io(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Un=K.d;K.d={f:mT,r:gT,D:_T,C:yT,L:vT,m:ET,X:bT,S:ST,M:CT};function mT(){var t=Un.f(),r=bo();return t||r}function gT(t){var r=Cr(t);r!==null&&r.tag===5&&r.type==="form"?kg(r):Un.r(t)}var is=typeof document>"u"?null:document;function my(t,r,a){var o=is;if(o&&typeof r=="string"&&r){var c=Bt(r);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),py.has(c)||(py.add(c),t={rel:t,crossOrigin:a,href:r},o.querySelector(c)===null&&(r=o.createElement("link"),lt(r,"link",t),Je(r),o.head.appendChild(r)))}}function _T(t){Un.D(t),my("dns-prefetch",t,null)}function yT(t,r){Un.C(t,r),my("preconnect",t,r)}function vT(t,r,a){Un.L(t,r,a);var o=is;if(o&&t&&r){var c='link[rel="preload"][as="'+Bt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Bt(a.imageSizes)+'"]')):c+='[href="'+Bt(t)+'"]';var d=c;switch(r){case"style":d=rs(t);break;case"script":d=ss(t)}Kt.has(d)||(t=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Kt.set(d,t),o.querySelector(c)!==null||r==="style"&&o.querySelector(Ca(d))||r==="script"&&o.querySelector(Ta(d))||(r=o.createElement("link"),lt(r,"link",t),Je(r),o.head.appendChild(r)))}}function ET(t,r){Un.m(t,r);var a=is;if(a&&t){var o=r&&typeof r.as=="string"?r.as:"script",c='link[rel="modulepreload"][as="'+Bt(o)+'"][href="'+Bt(t)+'"]',d=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ss(t)}if(!Kt.has(d)&&(t=_({rel:"modulepreload",href:t},r),Kt.set(d,t),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ta(d)))return}o=a.createElement("link"),lt(o,"link",t),Je(o),a.head.appendChild(o)}}}function ST(t,r,a){Un.S(t,r,a);var o=is;if(o&&t){var c=Tr(o).hoistableStyles,d=rs(t);r=r||"default";var g=c.get(d);if(!g){var y={loading:0,preload:null};if(g=o.querySelector(Ca(d)))y.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Kt.get(d))&&dd(t,a);var S=g=o.createElement("link");Je(S),lt(S,"link",t),S._p=new Promise(function(N,k){S.onload=N,S.onerror=k}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Mo(g,r,o)}g={type:"stylesheet",instance:g,count:1,state:y},c.set(d,g)}}}function bT(t,r){Un.X(t,r);var a=is;if(a&&t){var o=Tr(a).hoistableScripts,c=ss(t),d=o.get(c);d||(d=a.querySelector(Ta(c)),d||(t=_({src:t,async:!0},r),(r=Kt.get(c))&&hd(t,r),d=a.createElement("script"),Je(d),lt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function CT(t,r){Un.M(t,r);var a=is;if(a&&t){var o=Tr(a).hoistableScripts,c=ss(t),d=o.get(c);d||(d=a.querySelector(Ta(c)),d||(t=_({src:t,async:!0,type:"module"},r),(r=Kt.get(c))&&hd(t,r),d=a.createElement("script"),Je(d),lt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function gy(t,r,a,o){var c=(c=le.current)?Io(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=rs(a.href),a=Tr(c).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=rs(a.href);var d=Tr(c).hoistableStyles,g=d.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=c.querySelector(Ca(t)))&&!d._p&&(g.instance=d,g.state.loading=5),Kt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kt.set(t,a),d||TT(c,t,a,g.state))),r&&o===null)throw Error(s(528,""));return g}if(r&&o!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ss(a),a=Tr(c).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function rs(t){return'href="'+Bt(t)+'"'}function Ca(t){return'link[rel="stylesheet"]['+t+"]"}function _y(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function TT(t,r,a,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),lt(r,"link",a),Je(r),t.head.appendChild(r))}function ss(t){return'[src="'+Bt(t)+'"]'}function Ta(t){return"script[async]"+t}function yy(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+Bt(a.href)+'"]');if(o)return r.instance=o,Je(o),o;var c=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Je(o),lt(o,"style",c),Mo(o,a.precedence,t),r.instance=o;case"stylesheet":c=rs(a.href);var d=t.querySelector(Ca(c));if(d)return r.state.loading|=4,r.instance=d,Je(d),d;o=_y(a),(c=Kt.get(c))&&dd(o,c),d=(t.ownerDocument||t).createElement("link"),Je(d);var g=d;return g._p=new Promise(function(y,S){g.onload=y,g.onerror=S}),lt(d,"link",o),r.state.loading|=4,Mo(d,a.precedence,t),r.instance=d;case"script":return d=ss(a.src),(c=t.querySelector(Ta(d)))?(r.instance=c,Je(c),c):(o=a,(c=Kt.get(d))&&(o=_({},a),hd(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),Je(c),lt(c,"link",o),t.head.appendChild(c),r.instance=c);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Mo(o,a.precedence,t));return r.instance}function Mo(t,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,d=c,g=0;g<o.length;g++){var y=o[g];if(y.dataset.precedence===r)d=y;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function dd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function hd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var xo=null;function vy(t,r,a){if(xo===null){var o=new Map,c=xo=new Map;c.set(a,o)}else c=xo,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var d=a[c];if(!(d[Ps]||d[ht]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(r)||"";g=t+g;var y=o.get(g);y?y.push(d):o.set(g,[d])}}return o}function Ey(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function wT(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Sy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wa=null;function RT(){}function AT(t,r,a){if(wa===null)throw Error(s(475));var o=wa;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=rs(a.href),d=t.querySelector(Ca(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=ko.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=d,Je(d);return}d=t.ownerDocument||t,a=_y(a),(c=Kt.get(c))&&dd(a,c),d=d.createElement("link"),Je(d);var g=d;g._p=new Promise(function(y,S){g.onload=y,g.onerror=S}),lt(d,"link",a),r.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=ko.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function NT(){if(wa===null)throw Error(s(475));var t=wa;return t.stylesheets&&t.count===0&&pd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&pd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function ko(){if(this.count--,this.count===0){if(this.stylesheets)pd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lo=null;function pd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lo=new Map,r.forEach(OT,t),Lo=null,ko.call(t))}function OT(t,r){if(!(r.state.loading&4)){var a=Lo.get(t);if(a)var o=a.get(null);else{a=new Map,Lo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}c=r.instance,g=c.getAttribute("data-precedence"),d=a.get(g)||o,d===o&&a.set(null,c),a.set(g,c),this.count++,o=ko.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),r.state.loading|=4}}var Ra={$$typeof:H,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function DT(t,r,a,o,c,d,g,y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.hiddenUpdates=uc(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function by(t,r,a,o,c,d,g,y,S,N,k,z){return t=new DT(t,r,a,g,y,S,N,z),r=1,d===!0&&(r|=24),d=Dt(3,null,null,r),t.current=d,d.stateNode=t,r=Qc(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:r},Zc(d),t}function Cy(t){return t?(t=Ur,t):Ur}function Ty(t,r,a,o,c,d){c=Cy(c),o.context===null?o.context=c:o.pendingContext=c,o=si(r),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=ai(t,o,r),a!==null&&(Lt(a,t,r),na(a,t,r))}function wy(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function md(t,r){wy(t,r),(t=t.alternate)&&wy(t,r)}function Ry(t){if(t.tag===13){var r=Lr(t,67108864);r!==null&&Lt(r,t,67108864),md(t,67108864)}}var Uo=!0;function IT(t,r,a,o){var c=L.T;L.T=null;var d=K.p;try{K.p=2,gd(t,r,a,o)}finally{K.p=d,L.T=c}}function MT(t,r,a,o){var c=L.T;L.T=null;var d=K.p;try{K.p=8,gd(t,r,a,o)}finally{K.p=d,L.T=c}}function gd(t,r,a,o){if(Uo){var c=_d(o);if(c===null)id(t,r,o,Po,a),Ny(t,o);else if(kT(c,t,r,a,o))o.stopPropagation();else if(Ny(t,o),r&4&&-1<xT.indexOf(t)){for(;c!==null;){var d=Cr(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=ji(d.pendingLanes);if(g!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var S=1<<31-Nt(g);y.entanglements[1]|=S,g&=~S}mn(d),(Ce&6)===0&&(Eo=cn()+500,va(0))}}break;case 13:y=Lr(d,2),y!==null&&Lt(y,d,2),bo(),md(d,2)}if(d=_d(o),d===null&&id(t,r,o,Po,a),d===c)break;c=d}c!==null&&o.stopPropagation()}else id(t,r,o,null,a)}}function _d(t){return t=Sc(t),yd(t)}var Po=null;function yd(t){if(Po=null,t=br(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Po=t,null}function Ay(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yb()){case jp:return 2;case Vp:return 8;case Nl:case vb:return 32;case qp:return 268435456;default:return 32}default:return 32}}var vd=!1,vi=null,Ei=null,Si=null,Aa=new Map,Na=new Map,bi=[],xT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ny(t,r){switch(t){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Aa.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(r.pointerId)}}function Oa(t,r,a,o,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},r!==null&&(r=Cr(r),r!==null&&Ry(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),t)}function kT(t,r,a,o,c){switch(r){case"focusin":return vi=Oa(vi,t,r,a,o,c),!0;case"dragenter":return Ei=Oa(Ei,t,r,a,o,c),!0;case"mouseover":return Si=Oa(Si,t,r,a,o,c),!0;case"pointerover":var d=c.pointerId;return Aa.set(d,Oa(Aa.get(d)||null,t,r,a,o,c)),!0;case"gotpointercapture":return d=c.pointerId,Na.set(d,Oa(Na.get(d)||null,t,r,a,o,c)),!0}return!1}function Oy(t){var r=br(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Ab(t.priority,function(){if(a.tag===13){var o=kt();o=cc(o);var c=Lr(a,o);c!==null&&Lt(c,a,o),md(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zo(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=_d(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ec=o,a.target.dispatchEvent(o),Ec=null}else return r=Cr(a),r!==null&&Ry(r),t.blockedOn=a,!1;r.shift()}return!0}function Dy(t,r,a){zo(t)&&a.delete(r)}function LT(){vd=!1,vi!==null&&zo(vi)&&(vi=null),Ei!==null&&zo(Ei)&&(Ei=null),Si!==null&&zo(Si)&&(Si=null),Aa.forEach(Dy),Na.forEach(Dy)}function Ho(t,r){t.blockedOn===r&&(t.blockedOn=null,vd||(vd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,LT)))}var Bo=null;function Iy(t){Bo!==t&&(Bo=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bo===t&&(Bo=null);for(var r=0;r<t.length;r+=3){var a=t[r],o=t[r+1],c=t[r+2];if(typeof o!="function"){if(yd(o||a)===null)continue;break}var d=Cr(a);d!==null&&(t.splice(r,3),r-=3,yf(d,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function Da(t){function r(S){return Ho(S,t)}vi!==null&&Ho(vi,t),Ei!==null&&Ho(Ei,t),Si!==null&&Ho(Si,t),Aa.forEach(r),Na.forEach(r);for(var a=0;a<bi.length;a++){var o=bi[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<bi.length&&(a=bi[0],a.blockedOn===null);)Oy(a),a.blockedOn===null&&bi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],d=a[o+1],g=c[Et]||null;if(typeof d=="function")g||Iy(a);else if(g){var y=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[Et]||null)y=g.formAction;else if(yd(c)!==null)continue}else y=g.action;typeof y=="function"?a[o+1]=y:(a.splice(o,3),o-=3),Iy(a)}}}function Ed(t){this._internalRoot=t}jo.prototype.render=Ed.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,o=kt();Ty(a,o,t,r,null,null)},jo.prototype.unmount=Ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ty(t.current,2,null,t,null,null),bo(),r[Sr]=null}};function jo(t){this._internalRoot=t}jo.prototype.unstable_scheduleHydration=function(t){if(t){var r=Qp();t={blockedOn:null,target:t,priority:r};for(var a=0;a<bi.length&&r!==0&&r<bi[a].priority;a++);bi.splice(a,0,t),a===0&&Oy(t)}};var My=e.version;if(My!=="19.1.0")throw Error(s(527,My,"19.1.0"));K.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=h(r),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var UT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{ks=Vo.inject(UT),At=Vo}catch{}}return Ma.createRoot=function(t,r){if(!l(t))throw Error(s(299));var a=!1,o="",c=Qg,d=Wg,g=Xg,y=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(c=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(g=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(y=r.unstable_transitionCallbacks)),r=by(t,1,!1,null,null,a,o,c,d,g,y,null),t[Sr]=r.current,nd(t),new Ed(r)},Ma.hydrateRoot=function(t,r,a){if(!l(t))throw Error(s(299));var o=!1,c="",d=Qg,g=Wg,y=Xg,S=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),r=by(t,1,!0,r,a??null,o,c,d,g,y,S,N),r.context=Cy(null),a=r.current,o=kt(),o=cc(o),c=si(o),c.callback=null,ai(a,c,o),a=o,r.current.lanes=a,Us(r,a),mn(r),t[Sr]=r.current,nd(t),new jo(r)},Ma.version="19.1.0",Ma}var Vy;function WT(){if(Vy)return Td.exports;Vy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Td.exports=QT(),Td.exports}var XT=WT(),Nd={exports:{}},Od={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function $T(){if(qy)return Od;qy=1;var n=Uu();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,l=n.useRef,u=n.useEffect,f=n.useMemo,p=n.useDebugValue;return Od.useSyncExternalStoreWithSelector=function(h,m,_,E,v){var w=l(null);if(w.current===null){var T={hasValue:!1,value:null};w.current=T}else T=w.current;w=f(function(){function U(q){if(!M){if(M=!0,j=q,q=E(q),v!==void 0&&T.hasValue){var J=T.value;if(v(J,q))return H=J}return H=q}if(J=H,i(j,q))return J;var $=E(q);return v!==void 0&&v(J,$)?(j=q,J):(j=q,H=$)}var M=!1,j,H,F=_===void 0?null:_;return[function(){return U(m())},F===null?void 0:function(){return U(F())}]},[m,_,E,v]);var x=s(h,w[0],w[1]);return u(function(){T.hasValue=!0,T.value=x},[x]),p(x),x},Od}var Gy;function ZT(){return Gy||(Gy=1,Nd.exports=$T()),Nd.exports}var JT=ZT();function e1(n){n()}function t1(){let n=null,e=null;return{clear(){n=null,e=null},notify(){e1(()=>{let i=n;for(;i;)i.callback(),i=i.next})},get(){const i=[];let s=n;for(;s;)i.push(s),s=s.next;return i},subscribe(i){let s=!0;const l=e={callback:i,next:null,prev:e};return l.prev?l.prev.next=l:n=l,function(){!s||n===null||(s=!1,l.next?l.next.prev=l.prev:e=l.prev,l.prev?l.prev.next=l.next:n=l.next)}}}}var Fy={notify(){},get:()=>[]};function n1(n,e){let i,s=Fy,l=0,u=!1;function f(x){_();const U=s.subscribe(x);let M=!1;return()=>{M||(M=!0,U(),E())}}function p(){s.notify()}function h(){T.onStateChange&&T.onStateChange()}function m(){return u}function _(){l++,i||(i=n.subscribe(h),s=t1())}function E(){l--,i&&l===0&&(i(),i=void 0,s.clear(),s=Fy)}function v(){u||(u=!0,_())}function w(){u&&(u=!1,E())}const T={addNestedSub:f,notifyNestedSubs:p,handleChangeWrapper:h,isSubscribed:m,trySubscribe:v,tryUnsubscribe:w,getListeners:()=>s};return T}var i1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",r1=i1(),s1=()=>typeof navigator<"u"&&navigator.product==="ReactNative",a1=s1(),l1=()=>r1||a1?I.useLayoutEffect:I.useEffect,o1=l1(),Dd=Symbol.for("react-redux-context"),Id=typeof globalThis<"u"?globalThis:{};function u1(){if(!I.createContext)return{};const n=Id[Dd]??(Id[Dd]=new Map);let e=n.get(I.createContext);return e||(e=I.createContext(null),n.set(I.createContext,e)),e}var Li=u1();function c1(n){const{children:e,context:i,serverState:s,store:l}=n,u=I.useMemo(()=>{const h=n1(l);return{store:l,subscription:h,getServerState:s?()=>s:void 0}},[l,s]),f=I.useMemo(()=>l.getState(),[l]);o1(()=>{const{subscription:h}=u;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),f!==l.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[u,f]);const p=i||Li;return I.createElement(p.Provider,{value:u},e)}var f1=c1;function xh(n=Li){return function(){return I.useContext(n)}}var b0=xh();function C0(n=Li){const e=n===Li?b0:xh(n),i=()=>{const{store:s}=e();return s};return Object.assign(i,{withTypes:()=>i}),i}var d1=C0();function h1(n=Li){const e=n===Li?d1:C0(n),i=()=>e().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var p1=h1(),m1=(n,e)=>n===e;function g1(n=Li){const e=n===Li?b0:xh(n),i=(s,l={})=>{const{equalityFn:u=m1}=typeof l=="function"?{equalityFn:l}:l,f=e(),{store:p,subscription:h,getServerState:m}=f;I.useRef(!0);const _=I.useCallback({[s.name](v){return s(v)}}[s.name],[s]),E=JT.useSyncExternalStoreWithSelector(h.addNestedSub,p.getState,m||p.getState,_,u);return I.useDebugValue(E),E};return Object.assign(i,{withTypes:()=>i}),i}var _1=g1(),xa={},Yy;function y1(){if(Yy)return xa;Yy=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.parse=f,xa.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function f(v,w){const T=new u,x=v.length;if(x<2)return T;const U=(w==null?void 0:w.decode)||_;let M=0;do{const j=v.indexOf("=",M);if(j===-1)break;const H=v.indexOf(";",M),F=H===-1?x:H;if(j>F){M=v.lastIndexOf(";",j-1)+1;continue}const q=p(v,M,j),J=h(v,j,q),$=v.slice(q,J);if(T[$]===void 0){let ue=p(v,j+1,F),X=h(v,F,ue);const Se=U(v.slice(ue,X));T[$]=Se}M=F+1}while(M<x);return T}function p(v,w,T){do{const x=v.charCodeAt(w);if(x!==32&&x!==9)return w}while(++w<T);return T}function h(v,w,T){for(;w>T;){const x=v.charCodeAt(--w);if(x!==32&&x!==9)return w+1}return T}function m(v,w,T){const x=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const U=x(w);if(!e.test(U))throw new TypeError(`argument val is invalid: ${w}`);let M=v+"="+U;if(!T)return M;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);M+="; Max-Age="+T.maxAge}if(T.domain){if(!i.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);M+="; Domain="+T.domain}if(T.path){if(!s.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);M+="; Path="+T.path}if(T.expires){if(!E(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);M+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(M+="; HttpOnly"),T.secure&&(M+="; Secure"),T.partitioned&&(M+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return M}function _(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function E(v){return l.call(v)==="[object Date]"}return xa}y1();var Ky="popstate";function v1(n={}){function e(s,l){let{pathname:u,search:f,hash:p}=s.location;return eh("",{pathname:u,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(s,l){return typeof l=="string"?l:$a(l)}return S1(e,i,null,n)}function Pe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function an(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function E1(){return Math.random().toString(36).substring(2,10)}function Qy(n,e){return{usr:n.state,key:n.key,idx:e}}function eh(n,e,i=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Cs(e):e,state:i,key:e&&e.key||s||E1()}}function $a({pathname:n="/",search:e="",hash:i=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Cs(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substring(i),n=n.substring(0,i));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function S1(n,e,i,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,p="POP",h=null,m=_();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function _(){return(f.state||{idx:null}).idx}function E(){p="POP";let U=_(),M=U==null?null:U-m;m=U,h&&h({action:p,location:x.location,delta:M})}function v(U,M){p="PUSH";let j=eh(x.location,U,M);m=_()+1;let H=Qy(j,m),F=x.createHref(j);try{f.pushState(H,"",F)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;l.location.assign(F)}u&&h&&h({action:p,location:x.location,delta:1})}function w(U,M){p="REPLACE";let j=eh(x.location,U,M);m=_();let H=Qy(j,m),F=x.createHref(j);f.replaceState(H,"",F),u&&h&&h({action:p,location:x.location,delta:0})}function T(U){return b1(U)}let x={get action(){return p},get location(){return n(l,f)},listen(U){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(Ky,E),h=U,()=>{l.removeEventListener(Ky,E),h=null}},createHref(U){return e(l,U)},createURL:T,encodeLocation(U){let M=T(U);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:w,go(U){return f.go(U)}};return x}function b1(n,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Pe(i,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:$a(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function T0(n,e,i="/"){return C1(n,e,i,!1)}function C1(n,e,i,s){let l=typeof e=="string"?Cs(e):e,u=Gn(l.pathname||"/",i);if(u==null)return null;let f=w0(n);T1(f);let p=null;for(let h=0;p==null&&h<f.length;++h){let m=L1(u);p=x1(f[h],m,s)}return p}function w0(n,e=[],i=[],s=""){let l=(u,f,p)=>{let h={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};h.relativePath.startsWith("/")&&(Pe(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length));let m=Bn([s,h.relativePath]),_=i.concat(h);u.children&&u.children.length>0&&(Pe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),w0(u.children,e,_,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:I1(m,u.index),routesMeta:_})};return n.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))l(u,f);else for(let h of R0(u.path))l(u,f,h)}),e}function R0(n){let e=n.split("/");if(e.length===0)return[];let[i,...s]=e,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=R0(s.join("/")),p=[];return p.push(...f.map(h=>h===""?u:[u,h].join("/"))),l&&p.push(...f),p.map(h=>n.startsWith("/")&&h===""?"/":h)}function T1(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:M1(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var w1=/^:[\w-]+$/,R1=3,A1=2,N1=1,O1=10,D1=-2,Wy=n=>n==="*";function I1(n,e){let i=n.split("/"),s=i.length;return i.some(Wy)&&(s+=D1),e&&(s+=A1),i.filter(l=>!Wy(l)).reduce((l,u)=>l+(w1.test(u)?R1:u===""?N1:O1),s)}function M1(n,e){return n.length===e.length&&n.slice(0,-1).every((s,l)=>s===e[l])?n[n.length-1]-e[e.length-1]:0}function x1(n,e,i=!1){let{routesMeta:s}=n,l={},u="/",f=[];for(let p=0;p<s.length;++p){let h=s[p],m=p===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",E=ru({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},_),v=h.route;if(!E&&m&&i&&!s[s.length-1].route.index&&(E=ru({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},_)),!E)return null;Object.assign(l,E.params),f.push({params:l,pathname:Bn([u,E.pathname]),pathnameBase:H1(Bn([u,E.pathnameBase])),route:v}),E.pathnameBase!=="/"&&(u=Bn([u,E.pathnameBase]))}return f}function ru(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,s]=k1(n.path,n.caseSensitive,n.end),l=e.match(i);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:s.reduce((m,{paramName:_,isOptional:E},v)=>{if(_==="*"){let T=p[v]||"";f=u.slice(0,u.length-T.length).replace(/(.)\/+$/,"$1")}const w=p[v];return E&&!w?m[_]=void 0:m[_]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:n}}function k1(n,e=!1,i=!0){an(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,h)=>(s.push({paramName:p,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function L1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return an(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=n.charAt(i);return s&&s!=="/"?null:n.slice(i)||"/"}function U1(n,e="/"){let{pathname:i,search:s="",hash:l=""}=typeof n=="string"?Cs(n):n;return{pathname:i?i.startsWith("/")?i:P1(i,e):e,search:B1(s),hash:j1(l)}}function P1(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Md(n,e,i,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z1(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function kh(n){let e=z1(n);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Lh(n,e,i,s=!1){let l;typeof n=="string"?l=Cs(n):(l={...n},Pe(!l.pathname||!l.pathname.includes("?"),Md("?","pathname","search",l)),Pe(!l.pathname||!l.pathname.includes("#"),Md("#","pathname","hash",l)),Pe(!l.search||!l.search.includes("#"),Md("#","search","hash",l)));let u=n===""||l.pathname==="",f=u?"/":l.pathname,p;if(f==null)p=i;else{let E=e.length-1;if(!s&&f.startsWith("..")){let v=f.split("/");for(;v[0]==="..";)v.shift(),E-=1;l.pathname=v.join("/")}p=E>=0?e[E]:"/"}let h=U1(l,p),m=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(m||_)&&(h.pathname+="/"),h}var Bn=n=>n.join("/").replace(/\/\/+/g,"/"),H1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),B1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,j1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function V1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var A0=["POST","PUT","PATCH","DELETE"];new Set(A0);var q1=["GET",...A0];new Set(q1);var Ts=I.createContext(null);Ts.displayName="DataRouter";var Pu=I.createContext(null);Pu.displayName="DataRouterState";var N0=I.createContext({isTransitioning:!1});N0.displayName="ViewTransition";var G1=I.createContext(new Map);G1.displayName="Fetchers";var F1=I.createContext(null);F1.displayName="Await";var on=I.createContext(null);on.displayName="Navigation";var hl=I.createContext(null);hl.displayName="Location";var un=I.createContext({outlet:null,matches:[],isDataRoute:!1});un.displayName="Route";var Uh=I.createContext(null);Uh.displayName="RouteError";function Y1(n,{relative:e}={}){Pe(ws(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=I.useContext(on),{hash:l,pathname:u,search:f}=pl(n,{relative:e}),p=u;return i!=="/"&&(p=u==="/"?i:Bn([i,u])),s.createHref({pathname:p,search:f,hash:l})}function ws(){return I.useContext(hl)!=null}function Hi(){return Pe(ws(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(hl).location}var O0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D0(n){I.useContext(on).static||I.useLayoutEffect(n)}function Ph(){let{isDataRoute:n}=I.useContext(un);return n?lw():K1()}function K1(){Pe(ws(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(Ts),{basename:e,navigator:i}=I.useContext(on),{matches:s}=I.useContext(un),{pathname:l}=Hi(),u=JSON.stringify(kh(s)),f=I.useRef(!1);return D0(()=>{f.current=!0}),I.useCallback((h,m={})=>{if(an(f.current,O0),!f.current)return;if(typeof h=="number"){i.go(h);return}let _=Lh(h,JSON.parse(u),l,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Bn([e,_.pathname])),(m.replace?i.replace:i.push)(_,m.state,m)},[e,i,u,l,n])}var Q1=I.createContext(null);function W1(n){let e=I.useContext(un).outlet;return e&&I.createElement(Q1.Provider,{value:n},e)}function pl(n,{relative:e}={}){let{matches:i}=I.useContext(un),{pathname:s}=Hi(),l=JSON.stringify(kh(i));return I.useMemo(()=>Lh(n,JSON.parse(l),s,e==="path"),[n,l,s,e])}function X1(n,e){return I0(n,e)}function I0(n,e,i,s){var M;Pe(ws(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(on),{matches:u}=I.useContext(un),f=u[u.length-1],p=f?f.params:{},h=f?f.pathname:"/",m=f?f.pathnameBase:"/",_=f&&f.route;{let j=_&&_.path||"";M0(h,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=Hi(),v;if(e){let j=typeof e=="string"?Cs(e):e;Pe(m==="/"||((M=j.pathname)==null?void 0:M.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${j.pathname}" was given in the \`location\` prop.`),v=j}else v=E;let w=v.pathname||"/",T=w;if(m!=="/"){let j=m.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=T0(n,{pathname:T});an(_||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),an(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=tw(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:Bn([m,l.encodeLocation?l.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:Bn([m,l.encodeLocation?l.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,i,s);return e&&U?I.createElement(hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},U):U}function $1(){let n=aw(),e=V1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:u},"ErrorBoundary")," or"," ",I.createElement("code",{style:u},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),i?I.createElement("pre",{style:l},i):null,f)}var Z1=I.createElement($1,null),J1=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?I.createElement(un.Provider,{value:this.props.routeContext},I.createElement(Uh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ew({routeContext:n,match:e,children:i}){let s=I.useContext(Ts);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(un.Provider,{value:n},i)}function tw(n,e=[],i=null,s=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let l=n,u=i==null?void 0:i.errors;if(u!=null){let h=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);Pe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let f=!1,p=-1;if(i)for(let h=0;h<l.length;h++){let m=l[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=h),m.route.id){let{loaderData:_,errors:E}=i,v=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||v){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((h,m,_)=>{let E,v=!1,w=null,T=null;i&&(E=u&&m.route.id?u[m.route.id]:void 0,w=m.route.errorElement||Z1,f&&(p<0&&_===0?(M0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,T=null):p===_&&(v=!0,T=m.route.hydrateFallbackElement||null)));let x=e.concat(l.slice(0,_+1)),U=()=>{let M;return E?M=w:v?M=T:m.route.Component?M=I.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=h,I.createElement(ew,{match:m,routeContext:{outlet:h,matches:x,isDataRoute:i!=null},children:M})};return i&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?I.createElement(J1,{location:i.location,revalidation:i.revalidation,component:w,error:E,children:U(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):U()},null)}function zh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nw(n){let e=I.useContext(Ts);return Pe(e,zh(n)),e}function iw(n){let e=I.useContext(Pu);return Pe(e,zh(n)),e}function rw(n){let e=I.useContext(un);return Pe(e,zh(n)),e}function Hh(n){let e=rw(n),i=e.matches[e.matches.length-1];return Pe(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function sw(){return Hh("useRouteId")}function aw(){var s;let n=I.useContext(Uh),e=iw("useRouteError"),i=Hh("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[i]}function lw(){let{router:n}=nw("useNavigate"),e=Hh("useNavigate"),i=I.useRef(!1);return D0(()=>{i.current=!0}),I.useCallback(async(l,u={})=>{an(i.current,O0),i.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...u}))},[n,e])}var Xy={};function M0(n,e,i){!e&&!Xy[n]&&(Xy[n]=!0,an(!1,i))}I.memo(ow);function ow({routes:n,future:e,state:i}){return I0(n,void 0,i,e)}function uw({to:n,replace:e,state:i,relative:s}){Pe(ws(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=I.useContext(on);an(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=I.useContext(un),{pathname:f}=Hi(),p=Ph(),h=Lh(n,kh(u),f,s==="path"),m=JSON.stringify(h);return I.useEffect(()=>{p(JSON.parse(m),{replace:e,state:i,relative:s})},[p,m,s,e,i]),null}function cw(n){return W1(n.context)}function Ha(n){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fw({basename:n="/",children:e=null,location:i,navigationType:s="POP",navigator:l,static:u=!1}){Pe(!ws(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof i=="string"&&(i=Cs(i));let{pathname:h="/",search:m="",hash:_="",state:E=null,key:v="default"}=i,w=I.useMemo(()=>{let T=Gn(h,f);return T==null?null:{location:{pathname:T,search:m,hash:_,state:E,key:v},navigationType:s}},[f,h,m,_,E,v,s]);return an(w!=null,`<Router basename="${f}"> is not able to match the URL "${h}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:I.createElement(on.Provider,{value:p},I.createElement(hl.Provider,{children:e,value:w}))}function dw({children:n,location:e}){return X1(th(n),e)}function th(n,e=[]){let i=[];return I.Children.forEach(n,(s,l)=>{if(!I.isValidElement(s))return;let u=[...e,l];if(s.type===I.Fragment){i.push.apply(i,th(s.props.children,u));return}Pe(s.type===Ha,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=th(s.props.children,u)),i.push(f)}),i}var Wo="get",Xo="application/x-www-form-urlencoded";function zu(n){return n!=null&&typeof n.tagName=="string"}function hw(n){return zu(n)&&n.tagName.toLowerCase()==="button"}function pw(n){return zu(n)&&n.tagName.toLowerCase()==="form"}function mw(n){return zu(n)&&n.tagName.toLowerCase()==="input"}function gw(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _w(n,e){return n.button===0&&(!e||e==="_self")&&!gw(n)}var qo=null;function yw(){if(qo===null)try{new FormData(document.createElement("form"),0),qo=!1}catch{qo=!0}return qo}var vw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xd(n){return n!=null&&!vw.has(n)?(an(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xo}"`),null):n}function Ew(n,e){let i,s,l,u,f;if(pw(n)){let p=n.getAttribute("action");s=p?Gn(p,e):null,i=n.getAttribute("method")||Wo,l=xd(n.getAttribute("enctype"))||Xo,u=new FormData(n)}else if(hw(n)||mw(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||p.getAttribute("action");if(s=h?Gn(h,e):null,i=n.getAttribute("formmethod")||p.getAttribute("method")||Wo,l=xd(n.getAttribute("formenctype"))||xd(p.getAttribute("enctype"))||Xo,u=new FormData(p,n),!yw()){let{name:m,type:_,value:E}=n;if(_==="image"){let v=m?`${m}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else m&&u.append(m,E)}}else{if(zu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Wo,s=null,l=Xo,f=n}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:l,formData:u,body:f}}function Bh(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Sw(n,e){if(n.id in e)return e[n.id];try{let i=await import(n.module);return e[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bw(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Cw(n,e,i){let s=await Promise.all(n.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await Sw(u,i);return f.links?f.links():[]}return[]}));return Aw(s.flat(1).filter(bw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function $y(n,e,i,s,l,u){let f=(h,m)=>i[m]?h.route.id!==i[m].route.id:!0,p=(h,m)=>{var _;return i[m].pathname!==h.pathname||((_=i[m].route.path)==null?void 0:_.endsWith("*"))&&i[m].params["*"]!==h.params["*"]};return u==="assets"?e.filter((h,m)=>f(h,m)||p(h,m)):u==="data"?e.filter((h,m)=>{var E;let _=s.routes[h.route.id];if(!_||!_.hasLoader)return!1;if(f(h,m)||p(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((E=i[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Tw(n,e,{includeHydrateFallback:i}={}){return ww(n.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function ww(n){return[...new Set(n)]}function Rw(n){let e={},i=Object.keys(n).sort();for(let s of i)e[s]=n[s];return e}function Aw(n,e){let i=new Set;return new Set(e),n.reduce((s,l)=>{let u=JSON.stringify(Rw(l));return i.has(u)||(i.add(u),s.push({key:u,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Nw=new Set([100,101,204,205]);function Ow(n,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname="_root.data":e&&Gn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function x0(){let n=I.useContext(Ts);return Bh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Dw(){let n=I.useContext(Pu);return Bh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jh=I.createContext(void 0);jh.displayName="FrameworkContext";function k0(){let n=I.useContext(jh);return Bh(n,"You must render this element inside a <HydratedRouter> element"),n}function Iw(n,e){let i=I.useContext(jh),[s,l]=I.useState(!1),[u,f]=I.useState(!1),{onFocus:p,onBlur:h,onMouseEnter:m,onMouseLeave:_,onTouchStart:E}=e,v=I.useRef(null);I.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let x=M=>{M.forEach(j=>{f(j.isIntersecting)})},U=new IntersectionObserver(x,{threshold:.5});return v.current&&U.observe(v.current),()=>{U.disconnect()}}},[n]),I.useEffect(()=>{if(s){let x=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(x)}}},[s]);let w=()=>{l(!0)},T=()=>{l(!1),f(!1)};return i?n!=="intent"?[u,v,{}]:[u,v,{onFocus:ka(p,w),onBlur:ka(h,T),onMouseEnter:ka(m,w),onMouseLeave:ka(_,T),onTouchStart:ka(E,w)}]:[!1,v,{}]}function ka(n,e){return i=>{n&&n(i),i.defaultPrevented||e(i)}}function Mw({page:n,...e}){let{router:i}=x0(),s=I.useMemo(()=>T0(i.routes,n,i.basename),[i.routes,n,i.basename]);return s?I.createElement(kw,{page:n,matches:s,...e}):null}function xw(n){let{manifest:e,routeModules:i}=k0(),[s,l]=I.useState([]);return I.useEffect(()=>{let u=!1;return Cw(n,e,i).then(f=>{u||l(f)}),()=>{u=!0}},[n,e,i]),s}function kw({page:n,matches:e,...i}){let s=Hi(),{manifest:l,routeModules:u}=k0(),{basename:f}=x0(),{loaderData:p,matches:h}=Dw(),m=I.useMemo(()=>$y(n,e,h,l,s,"data"),[n,e,h,l,s]),_=I.useMemo(()=>$y(n,e,h,l,s,"assets"),[n,e,h,l,s]),E=I.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let T=new Set,x=!1;if(e.forEach(M=>{var H;let j=l.routes[M.route.id];!j||!j.hasLoader||(!m.some(F=>F.route.id===M.route.id)&&M.route.id in p&&((H=u[M.route.id])!=null&&H.shouldRevalidate)||j.hasClientLoader?x=!0:T.add(M.route.id))}),T.size===0)return[];let U=Ow(n,f);return x&&T.size>0&&U.searchParams.set("_routes",e.filter(M=>T.has(M.route.id)).map(M=>M.route.id).join(",")),[U.pathname+U.search]},[f,p,s,l,m,e,n,u]),v=I.useMemo(()=>Tw(_,l),[_,l]),w=xw(_);return I.createElement(I.Fragment,null,E.map(T=>I.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...i})),v.map(T=>I.createElement("link",{key:T,rel:"modulepreload",href:T,...i})),w.map(({key:T,link:x})=>I.createElement("link",{key:T,...x})))}function Lw(...n){return e=>{n.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var L0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L0&&(window.__reactRouterVersion="7.6.2")}catch{}function Uw({basename:n,children:e,window:i}){let s=I.useRef();s.current==null&&(s.current=v1({window:i,v5Compat:!0}));let l=s.current,[u,f]=I.useState({action:l.action,location:l.location}),p=I.useCallback(h=>{I.startTransition(()=>f(h))},[f]);return I.useLayoutEffect(()=>l.listen(p),[l,p]),I.createElement(fw,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l})}var U0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vh=I.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:p,target:h,to:m,preventScrollReset:_,viewTransition:E,...v},w){let{basename:T}=I.useContext(on),x=typeof m=="string"&&U0.test(m),U,M=!1;if(typeof m=="string"&&x&&(U=m,L0))try{let X=new URL(window.location.href),Se=m.startsWith("//")?new URL(X.protocol+m):new URL(m),Qe=Gn(Se.pathname,T);Se.origin===X.origin&&Qe!=null?m=Qe+Se.search+Se.hash:M=!0}catch{an(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=Y1(m,{relative:l}),[H,F,q]=Iw(s,v),J=Bw(m,{replace:f,state:p,target:h,preventScrollReset:_,relative:l,viewTransition:E});function $(X){e&&e(X),X.defaultPrevented||J(X)}let ue=I.createElement("a",{...v,...q,href:U||j,onClick:M||u?e:$,ref:Lw(w,F),target:h,"data-discover":!x&&i==="render"?"true":void 0});return H&&!x?I.createElement(I.Fragment,null,ue,I.createElement(Mw,{page:j})):ue});Vh.displayName="Link";var Pw=I.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:p,children:h,...m},_){let E=pl(f,{relative:m.relative}),v=Hi(),w=I.useContext(Pu),{navigator:T,basename:x}=I.useContext(on),U=w!=null&&Fw(E)&&p===!0,M=T.encodeLocation?T.encodeLocation(E).pathname:E.pathname,j=v.pathname,H=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(j=j.toLowerCase(),H=H?H.toLowerCase():null,M=M.toLowerCase()),H&&x&&(H=Gn(H,x)||H);const F=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let q=j===M||!l&&j.startsWith(M)&&j.charAt(F)==="/",J=H!=null&&(H===M||!l&&H.startsWith(M)&&H.charAt(M.length)==="/"),$={isActive:q,isPending:J,isTransitioning:U},ue=q?e:void 0,X;typeof s=="function"?X=s($):X=[s,q?"active":null,J?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let Se=typeof u=="function"?u($):u;return I.createElement(Vh,{...m,"aria-current":ue,className:X,ref:_,style:Se,to:f,viewTransition:p},typeof h=="function"?h($):h)});Pw.displayName="NavLink";var zw=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:l,state:u,method:f=Wo,action:p,onSubmit:h,relative:m,preventScrollReset:_,viewTransition:E,...v},w)=>{let T=qw(),x=Gw(p,{relative:m}),U=f.toLowerCase()==="get"?"get":"post",M=typeof p=="string"&&U0.test(p),j=H=>{if(h&&h(H),H.defaultPrevented)return;H.preventDefault();let F=H.nativeEvent.submitter,q=(F==null?void 0:F.getAttribute("formmethod"))||f;T(F||H.currentTarget,{fetcherKey:e,method:q,navigate:i,replace:l,state:u,relative:m,preventScrollReset:_,viewTransition:E})};return I.createElement("form",{ref:w,method:U,action:x,onSubmit:s?h:j,...v,"data-discover":!M&&n==="render"?"true":void 0})});zw.displayName="Form";function Hw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P0(n){let e=I.useContext(Ts);return Pe(e,Hw(n)),e}function Bw(n,{target:e,replace:i,state:s,preventScrollReset:l,relative:u,viewTransition:f}={}){let p=Ph(),h=Hi(),m=pl(n,{relative:u});return I.useCallback(_=>{if(_w(_,e)){_.preventDefault();let E=i!==void 0?i:$a(h)===$a(m);p(n,{replace:E,state:s,preventScrollReset:l,relative:u,viewTransition:f})}},[h,p,m,i,s,e,n,l,u,f])}var jw=0,Vw=()=>`__${String(++jw)}__`;function qw(){let{router:n}=P0("useSubmit"),{basename:e}=I.useContext(on),i=sw();return I.useCallback(async(s,l={})=>{let{action:u,method:f,encType:p,formData:h,body:m}=Ew(s,e);if(l.navigate===!1){let _=l.fetcherKey||Vw();await n.fetch(_,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||f,formEncType:l.encType||p,flushSync:l.flushSync})}else await n.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||f,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,i])}function Gw(n,{relative:e}={}){let{basename:i}=I.useContext(on),s=I.useContext(un);Pe(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...pl(n||".",{relative:e})},f=Hi();if(n==null){u.search=f.search;let p=new URLSearchParams(u.search),h=p.getAll("index");if(h.some(_=>_==="")){p.delete("index"),h.filter(E=>E).forEach(E=>p.append("index",E));let _=p.toString();u.search=_?`?${_}`:""}}return(!n||n===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Bn([i,u.pathname])),$a(u)}function Fw(n,e={}){let i=I.useContext(N0);Pe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=P0("useViewTransitionState"),l=pl(n,{relative:e.relative});if(!i.isTransitioning)return!1;let u=Gn(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=Gn(i.nextLocation.pathname,s)||i.nextLocation.pathname;return ru(l.pathname,f)!=null||ru(l.pathname,u)!=null}[...Nw];function ot(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Yw=typeof Symbol=="function"&&Symbol.observable||"@@observable",Zy=Yw,kd=()=>Math.random().toString(36).substring(7).split("").join("."),Kw={INIT:`@@redux/INIT${kd()}`,REPLACE:`@@redux/REPLACE${kd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kd()}`},su=Kw;function qh(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function z0(n,e,i){if(typeof n!="function")throw new Error(ot(2));if(typeof e=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(ot(0));if(typeof e=="function"&&typeof i>"u"&&(i=e,e=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(ot(1));return i(z0)(n,e)}let s=n,l=e,u=new Map,f=u,p=0,h=!1;function m(){f===u&&(f=new Map,u.forEach((U,M)=>{f.set(M,U)}))}function _(){if(h)throw new Error(ot(3));return l}function E(U){if(typeof U!="function")throw new Error(ot(4));if(h)throw new Error(ot(5));let M=!0;m();const j=p++;return f.set(j,U),function(){if(M){if(h)throw new Error(ot(6));M=!1,m(),f.delete(j),u=null}}}function v(U){if(!qh(U))throw new Error(ot(7));if(typeof U.type>"u")throw new Error(ot(8));if(typeof U.type!="string")throw new Error(ot(17));if(h)throw new Error(ot(9));try{h=!0,l=s(l,U)}finally{h=!1}return(u=f).forEach(j=>{j()}),U}function w(U){if(typeof U!="function")throw new Error(ot(10));s=U,v({type:su.REPLACE})}function T(){const U=E;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(ot(11));function j(){const F=M;F.next&&F.next(_())}return j(),{unsubscribe:U(j)}},[Zy](){return this}}}return v({type:su.INIT}),{dispatch:v,subscribe:E,getState:_,replaceReducer:w,[Zy]:T}}function Qw(n){Object.keys(n).forEach(e=>{const i=n[e];if(typeof i(void 0,{type:su.INIT})>"u")throw new Error(ot(12));if(typeof i(void 0,{type:su.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ot(13))})}function Ww(n){const e=Object.keys(n),i={};for(let u=0;u<e.length;u++){const f=e[u];typeof n[f]=="function"&&(i[f]=n[f])}const s=Object.keys(i);let l;try{Qw(i)}catch(u){l=u}return function(f={},p){if(l)throw l;let h=!1;const m={};for(let _=0;_<s.length;_++){const E=s[_],v=i[E],w=f[E],T=v(w,p);if(typeof T>"u")throw p&&p.type,new Error(ot(14));m[E]=T,h=h||T!==w}return h=h||s.length!==Object.keys(f).length,h?m:f}}function au(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,i)=>(...s)=>e(i(...s)))}function Xw(...n){return e=>(i,s)=>{const l=e(i,s);let u=()=>{throw new Error(ot(15))};const f={getState:l.getState,dispatch:(h,...m)=>u(h,...m)},p=n.map(h=>h(f));return u=au(...p)(l.dispatch),{...l,dispatch:u}}}function $w(n){return qh(n)&&"type"in n&&typeof n.type=="string"}var H0=Symbol.for("immer-nothing"),Jy=Symbol.for("immer-draftable"),Ut=Symbol.for("immer-state");function en(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ps=Object.getPrototypeOf;function ur(n){return!!n&&!!n[Ut]}function Fn(n){var e;return n?B0(n)||Array.isArray(n)||!!n[Jy]||!!((e=n.constructor)!=null&&e[Jy])||Bu(n)||ju(n):!1}var Zw=Object.prototype.constructor.toString();function B0(n){if(!n||typeof n!="object")return!1;const e=ps(n);if(e===null)return!0;const i=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===Zw}function lu(n,e){Hu(n)===0?Reflect.ownKeys(n).forEach(i=>{e(i,n[i],n)}):n.forEach((i,s)=>e(s,i,n))}function Hu(n){const e=n[Ut];return e?e.type_:Array.isArray(n)?1:Bu(n)?2:ju(n)?3:0}function nh(n,e){return Hu(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function j0(n,e,i){const s=Hu(n);s===2?n.set(e,i):s===3?n.add(i):n[e]=i}function Jw(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Bu(n){return n instanceof Map}function ju(n){return n instanceof Set}function sr(n){return n.copy_||n.base_}function ih(n,e){if(Bu(n))return new Map(n);if(ju(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const i=B0(n);if(e===!0||e==="class_only"&&!i){const s=Object.getOwnPropertyDescriptors(n);delete s[Ut];let l=Reflect.ownKeys(s);for(let u=0;u<l.length;u++){const f=l[u],p=s[f];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(s[f]={configurable:!0,writable:!0,enumerable:p.enumerable,value:n[f]})}return Object.create(ps(n),s)}else{const s=ps(n);if(s!==null&&i)return{...n};const l=Object.create(s);return Object.assign(l,n)}}function Gh(n,e=!1){return Vu(n)||ur(n)||!Fn(n)||(Hu(n)>1&&(n.set=n.add=n.clear=n.delete=eR),Object.freeze(n),e&&Object.entries(n).forEach(([i,s])=>Gh(s,!0))),n}function eR(){en(2)}function Vu(n){return Object.isFrozen(n)}var tR={};function cr(n){const e=tR[n];return e||en(0,n),e}var Za;function V0(){return Za}function nR(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ev(n,e){e&&(cr("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function rh(n){sh(n),n.drafts_.forEach(iR),n.drafts_=null}function sh(n){n===Za&&(Za=n.parent_)}function tv(n){return Za=nR(Za,n)}function iR(n){const e=n[Ut];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function nv(n,e){e.unfinalizedDrafts_=e.drafts_.length;const i=e.drafts_[0];return n!==void 0&&n!==i?(i[Ut].modified_&&(rh(e),en(4)),Fn(n)&&(n=ou(e,n),e.parent_||uu(e,n)),e.patches_&&cr("Patches").generateReplacementPatches_(i[Ut].base_,n,e.patches_,e.inversePatches_)):n=ou(e,i,[]),rh(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==H0?n:void 0}function ou(n,e,i){if(Vu(e))return e;const s=e[Ut];if(!s)return lu(e,(l,u)=>iv(n,s,e,l,u,i)),e;if(s.scope_!==n)return e;if(!s.modified_)return uu(n,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let u=l,f=!1;s.type_===3&&(u=new Set(l),l.clear(),f=!0),lu(u,(p,h)=>iv(n,s,l,p,h,i,f)),uu(n,l,!1),i&&n.patches_&&cr("Patches").generatePatches_(s,i,n.patches_,n.inversePatches_)}return s.copy_}function iv(n,e,i,s,l,u,f){if(ur(l)){const p=u&&e&&e.type_!==3&&!nh(e.assigned_,s)?u.concat(s):void 0,h=ou(n,l,p);if(j0(i,s,h),ur(h))n.canAutoFreeze_=!1;else return}else f&&i.add(l);if(Fn(l)&&!Vu(l)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;ou(n,l),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,s)&&uu(n,l)}}function uu(n,e,i=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Gh(e,i)}function rR(n,e){const i=Array.isArray(n),s={type_:i?1:0,scope_:e?e.scope_:V0(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=s,u=Fh;i&&(l=[s],u=Ja);const{revoke:f,proxy:p}=Proxy.revocable(l,u);return s.draft_=p,s.revoke_=f,p}var Fh={get(n,e){if(e===Ut)return n;const i=sr(n);if(!nh(i,e))return sR(n,i,e);const s=i[e];return n.finalized_||!Fn(s)?s:s===Ld(n.base_,e)?(Ud(n),n.copy_[e]=lh(s,n)):s},has(n,e){return e in sr(n)},ownKeys(n){return Reflect.ownKeys(sr(n))},set(n,e,i){const s=q0(sr(n),e);if(s!=null&&s.set)return s.set.call(n.draft_,i),!0;if(!n.modified_){const l=Ld(sr(n),e),u=l==null?void 0:l[Ut];if(u&&u.base_===i)return n.copy_[e]=i,n.assigned_[e]=!1,!0;if(Jw(i,l)&&(i!==void 0||nh(n.base_,e)))return!0;Ud(n),ah(n)}return n.copy_[e]===i&&(i!==void 0||e in n.copy_)||Number.isNaN(i)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=i,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Ld(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Ud(n),ah(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const i=sr(n),s=Reflect.getOwnPropertyDescriptor(i,e);return s&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:s.enumerable,value:i[e]}},defineProperty(){en(11)},getPrototypeOf(n){return ps(n.base_)},setPrototypeOf(){en(12)}},Ja={};lu(Fh,(n,e)=>{Ja[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ja.deleteProperty=function(n,e){return Ja.set.call(this,n,e,void 0)};Ja.set=function(n,e,i){return Fh.set.call(this,n[0],e,i,n[0])};function Ld(n,e){const i=n[Ut];return(i?sr(i):n)[e]}function sR(n,e,i){var l;const s=q0(e,i);return s?"value"in s?s.value:(l=s.get)==null?void 0:l.call(n.draft_):void 0}function q0(n,e){if(!(e in n))return;let i=ps(n);for(;i;){const s=Object.getOwnPropertyDescriptor(i,e);if(s)return s;i=ps(i)}}function ah(n){n.modified_||(n.modified_=!0,n.parent_&&ah(n.parent_))}function Ud(n){n.copy_||(n.copy_=ih(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var aR=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,i,s)=>{if(typeof e=="function"&&typeof i!="function"){const u=i;i=e;const f=this;return function(h=u,...m){return f.produce(h,_=>i.call(this,_,...m))}}typeof i!="function"&&en(6),s!==void 0&&typeof s!="function"&&en(7);let l;if(Fn(e)){const u=tv(this),f=lh(e,void 0);let p=!0;try{l=i(f),p=!1}finally{p?rh(u):sh(u)}return ev(u,s),nv(l,u)}else if(!e||typeof e!="object"){if(l=i(e),l===void 0&&(l=e),l===H0&&(l=void 0),this.autoFreeze_&&Gh(l,!0),s){const u=[],f=[];cr("Patches").generateReplacementPatches_(e,l,u,f),s(u,f)}return l}else en(1,e)},this.produceWithPatches=(e,i)=>{if(typeof e=="function")return(f,...p)=>this.produceWithPatches(f,h=>e(h,...p));let s,l;return[this.produce(e,i,(f,p)=>{s=f,l=p}),s,l]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Fn(n)||en(8),ur(n)&&(n=lR(n));const e=tv(this),i=lh(n,void 0);return i[Ut].isManual_=!0,sh(e),i}finishDraft(n,e){const i=n&&n[Ut];(!i||!i.isManual_)&&en(9);const{scope_:s}=i;return ev(s,e),nv(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let i;for(i=e.length-1;i>=0;i--){const l=e[i];if(l.path.length===0&&l.op==="replace"){n=l.value;break}}i>-1&&(e=e.slice(i+1));const s=cr("Patches").applyPatches_;return ur(n)?s(n,e):this.produce(n,l=>s(l,e))}};function lh(n,e){const i=Bu(n)?cr("MapSet").proxyMap_(n,e):ju(n)?cr("MapSet").proxySet_(n,e):rR(n,e);return(e?e.scope_:V0()).drafts_.push(i),i}function lR(n){return ur(n)||en(10,n),G0(n)}function G0(n){if(!Fn(n)||Vu(n))return n;const e=n[Ut];let i;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,i=ih(n,e.scope_.immer_.useStrictShallowCopy_)}else i=ih(n,!0);return lu(i,(s,l)=>{j0(i,s,G0(l))}),e&&(e.finalized_=!1),i}var Pt=new aR,F0=Pt.produce;Pt.produceWithPatches.bind(Pt);Pt.setAutoFreeze.bind(Pt);Pt.setUseStrictShallowCopy.bind(Pt);Pt.applyPatches.bind(Pt);Pt.createDraft.bind(Pt);Pt.finishDraft.bind(Pt);function Y0(n){return({dispatch:i,getState:s})=>l=>u=>typeof u=="function"?u(i,s,n):l(u)}var oR=Y0(),uR=Y0,cR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?au:au.apply(null,arguments)},fR=n=>n&&typeof n.match=="function";function qa(n,e){function i(...s){if(e){let l=e(...s);if(!l)throw new Error(jn(0));return{type:n,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:n,payload:s[0]}}return i.toString=()=>`${n}`,i.type=n,i.match=s=>$w(s)&&s.type===n,i}var K0=class Ba extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ba.prototype)}static get[Symbol.species](){return Ba}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ba(...e[0].concat(this)):new Ba(...e.concat(this))}};function rv(n){return Fn(n)?F0(n,()=>{}):n}function Go(n,e,i){return n.has(e)?n.get(e):n.set(e,i(e)).get(e)}function dR(n){return typeof n=="boolean"}var hR=()=>function(e){const{thunk:i=!0,immutableCheck:s=!0,serializableCheck:l=!0,actionCreatorCheck:u=!0}=e??{};let f=new K0;return i&&(dR(i)?f.push(oR):f.push(uR(i.extraArgument))),f},pR="RTK_autoBatch",sv=n=>e=>{setTimeout(e,n)},mR=(n={type:"raf"})=>e=>(...i)=>{const s=e(...i);let l=!0,u=!1,f=!1;const p=new Set,h=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sv(10):n.type==="callback"?n.queueNotification:sv(n.timeout),m=()=>{f=!1,u&&(u=!1,p.forEach(_=>_()))};return Object.assign({},s,{subscribe(_){const E=()=>l&&_(),v=s.subscribe(E);return p.add(_),()=>{v(),p.delete(_)}},dispatch(_){var E;try{return l=!((E=_==null?void 0:_.meta)!=null&&E[pR]),u=!l,u&&(f||(f=!0,h(m))),s.dispatch(_)}finally{l=!0}}})},gR=n=>function(i){const{autoBatch:s=!0}=i??{};let l=new K0(n);return s&&l.push(mR(typeof s=="object"?s:void 0)),l};function _R(n){const e=hR(),{reducer:i=void 0,middleware:s,devTools:l=!0,preloadedState:u=void 0,enhancers:f=void 0}=n||{};let p;if(typeof i=="function")p=i;else if(qh(i))p=Ww(i);else throw new Error(jn(1));let h;typeof s=="function"?h=s(e):h=e();let m=au;l&&(m=cR({trace:!1,...typeof l=="object"&&l}));const _=Xw(...h),E=gR(_);let v=typeof f=="function"?f(E):E();const w=m(...v);return z0(p,u,w)}function Q0(n){const e={},i=[];let s;const l={addCase(u,f){const p=typeof u=="string"?u:u.type;if(!p)throw new Error(jn(28));if(p in e)throw new Error(jn(29));return e[p]=f,l},addMatcher(u,f){return i.push({matcher:u,reducer:f}),l},addDefaultCase(u){return s=u,l}};return n(l),[e,i,s]}function yR(n){return typeof n=="function"}function vR(n,e){let[i,s,l]=Q0(e),u;if(yR(n))u=()=>rv(n());else{const p=rv(n);u=()=>p}function f(p=u(),h){let m=[i[h.type],...s.filter(({matcher:_})=>_(h)).map(({reducer:_})=>_)];return m.filter(_=>!!_).length===0&&(m=[l]),m.reduce((_,E)=>{if(E)if(ur(_)){const w=E(_,h);return w===void 0?_:w}else{if(Fn(_))return F0(_,v=>E(v,h));{const v=E(_,h);if(v===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return _},p)}return f.getInitialState=u,f}var ER=(n,e)=>fR(n)?n.match(e):n(e);function SR(...n){return e=>n.some(i=>ER(i,e))}var bR="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",CR=(n=21)=>{let e="",i=n;for(;i--;)e+=bR[Math.random()*64|0];return e},TR=["name","message","stack","code"],Pd=class{constructor(n,e){Sd(this,"_type");this.payload=n,this.meta=e}},av=class{constructor(n,e){Sd(this,"_type");this.payload=n,this.meta=e}},wR=n=>{if(typeof n=="object"&&n!==null){const e={};for(const i of TR)typeof n[i]=="string"&&(e[i]=n[i]);return e}return{message:String(n)}},lv="External signal was aborted",Wn=(()=>{function n(e,i,s){const l=qa(e+"/fulfilled",(h,m,_,E)=>({payload:h,meta:{...E||{},arg:_,requestId:m,requestStatus:"fulfilled"}})),u=qa(e+"/pending",(h,m,_)=>({payload:void 0,meta:{..._||{},arg:m,requestId:h,requestStatus:"pending"}})),f=qa(e+"/rejected",(h,m,_,E,v)=>({payload:E,error:(s&&s.serializeError||wR)(h||"Rejected"),meta:{...v||{},arg:_,requestId:m,rejectedWithValue:!!E,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"}}));function p(h,{signal:m}={}){return(_,E,v)=>{const w=s!=null&&s.idGenerator?s.idGenerator(h):CR(),T=new AbortController;let x,U;function M(H){U=H,T.abort()}m&&(m.aborted?M(lv):m.addEventListener("abort",()=>M(lv),{once:!0}));const j=async function(){var q,J;let H;try{let $=(q=s==null?void 0:s.condition)==null?void 0:q.call(s,h,{getState:E,extra:v});if(AR($)&&($=await $),$===!1||T.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const ue=new Promise((X,Se)=>{x=()=>{Se({name:"AbortError",message:U||"Aborted"})},T.signal.addEventListener("abort",x)});_(u(w,h,(J=s==null?void 0:s.getPendingMeta)==null?void 0:J.call(s,{requestId:w,arg:h},{getState:E,extra:v}))),H=await Promise.race([ue,Promise.resolve(i(h,{dispatch:_,getState:E,extra:v,requestId:w,signal:T.signal,abort:M,rejectWithValue:(X,Se)=>new Pd(X,Se),fulfillWithValue:(X,Se)=>new av(X,Se)})).then(X=>{if(X instanceof Pd)throw X;return X instanceof av?l(X.payload,w,h,X.meta):l(X,w,h)})])}catch($){H=$ instanceof Pd?f(null,w,h,$.payload,$.meta):f($,w,h)}finally{x&&T.signal.removeEventListener("abort",x)}return s&&!s.dispatchConditionRejection&&f.match(H)&&H.meta.condition||_(H),H}();return Object.assign(j,{abort:M,requestId:w,arg:h,unwrap(){return j.then(RR)}})}}return Object.assign(p,{pending:u,rejected:f,fulfilled:l,settled:SR(f,l),typePrefix:e})}return n.withTypes=()=>n,n})();function RR(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function AR(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var W0=Symbol.for("rtk-slice-createasyncthunk"),NR={[W0]:Wn};function OR(n,e){return`${n}/${e}`}function DR({creators:n}={}){var i;const e=(i=n==null?void 0:n.asyncThunk)==null?void 0:i[W0];return function(l){const{name:u,reducerPath:f=u}=l;if(!u)throw new Error(jn(11));const p=(typeof l.reducers=="function"?l.reducers(MR()):l.reducers)||{},h=Object.keys(p),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(F,q){const J=typeof F=="string"?F:F.type;if(!J)throw new Error(jn(12));if(J in m.sliceCaseReducersByType)throw new Error(jn(13));return m.sliceCaseReducersByType[J]=q,_},addMatcher(F,q){return m.sliceMatchers.push({matcher:F,reducer:q}),_},exposeAction(F,q){return m.actionCreators[F]=q,_},exposeCaseReducer(F,q){return m.sliceCaseReducersByName[F]=q,_}};h.forEach(F=>{const q=p[F],J={reducerName:F,type:OR(u,F),createNotation:typeof l.reducers=="function"};kR(q)?UR(J,q,_,e):xR(J,q,_)});function E(){const[F={},q=[],J=void 0]=typeof l.extraReducers=="function"?Q0(l.extraReducers):[l.extraReducers],$={...F,...m.sliceCaseReducersByType};return vR(l.initialState,ue=>{for(let X in $)ue.addCase(X,$[X]);for(let X of m.sliceMatchers)ue.addMatcher(X.matcher,X.reducer);for(let X of q)ue.addMatcher(X.matcher,X.reducer);J&&ue.addDefaultCase(J)})}const v=F=>F,w=new Map,T=new WeakMap;let x;function U(F,q){return x||(x=E()),x(F,q)}function M(){return x||(x=E()),x.getInitialState()}function j(F,q=!1){function J(ue){let X=ue[F];return typeof X>"u"&&q&&(X=Go(T,J,M)),X}function $(ue=v){const X=Go(w,q,()=>new WeakMap);return Go(X,ue,()=>{const Se={};for(const[Qe,qe]of Object.entries(l.selectors??{}))Se[Qe]=IR(qe,ue,()=>Go(T,ue,M),q);return Se})}return{reducerPath:F,getSelectors:$,get selectors(){return $(J)},selectSlice:J}}const H={name:u,reducer:U,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:M,...j(f),injectInto(F,{reducerPath:q,...J}={}){const $=q??f;return F.inject({reducerPath:$,reducer:U},J),{...H,...j($,!0)}}};return H}}function IR(n,e,i,s){function l(u,...f){let p=e(u);return typeof p>"u"&&s&&(p=i()),n(p,...f)}return l.unwrapped=n,l}function MR(){function n(e,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...i}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...i){return e(...i)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:i}},asyncThunk:n}}function xR({type:n,reducerName:e,createNotation:i},s,l){let u,f;if("reducer"in s){if(i&&!LR(s))throw new Error(jn(17));u=s.reducer,f=s.prepare}else u=s;l.addCase(n,u).exposeCaseReducer(e,u).exposeAction(e,f?qa(n,f):qa(n))}function kR(n){return n._reducerDefinitionType==="asyncThunk"}function LR(n){return n._reducerDefinitionType==="reducerWithPrepare"}function UR({type:n,reducerName:e},i,s,l){if(!l)throw new Error(jn(18));const{payloadCreator:u,fulfilled:f,pending:p,rejected:h,settled:m,options:_}=i,E=l(n,u,_);s.exposeAction(e,E),f&&s.addCase(E.fulfilled,f),p&&s.addCase(E.pending,p),h&&s.addCase(E.rejected,h),m&&s.addMatcher(E.settled,m),s.exposeCaseReducer(e,{fulfilled:f||Fo,pending:p||Fo,rejected:h||Fo,settled:m||Fo})}function Fo(){}function jn(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const PR=()=>{};var ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(n,e){if(!n)throw Rs(e)},Rs=function(n){return new Error("Firebase Database ("+X0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},zR=function(n){const e=[];let i=0,s=0;for(;i<n.length;){const l=n[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[i++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[i++],f=n[i++],p=n[i++],h=((l&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(h>>10)),e[s++]=String.fromCharCode(56320+(h&1023))}else{const u=n[i++],f=n[i++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Yh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const u=n[l],f=l+1<n.length,p=f?n[l+1]:0,h=l+2<n.length,m=h?n[l+2]:0,_=u>>2,E=(u&3)<<4|p>>4;let v=(p&15)<<2|m>>6,w=m&63;h||(w=64,f||(v=64)),s.push(i[_],i[E],i[v],i[w])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const u=i[n.charAt(l++)],p=l<n.length?i[n.charAt(l)]:0;++l;const m=l<n.length?i[n.charAt(l)]:64;++l;const E=l<n.length?i[n.charAt(l)]:64;if(++l,u==null||p==null||m==null||E==null)throw new HR;const v=u<<2|p>>4;if(s.push(v),m!==64){const w=p<<4&240|m>>2;if(s.push(w),E!==64){const T=m<<6&192|E;s.push(T)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z0=function(n){const e=$0(n);return Yh.encodeByteArray(e,!0)},cu=function(n){return Z0(n).replace(/\./g,"")},fu=function(n){try{return Yh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n){return J0(void 0,n)}function J0(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!jR(i)||(n[i]=J0(n[i],e[i]));return n}function jR(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=()=>VR().__FIREBASE_DEFAULTS__,GR=()=>{if(typeof process>"u"||typeof ov>"u")return;const n=ov.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&fu(n[1]);return e&&JSON.parse(e)},Kh=()=>{try{return PR()||qR()||GR()||FR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eE=n=>{var e,i;return(i=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[n]},YR=n=>{const e=eE(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},tE=()=>{var n;return(n=Kh())===null||n===void 0?void 0:n.config},nE=n=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(n){return n.endsWith(".cloudworkstations.dev")}async function iE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cu(JSON.stringify(i)),cu(JSON.stringify(f)),""].join(".")}const Ga={};function QR(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ga))Ga[e]?n.emulator.push(e):n.prod.push(e);return n}function WR(n){let e=document.getElementById(n),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),i=!0),{created:i,element:e}}let uv=!1;function rE(n,e){if(typeof window>"u"||typeof document>"u"||!As(window.location.host)||Ga[n]===e||Ga[n]||uv)return;Ga[n]=e;function i(v){return`__firebase__banner__${v}`}const s="__firebase__banner",u=QR().prod.length>0;function f(){const v=document.getElementById(s);v&&v.remove()}function p(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{uv=!0,f()},v}function _(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function E(){const v=WR(s),w=i("text"),T=document.getElementById(w)||document.createElement("span"),x=i("learnmore"),U=document.getElementById(x)||document.createElement("a"),M=i("preprendIcon"),j=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const H=v.element;p(H),_(U,x);const F=m();h(j,M),H.append(j,T,U,F),document.body.appendChild(H)}u?(T.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function XR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $R(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZR(){const n=vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JR(){return X0.NODE_ADMIN===!0}function eA(){try{return typeof indexedDB=="object"}catch{return!1}}function tA(){return new Promise((n,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="FirebaseError";class Bi extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=nA,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?iA(u,s):"Error",p=`${this.serviceName}: ${f} (${l}).`;return new Bi(l,p,s)}}function iA(n,e){return n.replace(rA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const rA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(n){return JSON.parse(n)}function Ze(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(n){let e={},i={},s={},l="";try{const u=n.split(".");e=el(fu(u[0])||""),i=el(fu(u[1])||""),l=u[2],s=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:s,signature:l}},sA=function(n){const e=aE(n),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},aA=function(n){const e=aE(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ms(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function oh(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function du(n,e,i){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=e.call(i,n[l],l,n));return s}function fr(n,e){if(n===e)return!0;const i=Object.keys(n),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const u=n[l],f=e[l];if(cv(u)&&cv(f)){if(!fr(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function cv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(n){const e=[];for(const[i,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ja(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Va(n){const e=n.indexOf("?");if(!e)return"";const i=n.indexOf("#",e);return n.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const s=this.W_;if(typeof e=="string")for(let E=0;E<16;E++)s[E]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let E=0;E<16;E++)s[E]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let E=16;E<80;E++){const v=s[E-3]^s[E-8]^s[E-14]^s[E-16];s[E]=(v<<1|v>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],p=this.chain_[3],h=this.chain_[4],m,_;for(let E=0;E<80;E++){E<40?E<20?(m=p^u&(f^p),_=1518500249):(m=u^f^p,_=1859775393):E<60?(m=u&f|p&(u|f),_=2400959708):(m=u^f^p,_=3395469782);const v=(l<<5|l>>>27)+m+h+_+s[E]&4294967295;h=p,p=f,f=(u<<30|u>>>2)&4294967295,u=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const s=i-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<i;){if(f===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<i;)if(u[f]=e.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<i;)if(u[f]=e[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function oA(n,e){const i=new uA(n,e);return i.subscribe.bind(i)}class uA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");cA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=zd),l.error===void 0&&(l.error=zd),l.complete===void 0&&(l.complete=zd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cA(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function zd(){}function qu(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,G(s<n.length,"Surrogate pair missing trail surrogate.");const f=n.charCodeAt(s)-56320;l=65536+(u<<10)+f}l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):l<65536?(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Gu=function(n){let e=0;for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(n){return n&&n._delegate?n._delegate:n}class dr{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new ml;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pA(e))try{this.getOrInitializeService({instanceIdentifier:ar})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ar){return this.instances.has(e)}getOptions(e=ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(l)}return l}onInit(e,i){var s;const l=this.normalizeInstanceIdentifier(i),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ar){return this.component?this.component.multipleInstances?e:ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hA(n){return n===ar?void 0:n}function pA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new dA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const gA={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},_A=Ne.INFO,yA={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},vA=(n,e,...i)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=yA[e];if(l)console[l](`[${s}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wh{constructor(e){this.name=e,this._logLevel=_A,this._logHandler=vA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const EA=(n,e)=>e.some(i=>n instanceof i);let fv,dv;function SA(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bA(){return dv||(dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lE=new WeakMap,uh=new WeakMap,oE=new WeakMap,Hd=new WeakMap,Xh=new WeakMap;function CA(n){const e=new Promise((i,s)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{i(Di(n.result)),l()},f=()=>{s(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&lE.set(i,n)}).catch(()=>{}),Xh.set(e,n),e}function TA(n){if(uh.has(n))return;const e=new Promise((i,s)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});uh.set(n,e)}let ch={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return uh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||oE.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Di(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wA(n){ch=n(ch)}function RA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=n.call(Bd(this),e,...i);return oE.set(s,e.sort?e.sort():[e]),Di(s)}:bA().includes(n)?function(...e){return n.apply(Bd(this),e),Di(lE.get(this))}:function(...e){return Di(n.apply(Bd(this),e))}}function AA(n){return typeof n=="function"?RA(n):(n instanceof IDBTransaction&&TA(n),EA(n,SA())?new Proxy(n,ch):n)}function Di(n){if(n instanceof IDBRequest)return CA(n);if(Hd.has(n))return Hd.get(n);const e=AA(n);return e!==n&&(Hd.set(n,e),Xh.set(e,n)),e}const Bd=n=>Xh.get(n);function NA(n,e,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(n,e),p=Di(f);return s&&f.addEventListener("upgradeneeded",h=>{s(Di(f.result),h.oldVersion,h.newVersion,Di(f.transaction),h)}),i&&f.addEventListener("blocked",h=>i(h.oldVersion,h.newVersion,h)),p.then(h=>{u&&h.addEventListener("close",()=>u()),l&&h.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const OA=["get","getKey","getAll","getAllKeys","count"],DA=["put","add","delete","clear"],jd=new Map;function hv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=DA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||OA.includes(i)))return;const u=async function(f,...p){const h=this.transaction(f,l?"readwrite":"readonly");let m=h.store;return s&&(m=m.index(p.shift())),(await Promise.all([m[i](...p),l&&h.done]))[0]};return jd.set(e,u),u}wA(n=>({...n,get:(e,i,s)=>hv(e,i)||n.get(e,i,s),has:(e,i)=>!!hv(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(MA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function MA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fh="@firebase/app",pv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new Wh("@firebase/app"),xA="@firebase/app-compat",kA="@firebase/analytics-compat",LA="@firebase/analytics",UA="@firebase/app-check-compat",PA="@firebase/app-check",zA="@firebase/auth",HA="@firebase/auth-compat",BA="@firebase/database",jA="@firebase/data-connect",VA="@firebase/database-compat",qA="@firebase/functions",GA="@firebase/functions-compat",FA="@firebase/installations",YA="@firebase/installations-compat",KA="@firebase/messaging",QA="@firebase/messaging-compat",WA="@firebase/performance",XA="@firebase/performance-compat",$A="@firebase/remote-config",ZA="@firebase/remote-config-compat",JA="@firebase/storage",eN="@firebase/storage-compat",tN="@firebase/firestore",nN="@firebase/ai",iN="@firebase/firestore-compat",rN="firebase",sN="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="[DEFAULT]",aN={[fh]:"fire-core",[xA]:"fire-core-compat",[LA]:"fire-analytics",[kA]:"fire-analytics-compat",[PA]:"fire-app-check",[UA]:"fire-app-check-compat",[zA]:"fire-auth",[HA]:"fire-auth-compat",[BA]:"fire-rtdb",[jA]:"fire-data-connect",[VA]:"fire-rtdb-compat",[qA]:"fire-fn",[GA]:"fire-fn-compat",[FA]:"fire-iid",[YA]:"fire-iid-compat",[KA]:"fire-fcm",[QA]:"fire-fcm-compat",[WA]:"fire-perf",[XA]:"fire-perf-compat",[$A]:"fire-rc",[ZA]:"fire-rc-compat",[JA]:"fire-gcs",[eN]:"fire-gcs-compat",[tN]:"fire-fst",[iN]:"fire-fst-compat",[nN]:"fire-vertex","fire-js":"fire-js",[rN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=new Map,lN=new Map,hh=new Map;function mv(n,e){try{n.container.addComponent(e)}catch(i){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function gs(n){const e=n.name;if(hh.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;hh.set(e,n);for(const i of hu.values())mv(i,n);for(const i of lN.values())mv(i,n);return!0}function $h(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function Qt(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new gl("app","Firebase",oN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=sN;function uE(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:dh,automaticDataCollectionEnabled:!0},e),l=s.name;if(typeof l!="string"||!l)throw Ii.create("bad-app-name",{appName:String(l)});if(i||(i=tE()),!i)throw Ii.create("no-options");const u=hu.get(l);if(u){if(fr(i,u.options)&&fr(s,u.config))return u;throw Ii.create("duplicate-app",{appName:l})}const f=new mA(l);for(const h of hh.values())f.addComponent(h);const p=new uN(i,s,f);return hu.set(l,p),p}function cE(n=dh){const e=hu.get(n);if(!e&&n===dh&&tE())return uE();if(!e)throw Ii.create("no-app",{appName:n});return e}function Mi(n,e,i){var s;let l=(s=aN[n])!==null&&s!==void 0?s:n;i&&(l+=`-${i}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${l}" with version "${e}":`];u&&p.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(p.join(" "));return}gs(new dr(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="firebase-heartbeat-database",fN=1,tl="firebase-heartbeat-store";let Vd=null;function fE(){return Vd||(Vd=NA(cN,fN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(tl)}catch(i){console.warn(i)}}}}).catch(n=>{throw Ii.create("idb-open",{originalErrorMessage:n.message})})),Vd}async function dN(n){try{const i=(await fE()).transaction(tl),s=await i.objectStore(tl).get(dE(n));return await i.done,s}catch(e){if(e instanceof Bi)Yn.warn(e.message);else{const i=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yn.warn(i.message)}}}async function gv(n,e){try{const s=(await fE()).transaction(tl,"readwrite");await s.objectStore(tl).put(e,dE(n)),await s.done}catch(i){if(i instanceof Bi)Yn.warn(i.message);else{const s=Ii.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Yn.warn(s.message)}}}function dE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=1024,pN=30;class mN{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _N(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=_v();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>pN){const f=yN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Yn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=_v(),{heartbeatsToSend:s,unsentEntries:l}=gN(this._heartbeatsCache.heartbeats),u=cu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Yn.warn(i),""}}}function _v(){return new Date().toISOString().substring(0,10)}function gN(n,e=hN){const i=[];let s=n.slice();for(const l of n){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),yv(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),yv(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class _N{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eA()?tA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await dN(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return gv(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return gv(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function yv(n){return cu(JSON.stringify({version:2,heartbeats:n})).length}function yN(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let s=1;s<n.length;s++)n[s].date<i&&(i=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(n){gs(new dr("platform-logger",e=>new IA(e),"PRIVATE")),gs(new dr("heartbeat",e=>new mN(e),"PRIVATE")),Mi(fh,pv,n),Mi(fh,pv,"esm2017"),Mi("fire-js","")}vN("");var vv={};const Ev="@firebase/database",Sv="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hE="";function EN(n){hE=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:el(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return En(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new SN(e)}}catch{}return new bN},or=pE("localStorage"),CN=pE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Wh("@firebase/database"),TN=function(){let n=1;return function(){return n++}}(),mE=function(n){const e=fA(n),i=new lA;i.update(e);const s=i.digest();return Yh.encodeByteArray(s)},_l=function(...n){let e="";for(let i=0;i<n.length;i++){const s=n[i];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=_l.apply(null,s):typeof s=="object"?e+=Ze(s):e+=s,e+=" "}return e};let Fa=null,bv=!0;const wN=function(n,e){G(!0,"Can't turn on custom loggers persistently."),us.logLevel=Ne.VERBOSE,Fa=us.log.bind(us)},ut=function(...n){if(bv===!0&&(bv=!1,Fa===null&&CN.get("logging_enabled")===!0&&wN()),Fa){const e=_l.apply(null,n);Fa(e)}},yl=function(n){return function(...e){ut(n,...e)}},ph=function(...n){const e="FIREBASE INTERNAL ERROR: "+_l(...n);us.error(e)},Kn=function(...n){const e=`FIREBASE FATAL ERROR: ${_l(...n)}`;throw us.error(e),new Error(e)},yt=function(...n){const e="FIREBASE WARNING: "+_l(...n);us.warn(e)},RN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Zh=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},AN=function(n){if(document.readyState==="complete")n();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},_s="[MIN_NAME]",hr="[MAX_NAME]",yr=function(n,e){if(n===e)return 0;if(n===_s||e===hr)return-1;if(e===_s||n===hr)return 1;{const i=Cv(n),s=Cv(e);return i!==null?s!==null?i-s===0?n.length-e.length:i-s:-1:s!==null?1:n<e?-1:1}},NN=function(n,e){return n===e?0:n<e?-1:1},La=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ze(e))},Jh=function(n){if(typeof n!="object"||n===null)return Ze(n);const e=[];for(const s in n)e.push(s);e.sort();let i="{";for(let s=0;s<e.length;s++)s!==0&&(i+=","),i+=Ze(e[s]),i+=":",i+=Jh(n[e[s]]);return i+="}",i},gE=function(n,e){const i=n.length;if(i<=e)return[n];const s=[];for(let l=0;l<i;l+=e)l+e>i?s.push(n.substring(l,i)):s.push(n.substring(l,l+e));return s};function ct(n,e){for(const i in n)n.hasOwnProperty(i)&&e(i,n[i])}const _E=function(n){G(!Zh(n),"Invalid JSON number");const e=11,i=52,s=(1<<e-1)-1;let l,u,f,p,h;n===0?(u=0,f=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(p=Math.min(Math.floor(Math.log(n)/Math.LN2),s),u=p+s,f=Math.round(n*Math.pow(2,i-p)-Math.pow(2,i))):(u=0,f=Math.round(n/Math.pow(2,1-s-i))));const m=[];for(h=i;h;h-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(h=e;h;h-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const _=m.join("");let E="";for(h=0;h<64;h+=8){let v=parseInt(_.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),E=E+v}return E.toLowerCase()},ON=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},DN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function IN(n,e){let i="Unknown Error";n==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?i="Client doesn't have permission to access the desired data.":n==="unavailable"&&(i="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+i);return s.code=n.toUpperCase(),s}const MN=new RegExp("^-?(0*)\\d{1,10}$"),xN=-2147483648,kN=2147483647,Cv=function(n){if(MN.test(n)){const e=Number(n);if(e>=xN&&e<=kN)return e}return null},Ds=function(n){try{n()}catch(e){setTimeout(()=>{const i=e.stack||"";throw yt("Exception was thrown by user callback.",i),e},Math.floor(0))}},LN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ya=function(n,e){const i=setTimeout(n,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Qt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,i,s){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(e)}}class $o{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$o.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="5",yE="v",vE="s",EE="r",SE="f",bE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CE="ls",TE="p",mh="ac",wE="websocket",RE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,i,s,l,u=!1,f="",p=!1,h=!1,m=null){this.secure=i,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=h,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=or.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&or.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function zN(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function NE(n,e,i){G(typeof e=="string","typeof type must == string"),G(typeof i=="object","typeof params must == object");let s;if(e===wE)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===RE)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);zN(n)&&(i.ns=n.namespace);const l=[];return ct(i,(u,f)=>{l.push(u+"="+f)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.counters_={}}incrementCounter(e,i=1){En(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return BR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd={},Gd={};function tp(n){const e=n.toString();return qd[e]||(qd[e]=new HN),qd[e]}function BN(n,e){const i=n.toString();return Gd[i]||(Gd[i]=e()),Gd[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&Ds(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="start",VN="close",qN="pLPCommand",GN="pRTLPCB",OE="id",DE="pw",IE="ser",FN="cb",YN="seg",KN="ts",QN="d",WN="dframe",ME=1870,xE=30,XN=ME-xE,$N=25e3,ZN=3e4;class ls{constructor(e,i,s,l,u,f,p){this.connId=e,this.repoInfo=i,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yl(e),this.stats_=tp(i),this.urlFn=h=>(this.appCheckToken&&(h[mh]=this.appCheckToken),NE(i,RE,h))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new jN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ZN)),AN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new np((...u)=>{const[f,p,h,m,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Tv)this.id=p,this.password=h;else if(f===VN)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,p]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,p)},()=>{this.onClosed_()},this.urlFn);const s={};s[Tv]="t",s[IE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[FN]=this.scriptTagHolder.uniqueCallbackIdentifier),s[yE]=ep,this.transportSessionId&&(s[vE]=this.transportSessionId),this.lastSessionId&&(s[CE]=this.lastSessionId),this.applicationId&&(s[TE]=this.applicationId),this.appCheckToken&&(s[mh]=this.appCheckToken),typeof location<"u"&&location.hostname&&bE.test(location.hostname)&&(s[EE]=SE);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ls.forceAllow_=!0}static forceDisallow(){ls.forceDisallow_=!0}static isAvailable(){return ls.forceAllow_?!0:!ls.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ON()&&!DN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Ze(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=Z0(i),l=gE(s,XN);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const s={};s[WN]="t",s[OE]=e,s[DE]=i,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Ze(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class np{constructor(e,i,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=TN(),window[qN+this.uniqueCallbackIdentifier]=e,window[GN+this.uniqueCallbackIdentifier]=i,this.myIFrame=np.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(p){ut("frame writing exception"),p.stack&&ut(p.stack),ut(p)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ut("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[OE]=this.myID,e[DE]=this.myPW,e[IE]=this.currentSerial;let i=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xE+s.length<=ME;){const f=this.pendingSegs.shift();s=s+"&"+YN+l+"="+f.seg+"&"+KN+l+"="+f.ts+"&"+QN+l+"="+f.d,l++}return i=i+s,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,s){this.pendingSegs.push({seg:e,ts:i,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const s=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(s,Math.floor($N)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),i())},s.onerror=()=>{ut("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=16384,eO=45e3;let pu=null;typeof MozWebSocket<"u"?pu=MozWebSocket:typeof WebSocket<"u"&&(pu=WebSocket);class tn{constructor(e,i,s,l,u,f,p){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yl(this.connId),this.stats_=tp(i),this.connURL=tn.connectionURL_(i,f,p,l,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,l,u){const f={};return f[yE]=ep,typeof location<"u"&&location.hostname&&bE.test(location.hostname)&&(f[EE]=SE),i&&(f[vE]=i),s&&(f[CE]=s),l&&(f[mh]=l),u&&(f[TE]=u),NE(e,wE,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,or.set("previous_websocket_failure",!0);try{let s;JR(),this.mySock=new pu(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(i);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&pu!==null&&!tn.forceDisallow_}static previouslyFailed(){return or.isInMemoryStorage||or.get("previous_websocket_failure")===!0}markConnectionHealthy(){or.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=el(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=Ze(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=gE(i,JN);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(eO))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static get ALL_TRANSPORTS(){return[ls,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=tn&&tn.isAvailable();let s=i&&!tn.previouslyFailed();if(e.webSocketOnly&&(i||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[tn];else{const l=this.transports_=[];for(const u of nl.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);nl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}nl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=6e4,nO=5e3,iO=10*1024,rO=100*1024,Fd="t",wv="d",sO="s",Rv="r",aO="e",Av="o",Nv="a",Ov="n",Dv="p",lO="h";class oO{constructor(e,i,s,l,u,f,p,h,m,_){this.id=e,this.repoInfo_=i,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=p,this.onDisconnect_=h,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yl("c:"+this.id+":"),this.transportManager_=new nl(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Ya(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>iO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Fd in e){const i=e[Fd];i===Nv?this.upgradeIfSecondaryHealthy_():i===Rv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Av&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=La("t",e),s=La("d",e);if(i==="c")this.onSecondaryControl_(s);else if(i==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Dv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Nv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ov,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=La("t",e),s=La("d",e);i==="c"?this.onControl_(s):i==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=La(Fd,e);if(wv in e){const s=e[wv];if(i===lO){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===Ov){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===sO?this.onConnectionShutdown_(s):i===Rv?this.onReset_(s):i===aO?ph("Server Error: "+s):i===Av?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ph("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),ep!==s&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,s),Ya(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ya(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Dv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(or.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{put(e,i,s,l){}merge(e,i,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,s){}onDisconnectMerge(e,i,s){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,i)}}on(e,i,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:s});const l=this.getInitialEvent(e);l&&i.apply(s,l)}off(e,i,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===i&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){G(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends LE{static getInstance(){return new mu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Qh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=32,Mv=768;class Oe{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Ee(){return new Oe("")}function de(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ui(n){return n.pieces_.length-n.pieceNum_}function ke(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Oe(n.pieces_,e)}function ip(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function uO(n){let e="";for(let i=n.pieceNum_;i<n.pieces_.length;i++)n.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[i])));return e||"/"}function il(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function UE(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let i=n.pieceNum_;i<n.pieces_.length-1;i++)e.push(n.pieces_[i]);return new Oe(e,0)}function je(n,e){const i=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)i.push(n.pieces_[s]);if(e instanceof Oe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)i.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&i.push(s[l])}return new Oe(i,0)}function ge(n){return n.pieceNum_>=n.pieces_.length}function _t(n,e){const i=de(n),s=de(e);if(i===null)return e;if(i===s)return _t(ke(n),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function cO(n,e){const i=il(n,0),s=il(e,0);for(let l=0;l<i.length&&l<s.length;l++){const u=yr(i[l],s[l]);if(u!==0)return u}return i.length===s.length?0:i.length<s.length?-1:1}function rp(n,e){if(Ui(n)!==Ui(e))return!1;for(let i=n.pieceNum_,s=e.pieceNum_;i<=n.pieces_.length;i++,s++)if(n.pieces_[i]!==e.pieces_[s])return!1;return!0}function Wt(n,e){let i=n.pieceNum_,s=e.pieceNum_;if(Ui(n)>Ui(e))return!1;for(;i<n.pieces_.length;){if(n.pieces_[i]!==e.pieces_[s])return!1;++i,++s}return!0}class fO{constructor(e,i){this.errorPrefix_=i,this.parts_=il(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Gu(this.parts_[s]);PE(this)}}function dO(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Gu(e),PE(n)}function hO(n){const e=n.parts_.pop();n.byteLength_-=Gu(e),n.parts_.length>0&&(n.byteLength_-=1)}function PE(n){if(n.byteLength_>Mv)throw new Error(n.errorPrefix_+"has a key path longer than "+Mv+" bytes ("+n.byteLength_+").");if(n.parts_.length>Iv)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Iv+") or object contains a cycle "+lr(n))}function lr(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends LE{static getInstance(){return new sp}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=1e3,pO=60*5*1e3,xv=30*1e3,mO=1.3,gO=3e4,_O="server_kill",kv=3;class Vn extends kE{constructor(e,i,s,l,u,f,p,h){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=h,this.id=Vn.nextPersistentConnectionId_++,this.log_=yl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ua,this.maxReconnectDelay_=pO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&mu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const l=++this.requestNumber_,u={r:l,a:e,b:i};this.log_(Ze(u)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const i=new ml,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const p=f.d;f.s==="ok"?i.resolve(p):i.reject(p)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,s,l){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const p={onComplete:l,hashFn:i,query:e,tag:s};this.listens.get(f).set(u,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},f="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,p=>{const h=p.d,m=p.s;Vn.warnOnListenWarnings_(h,i),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",p),m!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(m,h))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&En(e,"w")){const s=ms(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||aA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=sA(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,l=>{const u=l.s,f=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,i)}sendUnlisten_(e,i,s,l){this.log_("Unlisten on "+e+" for "+i);const u={p:e},f="n";l&&(u.q=s,u.t=l),this.sendRequest(f,u)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,l){const u={p:i,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(e,i,s,l){this.putInternal("p",e,i,s,l)}merge(e,i,s,l){this.putInternal("m",e,i,s,l)}putInternal(e,i,s,l,u){this.initConnection_();const f={p:i,d:s};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:l}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ze(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):ph("Unrecognized action received from server: "+Ze(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>gO&&(this.reconnectDelay_=Ua),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*mO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Vn.nextConnectionId_++,u=this.lastSessionId;let f=!1,p=null;const h=function(){p?p.close():(f=!0,s())},m=function(E){G(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(E)};this.realtime_={close:h,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,v]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);f?ut("getToken() completed but was canceled"):(ut("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=v&&v.token,p=new oO(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,s,w=>{yt(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(_O)},u))}catch(E){this.log_("Failed to get token: "+E),f||(this.repoInfo_.nodeAdmin&&yt(E),h())}}}interrupt(e){ut("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ut("Resuming connection for reason: "+e),delete this.interruptReasons_[e],oh(this.interruptReasons_)&&(this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;i?s=i.map(u=>Jh(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const s=new Oe(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(i),u.delete(i),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,i){ut("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kv&&(this.reconnectDelay_=xv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ut("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+hE.replace(/\./g,"-")]=1,Qh()?e["framework.cordova"]=1:sE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=mu.getInstance().currentlyOnline();return oh(this.interruptReasons_)&&e}}Vn.nextPersistentConnectionId_=0;Vn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new he(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const s=new he(_s,e),l=new he(_s,i);return this.compare(s,l)!==0}minPost(){return he.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo;class zE extends Fu{static get __EMPTY_NODE(){return Yo}static set __EMPTY_NODE(e){Yo=e}compare(e,i){return yr(e.name,i.name)}isDefinedOn(e){throw Rs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return he.MIN}maxPost(){return new he(hr,Yo)}makePost(e,i){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new he(e,Yo)}toString(){return".key"}}const cs=new zE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,i,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=i?s(e.key,i):1,l&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rt{constructor(e,i,s,l,u){this.key=e,this.value=i,this.color=s??rt.RED,this.left=l??wt.EMPTY_NODE,this.right=u??wt.EMPTY_NODE}copy(e,i,s,l,u){return new rt(e??this.key,i??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,i,s),null):u===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,l;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),i(e,s.key)===0){if(s.right.isEmpty())return wt.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}rt.RED=!0;rt.BLACK=!1;class yO{copy(e,i,s,l,u){return this}insert(e,i,s){return new rt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class wt{constructor(e,i=wt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new wt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,rt.BLACK,null,null))}remove(e){return new wt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rt.BLACK,null,null))}get(e){let i,s=this.root_;for(;!s.isEmpty();){if(i=this.comparator_(e,s.key),i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}getPredecessorKey(e){let i,s=this.root_,l=null;for(;!s.isEmpty();)if(i=this.comparator_(e,s.key),i===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else i<0?s=s.left:i>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ko(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Ko(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Ko(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Ko(this.root_,null,this.comparator_,!0,e)}}wt.EMPTY_NODE=new yO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(n,e){return yr(n.name,e.name)}function ap(n,e){return yr(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh;function EO(n){gh=n}const HE=function(n){return typeof n=="number"?"number:"+_E(n):"string:"+n},BE=function(n){if(n.isLeafNode()){const e=n.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&En(e,".sv"),"Priority must be a string or number.")}else G(n===gh||n.isEmpty(),"priority of unexpected type.");G(n===gh||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv;class it{static set __childrenNodeConstructor(e){Lv=e}static get __childrenNodeConstructor(){return Lv}constructor(e,i=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),BE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new it(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ge(e)?this:de(e)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=de(e);return s===null?i:i.isEmpty()&&s!==".priority"?this:(G(s!==".priority"||Ui(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+HE(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=_E(this.value_):e+=this.value_,this.lazyHash_=mE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===it.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof it.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,l=it.VALUE_TYPE_ORDER.indexOf(i),u=it.VALUE_TYPE_ORDER.indexOf(s);return G(l>=0,"Unknown leaf type: "+i),G(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jE,VE;function SO(n){jE=n}function bO(n){VE=n}class CO extends Fu{compare(e,i){const s=e.node.getPriority(),l=i.node.getPriority(),u=s.compareTo(l);return u===0?yr(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return he.MIN}maxPost(){return new he(hr,new it("[PRIORITY-POST]",VE))}makePost(e,i){const s=jE(e);return new he(i,new it("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ve=new CO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=Math.log(2);class wO{constructor(e){const i=u=>parseInt(Math.log(u)/TO,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const gu=function(n,e,i,s){n.sort(e);const l=function(h,m){const _=m-h;let E,v;if(_===0)return null;if(_===1)return E=n[h],v=i?i(E):E,new rt(v,E.node,rt.BLACK,null,null);{const w=parseInt(_/2,10)+h,T=l(h,w),x=l(w+1,m);return E=n[w],v=i?i(E):E,new rt(v,E.node,rt.BLACK,T,x)}},u=function(h){let m=null,_=null,E=n.length;const v=function(T,x){const U=E-T,M=E;E-=T;const j=l(U+1,M),H=n[U],F=i?i(H):H;w(new rt(F,H.node,x,null,j))},w=function(T){m?(m.left=T,m=T):(_=T,m=T)};for(let T=0;T<h.count;++T){const x=h.nextBitIsOne(),U=Math.pow(2,h.count-(T+1));x?v(U,rt.BLACK):(v(U,rt.BLACK),v(U,rt.RED))}return _},f=new wO(n.length),p=u(f);return new wt(s||e,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd;const as={};class Pn{static get Default(){return G(as&&Ve,"ChildrenNode.ts has not been loaded"),Yd=Yd||new Pn({".priority":as},{".priority":Ve}),Yd}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=ms(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof wt?i:null}hasIndex(e){return En(this.indexSet_,e.toString())}addIndex(e,i){G(e!==cs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=i.getIterator(he.Wrap);let f=u.getNext();for(;f;)l=l||e.isDefinedOn(f.node),s.push(f),f=u.getNext();let p;l?p=gu(s,e.getCompare()):p=as;const h=e.toString(),m=Object.assign({},this.indexSet_);m[h]=e;const _=Object.assign({},this.indexes_);return _[h]=p,new Pn(_,m)}addToIndexes(e,i){const s=du(this.indexes_,(l,u)=>{const f=ms(this.indexSet_,u);if(G(f,"Missing index implementation for "+u),l===as)if(f.isDefinedOn(e.node)){const p=[],h=i.getIterator(he.Wrap);let m=h.getNext();for(;m;)m.name!==e.name&&p.push(m),m=h.getNext();return p.push(e),gu(p,f.getCompare())}else return as;else{const p=i.get(e.name);let h=l;return p&&(h=h.remove(new he(e.name,p))),h.insert(e,e.node)}});return new Pn(s,this.indexSet_)}removeFromIndexes(e,i){const s=du(this.indexes_,l=>{if(l===as)return l;{const u=i.get(e.name);return u?l.remove(new he(e.name,u)):l}});return new Pn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa;class se{static get EMPTY_NODE(){return Pa||(Pa=new se(new wt(ap),null,Pn.Default))}constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&BE(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pa}updatePriority(e){return this.children_.isEmpty()?this:new se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Pa:i}}getChild(e){const i=de(e);return i===null?this:this.getImmediateChild(i).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(G(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const s=new he(e,i);let l,u;i.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(s,this.children_));const f=l.isEmpty()?Pa:this.priorityNode_;return new se(l,f,u)}}updateChild(e,i){const s=de(e);if(s===null)return i;{G(de(e)!==".priority"||Ui(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(ke(e),i);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,l=0,u=!0;if(this.forEachChild(Ve,(f,p)=>{i[f]=p.val(e),s++,u&&se.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!e&&u&&l<2*s){const f=[];for(const p in i)f[p]=i[p];return f}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+HE(this.getPriority().val())+":"),this.forEachChild(Ve,(i,s)=>{const l=s.hash();l!==""&&(e+=":"+i+":"+l)}),this.lazyHash_=e===""?"":mE(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new he(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new he(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new he(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,he.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,he.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vl?-1:0}withIndex(e){if(e===cs||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new se(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===cs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const s=this.getIterator(Ve),l=i.getIterator(Ve);let u=s.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=s.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===cs?null:this.indexMap_.get(e.toString())}}se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class RO extends se{constructor(){super(new wt(ap),se.EMPTY_NODE,Pn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}}const vl=new RO;Object.defineProperties(he,{MIN:{value:new he(_s,se.EMPTY_NODE)},MAX:{value:new he(hr,vl)}});zE.__EMPTY_NODE=se.EMPTY_NODE;it.__childrenNodeConstructor=se;EO(vl);bO(vl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=!0;function $e(n,e=null){if(n===null)return se.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const i=n;return new it(i,$e(e))}if(!(n instanceof Array)&&AO){const i=[];let s=!1;if(ct(n,(f,p)=>{if(f.substring(0,1)!=="."){const h=$e(p);h.isEmpty()||(s=s||!h.getPriority().isEmpty(),i.push(new he(f,h)))}}),i.length===0)return se.EMPTY_NODE;const u=gu(i,vO,f=>f.name,ap);if(s){const f=gu(i,Ve.getCompare());return new se(u,$e(e),new Pn({".priority":f},{".priority":Ve}))}else return new se(u,$e(e),Pn.Default)}else{let i=se.EMPTY_NODE;return ct(n,(s,l)=>{if(En(n,s)&&s.substring(0,1)!=="."){const u=$e(l);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(s,u))}}),i.updatePriority($e(e))}}SO($e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO extends Fu{constructor(e){super(),this.indexPath_=e,G(!ge(e)&&de(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const s=this.extractChild(e.node),l=this.extractChild(i.node),u=s.compareTo(l);return u===0?yr(e.name,i.name):u}makePost(e,i){const s=$e(e),l=se.EMPTY_NODE.updateChild(this.indexPath_,s);return new he(i,l)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,vl);return new he(hr,e)}toString(){return il(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO extends Fu{compare(e,i){const s=e.node.compareTo(i.node);return s===0?yr(e.name,i.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,i){const s=$e(e);return new he(i,s)}toString(){return".value"}}const DO=new OO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(n){return{type:"value",snapshotNode:n}}function ys(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function rl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function sl(n,e,i){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:i}}function IO(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.index_=e}updateChild(e,i,s,l,u,f){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=e.getImmediateChild(i);return p.getChild(l).equals(s.getChild(l))&&p.isEmpty()===s.isEmpty()||(f!=null&&(s.isEmpty()?e.hasChild(i)?f.trackChildChange(rl(i,p)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?f.trackChildChange(ys(i,s)):f.trackChildChange(sl(i,s,p))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(i,s).withIndex(this.index_)}updateFullNode(e,i,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ve,(l,u)=>{i.hasChild(l)||s.trackChildChange(rl(l,u))}),i.isLeafNode()||i.forEachChild(Ve,(l,u)=>{if(e.hasChild(l)){const f=e.getImmediateChild(l);f.equals(u)||s.trackChildChange(sl(l,u,f))}else s.trackChildChange(ys(l,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?se.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.indexedFilter_=new lp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=al.getStartPost_(e),this.endPost_=al.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&s}updateChild(e,i,s,l,u,f){return this.matches(new he(i,s))||(s=se.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,s,l,u,f)}updateFullNode(e,i,s){i.isLeafNode()&&(i=se.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(se.EMPTY_NODE);const u=this;return i.forEachChild(Ve,(f,p)=>{u.matches(new he(f,p))||(l=l.updateImmediateChild(f,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=i=>{const s=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new al(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,s,l,u,f){return this.rangedFilter_.matches(new he(i,s))||(s=se.EMPTY_NODE),e.getImmediateChild(i).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,s,l,u,f):this.fullLimitUpdateChild_(e,i,s,u,f)}updateFullNode(e,i,s){let l;if(i.isLeafNode()||i.isEmpty())l=se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=se.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const p=u.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))l=l.updateImmediateChild(p.name,p.node),f++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(se.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let f=0;for(;u.hasNext();){const p=u.getNext();f<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?f++:l=l.updateImmediateChild(p.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,s,l,u){let f;if(this.reverse_){const E=this.index_.getCompare();f=(v,w)=>E(w,v)}else f=this.index_.getCompare();const p=e;G(p.numChildren()===this.limit_,"");const h=new he(i,s),m=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),_=this.rangedFilter_.matches(h);if(p.hasChild(i)){const E=p.getImmediateChild(i);let v=l.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===i||p.hasChild(v.name));)v=l.getChildAfterChild(this.index_,v,this.reverse_);const w=v==null?1:f(v,h);if(_&&!s.isEmpty()&&w>=0)return u!=null&&u.trackChildChange(sl(i,s,E)),p.updateImmediateChild(i,s);{u!=null&&u.trackChildChange(rl(i,E));const x=p.updateImmediateChild(i,se.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange(ys(v.name,v.node)),x.updateImmediateChild(v.name,v.node)):x}}else return s.isEmpty()?e:_&&f(m,h)>=0?(u!=null&&(u.trackChildChange(rl(m.name,m.node)),u.trackChildChange(ys(i,s))),p.updateImmediateChild(i,s).updateImmediateChild(m.name,se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_s}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new op;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function xO(n){return n.loadsAllData()?new lp(n.getIndex()):n.hasLimit()?new MO(n):new al(n)}function Uv(n){const e={};if(n.isDefault())return e;let i;if(n.index_===Ve?i="$priority":n.index_===DO?i="$value":n.index_===cs?i="$key":(G(n.index_ instanceof NO,"Unrecognized index type!"),i=n.index_.toString()),e.orderBy=Ze(i),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=Ze(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+Ze(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=Ze(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+Ze(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Pv(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let i=n.viewFrom_;i===""&&(n.isViewFromLeft()?i="l":i="r"),e.vf=i}return n.index_!==Ve&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends kE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=yl("p:rest:"),this.listens_={}}listen(e,i,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=_u.getListenId_(e,s),p={};this.listens_[f]=p;const h=Uv(e._queryParams);this.restRequest_(u+".json",h,(m,_)=>{let E=_;if(m===404&&(E=null,m=null),m===null&&this.onDataUpdate_(u,E,!1,s),ms(this.listens_,f)===p){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",l(v,null)}})}unlisten(e,i){const s=_u.getListenId_(e,i);delete this.listens_[s]}get(e){const i=Uv(e._queryParams),s=e._path.toString(),l=new ml;return this.restRequest_(s+".json",i,(u,f)=>{let p=f;u===404&&(p=null,u=null),u===null?(this.onDataUpdate_(s,p,!1,null),l.resolve(p)):l.reject(new Error(p))}),l.promise}refreshAuthToken(e){}restRequest_(e,i={},s){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(i.auth=l.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ns(i);this.log_("Sending REST request for "+f);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(s&&p.readyState===4){this.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);let h=null;if(p.status>=200&&p.status<300){try{h=el(p.responseText)}catch{yt("Failed to parse JSON response for "+f+": "+p.responseText)}s(null,h)}else p.status!==401&&p.status!==404&&yt("Got unsuccessful REST response for "+f+" Status: "+p.status),s(p.status);s=null}},p.open("GET",f,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(){return{value:null,children:new Map}}function GE(n,e,i){if(ge(e))n.value=i,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,i);else{const s=de(e);n.children.has(s)||n.children.set(s,yu());const l=n.children.get(s);e=ke(e),GE(l,e,i)}}function _h(n,e,i){n.value!==null?i(e,n.value):LO(n,(s,l)=>{const u=new Oe(e.toString()+"/"+s);_h(l,u,i)})}function LO(n,e){n.children.forEach((i,s)=>{e(s,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&ct(this.last_,(s,l)=>{i[s]=i[s]-l}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=10*1e3,PO=30*1e3,zO=5*60*1e3;class HO{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new UO(e);const s=zv+(PO-zv)*Math.random();Ya(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),i={};let s=!1;ct(e,(l,u)=>{u>0&&En(this.statsToReport_,l)&&(i[l]=u,s=!0)}),s&&this.server_.reportStats(i),Ya(this.reportStats_.bind(this),Math.floor(Math.random()*2*zO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(nn||(nn={}));function up(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function fp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,i,s){this.path=e,this.affectedTree=i,this.revert=s,this.type=nn.ACK_USER_WRITE,this.source=up()}operationForChild(e){if(ge(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Oe(e));return new vu(Ee(),i,this.revert)}}else return G(de(this.path)===e,"operationForChild called for unrelated child."),new vu(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,i){this.source=e,this.path=i,this.type=nn.LISTEN_COMPLETE}operationForChild(e){return ge(this.path)?new ll(this.source,Ee()):new ll(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,i,s){this.source=e,this.path=i,this.snap=s,this.type=nn.OVERWRITE}operationForChild(e){return ge(this.path)?new pr(this.source,Ee(),this.snap.getImmediateChild(e)):new pr(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,i,s){this.source=e,this.path=i,this.children=s,this.type=nn.MERGE}operationForChild(e){if(ge(this.path)){const i=this.children.subtree(new Oe(e));return i.isEmpty()?null:i.value?new pr(this.source,Ee(),i.value):new vs(this.source,Ee(),i)}else return G(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vs(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,i,s){this.node_=e,this.fullyInitialized_=i,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ge(e))return this.isFullyInitialized()&&!this.filtered_;const i=de(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function jO(n,e,i,s){const l=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(IO(f.childName,f.snapshotNode))}),za(n,l,"child_removed",e,s,i),za(n,l,"child_added",e,s,i),za(n,l,"child_moved",u,s,i),za(n,l,"child_changed",e,s,i),za(n,l,"value",e,s,i),l}function za(n,e,i,s,l,u){const f=s.filter(p=>p.type===i);f.sort((p,h)=>qO(n,p,h)),f.forEach(p=>{const h=VO(n,p,u);l.forEach(m=>{m.respondsTo(p.type)&&e.push(m.createEvent(h,n.query_))})})}function VO(n,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function qO(n,e,i){if(e.childName==null||i.childName==null)throw Rs("Should only compare child_ events.");const s=new he(e.childName,e.snapshotNode),l=new he(i.childName,i.snapshotNode);return n.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(n,e){return{eventCache:n,serverCache:e}}function Ka(n,e,i,s){return Yu(new Pi(e,i,s),n.serverCache)}function FE(n,e,i,s){return Yu(n.eventCache,new Pi(e,i,s))}function Eu(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function mr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd;const GO=()=>(Kd||(Kd=new wt(NN)),Kd);class xe{static fromObject(e){let i=new xe(null);return ct(e,(s,l)=>{i=i.set(new Oe(s),l)}),i}constructor(e,i=GO()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Ee(),value:this.value};if(ge(e))return null;{const s=de(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(ke(e),i);return u!=null?{path:je(new Oe(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ge(e))return this;{const i=de(e),s=this.children.get(i);return s!==null?s.subtree(ke(e)):new xe(null)}}set(e,i){if(ge(e))return new xe(i,this.children);{const s=de(e),u=(this.children.get(s)||new xe(null)).set(ke(e),i),f=this.children.insert(s,u);return new xe(this.value,f)}}remove(e){if(ge(e))return this.children.isEmpty()?new xe(null):new xe(null,this.children);{const i=de(e),s=this.children.get(i);if(s){const l=s.remove(ke(e));let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),this.value===null&&u.isEmpty()?new xe(null):new xe(this.value,u)}else return this}}get(e){if(ge(e))return this.value;{const i=de(e),s=this.children.get(i);return s?s.get(ke(e)):null}}setTree(e,i){if(ge(e))return i;{const s=de(e),u=(this.children.get(s)||new xe(null)).setTree(ke(e),i);let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),new xe(this.value,f)}}fold(e){return this.fold_(Ee(),e)}fold_(e,i){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(je(e,l),i)}),i(e,this.value,s)}findOnPath(e,i){return this.findOnPath_(e,Ee(),i)}findOnPath_(e,i,s){const l=this.value?s(i,this.value):!1;if(l)return l;if(ge(e))return null;{const u=de(e),f=this.children.get(u);return f?f.findOnPath_(ke(e),je(i,u),s):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Ee(),i)}foreachOnPath_(e,i,s){if(ge(e))return this;{this.value&&s(i,this.value);const l=de(e),u=this.children.get(l);return u?u.foreachOnPath_(ke(e),je(i,l),s):new xe(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,i){this.children.inorderTraversal((s,l)=>{l.foreach_(je(e,s),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,s)=>{s.value&&e(i,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.writeTree_=e}static empty(){return new sn(new xe(null))}}function Qa(n,e,i){if(ge(e))return new sn(new xe(i));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const f=_t(l,e);return u=u.updateChild(f,i),new sn(n.writeTree_.set(l,u))}else{const l=new xe(i),u=n.writeTree_.setTree(e,l);return new sn(u)}}}function yh(n,e,i){let s=n;return ct(i,(l,u)=>{s=Qa(s,je(e,l),u)}),s}function Hv(n,e){if(ge(e))return sn.empty();{const i=n.writeTree_.setTree(e,new xe(null));return new sn(i)}}function vh(n,e){return vr(n,e)!=null}function vr(n,e){const i=n.writeTree_.findRootMostValueAndPath(e);return i!=null?n.writeTree_.get(i.path).getChild(_t(i.path,e)):null}function Bv(n){const e=[],i=n.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ve,(s,l)=>{e.push(new he(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new he(s,l.value))}),e}function xi(n,e){if(ge(e))return n;{const i=vr(n,e);return i!=null?new sn(new xe(i)):new sn(n.writeTree_.subtree(e))}}function Eh(n){return n.writeTree_.isEmpty()}function Es(n,e){return YE(Ee(),n.writeTree_,e)}function YE(n,e,i){if(e.value!=null)return i.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(G(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):i=YE(je(n,l),u,i)}),!i.getChild(n).isEmpty()&&s!==null&&(i=i.updateChild(je(n,".priority"),s)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(n,e){return XE(e,n)}function FO(n,e,i,s,l){G(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:i,writeId:s,visible:l}),l&&(n.visibleWrites=Qa(n.visibleWrites,e,i)),n.lastWriteId=s}function YO(n,e,i,s){G(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:i,writeId:s,visible:!0}),n.visibleWrites=yh(n.visibleWrites,e,i),n.lastWriteId=s}function KO(n,e){for(let i=0;i<n.allWrites.length;i++){const s=n.allWrites[i];if(s.writeId===e)return s}return null}function QO(n,e){const i=n.allWrites.findIndex(p=>p.writeId===e);G(i>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[i];n.allWrites.splice(i,1);let l=s.visible,u=!1,f=n.allWrites.length-1;for(;l&&f>=0;){const p=n.allWrites[f];p.visible&&(f>=i&&WO(p,s.path)?l=!1:Wt(s.path,p.path)&&(u=!0)),f--}if(l){if(u)return XO(n),!0;if(s.snap)n.visibleWrites=Hv(n.visibleWrites,s.path);else{const p=s.children;ct(p,h=>{n.visibleWrites=Hv(n.visibleWrites,je(s.path,h))})}return!0}else return!1}function WO(n,e){if(n.snap)return Wt(n.path,e);for(const i in n.children)if(n.children.hasOwnProperty(i)&&Wt(je(n.path,i),e))return!0;return!1}function XO(n){n.visibleWrites=KE(n.allWrites,$O,Ee()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function $O(n){return n.visible}function KE(n,e,i){let s=sn.empty();for(let l=0;l<n.length;++l){const u=n[l];if(e(u)){const f=u.path;let p;if(u.snap)Wt(i,f)?(p=_t(i,f),s=Qa(s,p,u.snap)):Wt(f,i)&&(p=_t(f,i),s=Qa(s,Ee(),u.snap.getChild(p)));else if(u.children){if(Wt(i,f))p=_t(i,f),s=yh(s,p,u.children);else if(Wt(f,i))if(p=_t(f,i),ge(p))s=yh(s,Ee(),u.children);else{const h=ms(u.children,de(p));if(h){const m=h.getChild(ke(p));s=Qa(s,Ee(),m)}}}else throw Rs("WriteRecord should have .snap or .children")}}return s}function QE(n,e,i,s,l){if(!s&&!l){const u=vr(n.visibleWrites,e);if(u!=null)return u;{const f=xi(n.visibleWrites,e);if(Eh(f))return i;if(i==null&&!vh(f,Ee()))return null;{const p=i||se.EMPTY_NODE;return Es(f,p)}}}else{const u=xi(n.visibleWrites,e);if(!l&&Eh(u))return i;if(!l&&i==null&&!vh(u,Ee()))return null;{const f=function(m){return(m.visible||l)&&(!s||!~s.indexOf(m.writeId))&&(Wt(m.path,e)||Wt(e,m.path))},p=KE(n.allWrites,f,e),h=i||se.EMPTY_NODE;return Es(p,h)}}}function ZO(n,e,i){let s=se.EMPTY_NODE;const l=vr(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Ve,(u,f)=>{s=s.updateImmediateChild(u,f)}),s;if(i){const u=xi(n.visibleWrites,e);return i.forEachChild(Ve,(f,p)=>{const h=Es(xi(u,new Oe(f)),p);s=s.updateImmediateChild(f,h)}),Bv(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}else{const u=xi(n.visibleWrites,e);return Bv(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}}function JO(n,e,i,s,l){G(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=je(e,i);if(vh(n.visibleWrites,u))return null;{const f=xi(n.visibleWrites,u);return Eh(f)?l.getChild(i):Es(f,l.getChild(i))}}function eD(n,e,i,s){const l=je(e,i),u=vr(n.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(i)){const f=xi(n.visibleWrites,l);return Es(f,s.getNode().getImmediateChild(i))}else return null}function tD(n,e){return vr(n.visibleWrites,e)}function nD(n,e,i,s,l,u,f){let p;const h=xi(n.visibleWrites,e),m=vr(h,Ee());if(m!=null)p=m;else if(i!=null)p=Es(h,i);else return[];if(p=p.withIndex(f),!p.isEmpty()&&!p.isLeafNode()){const _=[],E=f.getCompare(),v=u?p.getReverseIteratorFrom(s,f):p.getIteratorFrom(s,f);let w=v.getNext();for(;w&&_.length<l;)E(w,s)!==0&&_.push(w),w=v.getNext();return _}else return[]}function iD(){return{visibleWrites:sn.empty(),allWrites:[],lastWriteId:-1}}function Su(n,e,i,s){return QE(n.writeTree,n.treePath,e,i,s)}function dp(n,e){return ZO(n.writeTree,n.treePath,e)}function jv(n,e,i,s){return JO(n.writeTree,n.treePath,e,i,s)}function bu(n,e){return tD(n.writeTree,je(n.treePath,e))}function rD(n,e,i,s,l,u){return nD(n.writeTree,n.treePath,e,i,s,l,u)}function hp(n,e,i){return eD(n.writeTree,n.treePath,e,i)}function WE(n,e){return XE(je(n.treePath,e),n.writeTree)}function XE(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,s=e.childName;G(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),G(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(s,sl(s,e.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(s,rl(s,l.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(s,ys(s,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(s,sl(s,e.snapshotNode,l.oldSnap));else throw Rs("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{getCompleteChild(e){return null}getChildAfterChild(e,i,s){return null}}const $E=new aD;class pp{constructor(e,i,s=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=s}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Pi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hp(this.writes_,e,s)}}getChildAfterChild(e,i,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:mr(this.viewCache_),u=rD(this.writes_,l,i,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(n){return{filter:n}}function oD(n,e){G(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function uD(n,e,i,s,l){const u=new sD;let f,p;if(i.type===nn.OVERWRITE){const m=i;m.source.fromUser?f=Sh(n,e,m.path,m.snap,s,l,u):(G(m.source.fromServer,"Unknown source."),p=m.source.tagged||e.serverCache.isFiltered()&&!ge(m.path),f=Cu(n,e,m.path,m.snap,s,l,p,u))}else if(i.type===nn.MERGE){const m=i;m.source.fromUser?f=fD(n,e,m.path,m.children,s,l,u):(G(m.source.fromServer,"Unknown source."),p=m.source.tagged||e.serverCache.isFiltered(),f=bh(n,e,m.path,m.children,s,l,p,u))}else if(i.type===nn.ACK_USER_WRITE){const m=i;m.revert?f=pD(n,e,m.path,s,l,u):f=dD(n,e,m.path,m.affectedTree,s,l,u)}else if(i.type===nn.LISTEN_COMPLETE)f=hD(n,e,i.path,s,u);else throw Rs("Unknown operation type: "+i.type);const h=u.getChanges();return cD(e,f,h),{viewCache:f,changes:h}}function cD(n,e,i){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Eu(n);(i.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&i.push(qE(Eu(e)))}}function ZE(n,e,i,s,l,u){const f=e.eventCache;if(bu(s,i)!=null)return e;{let p,h;if(ge(i))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=mr(e),_=m instanceof se?m:se.EMPTY_NODE,E=dp(s,_);p=n.filter.updateFullNode(e.eventCache.getNode(),E,u)}else{const m=Su(s,mr(e));p=n.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=de(i);if(m===".priority"){G(Ui(i)===1,"Can't have a priority with additional path components");const _=f.getNode();h=e.serverCache.getNode();const E=jv(s,i,_,h);E!=null?p=n.filter.updatePriority(_,E):p=f.getNode()}else{const _=ke(i);let E;if(f.isCompleteForChild(m)){h=e.serverCache.getNode();const v=jv(s,i,f.getNode(),h);v!=null?E=f.getNode().getImmediateChild(m).updateChild(_,v):E=f.getNode().getImmediateChild(m)}else E=hp(s,m,e.serverCache);E!=null?p=n.filter.updateChild(f.getNode(),m,E,_,l,u):p=f.getNode()}}return Ka(e,p,f.isFullyInitialized()||ge(i),n.filter.filtersNodes())}}function Cu(n,e,i,s,l,u,f,p){const h=e.serverCache;let m;const _=f?n.filter:n.filter.getIndexedFilter();if(ge(i))m=_.updateFullNode(h.getNode(),s,null);else if(_.filtersNodes()&&!h.isFiltered()){const w=h.getNode().updateChild(i,s);m=_.updateFullNode(h.getNode(),w,null)}else{const w=de(i);if(!h.isCompleteForPath(i)&&Ui(i)>1)return e;const T=ke(i),U=h.getNode().getImmediateChild(w).updateChild(T,s);w===".priority"?m=_.updatePriority(h.getNode(),U):m=_.updateChild(h.getNode(),w,U,T,$E,null)}const E=FE(e,m,h.isFullyInitialized()||ge(i),_.filtersNodes()),v=new pp(l,E,u);return ZE(n,E,i,l,v,p)}function Sh(n,e,i,s,l,u,f){const p=e.eventCache;let h,m;const _=new pp(l,e,u);if(ge(i))m=n.filter.updateFullNode(e.eventCache.getNode(),s,f),h=Ka(e,m,!0,n.filter.filtersNodes());else{const E=de(i);if(E===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),s),h=Ka(e,m,p.isFullyInitialized(),p.isFiltered());else{const v=ke(i),w=p.getNode().getImmediateChild(E);let T;if(ge(v))T=s;else{const x=_.getCompleteChild(E);x!=null?ip(v)===".priority"&&x.getChild(UE(v)).isEmpty()?T=x:T=x.updateChild(v,s):T=se.EMPTY_NODE}if(w.equals(T))h=e;else{const x=n.filter.updateChild(p.getNode(),E,T,v,_,f);h=Ka(e,x,p.isFullyInitialized(),n.filter.filtersNodes())}}}return h}function Vv(n,e){return n.eventCache.isCompleteForChild(e)}function fD(n,e,i,s,l,u,f){let p=e;return s.foreach((h,m)=>{const _=je(i,h);Vv(e,de(_))&&(p=Sh(n,p,_,m,l,u,f))}),s.foreach((h,m)=>{const _=je(i,h);Vv(e,de(_))||(p=Sh(n,p,_,m,l,u,f))}),p}function qv(n,e,i){return i.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function bh(n,e,i,s,l,u,f,p){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,m;ge(i)?m=s:m=new xe(null).setTree(i,s);const _=e.serverCache.getNode();return m.children.inorderTraversal((E,v)=>{if(_.hasChild(E)){const w=e.serverCache.getNode().getImmediateChild(E),T=qv(n,w,v);h=Cu(n,h,new Oe(E),T,l,u,f,p)}}),m.children.inorderTraversal((E,v)=>{const w=!e.serverCache.isCompleteForChild(E)&&v.value===null;if(!_.hasChild(E)&&!w){const T=e.serverCache.getNode().getImmediateChild(E),x=qv(n,T,v);h=Cu(n,h,new Oe(E),x,l,u,f,p)}}),h}function dD(n,e,i,s,l,u,f){if(bu(l,i)!=null)return e;const p=e.serverCache.isFiltered(),h=e.serverCache;if(s.value!=null){if(ge(i)&&h.isFullyInitialized()||h.isCompleteForPath(i))return Cu(n,e,i,h.getNode().getChild(i),l,u,p,f);if(ge(i)){let m=new xe(null);return h.getNode().forEachChild(cs,(_,E)=>{m=m.set(new Oe(_),E)}),bh(n,e,i,m,l,u,p,f)}else return e}else{let m=new xe(null);return s.foreach((_,E)=>{const v=je(i,_);h.isCompleteForPath(v)&&(m=m.set(_,h.getNode().getChild(v)))}),bh(n,e,i,m,l,u,p,f)}}function hD(n,e,i,s,l){const u=e.serverCache,f=FE(e,u.getNode(),u.isFullyInitialized()||ge(i),u.isFiltered());return ZE(n,f,i,s,$E,l)}function pD(n,e,i,s,l,u){let f;if(bu(s,i)!=null)return e;{const p=new pp(s,e,l),h=e.eventCache.getNode();let m;if(ge(i)||de(i)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=Su(s,mr(e));else{const E=e.serverCache.getNode();G(E instanceof se,"serverChildren would be complete if leaf node"),_=dp(s,E)}_=_,m=n.filter.updateFullNode(h,_,u)}else{const _=de(i);let E=hp(s,_,e.serverCache);E==null&&e.serverCache.isCompleteForChild(_)&&(E=h.getImmediateChild(_)),E!=null?m=n.filter.updateChild(h,_,E,ke(i),p,u):e.eventCache.getNode().hasChild(_)?m=n.filter.updateChild(h,_,se.EMPTY_NODE,ke(i),p,u):m=h,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Su(s,mr(e)),f.isLeafNode()&&(m=n.filter.updateFullNode(m,f,u)))}return f=e.serverCache.isFullyInitialized()||bu(s,Ee())!=null,Ka(e,m,f,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new lp(s.getIndex()),u=xO(s);this.processor_=lD(u);const f=i.serverCache,p=i.eventCache,h=l.updateFullNode(se.EMPTY_NODE,f.getNode(),null),m=u.updateFullNode(se.EMPTY_NODE,p.getNode(),null),_=new Pi(h,f.isFullyInitialized(),l.filtersNodes()),E=new Pi(m,p.isFullyInitialized(),u.filtersNodes());this.viewCache_=Yu(E,_),this.eventGenerator_=new BO(this.query_)}get query(){return this.query_}}function gD(n){return n.viewCache_.serverCache.getNode()}function _D(n){return Eu(n.viewCache_)}function yD(n,e){const i=mr(n.viewCache_);return i&&(n.query._queryParams.loadsAllData()||!ge(e)&&!i.getImmediateChild(de(e)).isEmpty())?i.getChild(e):null}function Gv(n){return n.eventRegistrations_.length===0}function vD(n,e){n.eventRegistrations_.push(e)}function Fv(n,e,i){const s=[];if(i){G(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,l);f&&s.push(f)})}if(e){let l=[];for(let u=0;u<n.eventRegistrations_.length;++u){const f=n.eventRegistrations_[u];if(!f.matches(e))l.push(f);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function Yv(n,e,i,s){e.type===nn.MERGE&&e.source.queryId!==null&&(G(mr(n.viewCache_),"We should always have a full cache before handling merges"),G(Eu(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,u=uD(n.processor_,l,e,i,s);return oD(n.processor_,u.viewCache),G(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,JE(n,u.changes,u.viewCache.eventCache.getNode(),null)}function ED(n,e){const i=n.viewCache_.eventCache,s=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ve,(u,f)=>{s.push(ys(u,f))}),i.isFullyInitialized()&&s.push(qE(i.getNode())),JE(n,s,i.getNode(),e)}function JE(n,e,i,s){const l=s?[s]:n.eventRegistrations_;return jO(n.eventGenerator_,e,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;class eS{constructor(){this.views=new Map}}function SD(n){G(!Tu,"__referenceConstructor has already been defined"),Tu=n}function bD(){return G(Tu,"Reference.ts has not been loaded"),Tu}function CD(n){return n.views.size===0}function mp(n,e,i,s){const l=e.source.queryId;if(l!==null){const u=n.views.get(l);return G(u!=null,"SyncTree gave us an op for an invalid query."),Yv(u,e,i,s)}else{let u=[];for(const f of n.views.values())u=u.concat(Yv(f,e,i,s));return u}}function tS(n,e,i,s,l){const u=e._queryIdentifier,f=n.views.get(u);if(!f){let p=Su(i,l?s:null),h=!1;p?h=!0:s instanceof se?(p=dp(i,s),h=!1):(p=se.EMPTY_NODE,h=!1);const m=Yu(new Pi(p,h,!1),new Pi(s,l,!1));return new mD(e,m)}return f}function TD(n,e,i,s,l,u){const f=tS(n,e,s,l,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,f),vD(f,i),ED(f,i)}function wD(n,e,i,s){const l=e._queryIdentifier,u=[];let f=[];const p=zi(n);if(l==="default")for(const[h,m]of n.views.entries())f=f.concat(Fv(m,i,s)),Gv(m)&&(n.views.delete(h),m.query._queryParams.loadsAllData()||u.push(m.query));else{const h=n.views.get(l);h&&(f=f.concat(Fv(h,i,s)),Gv(h)&&(n.views.delete(l),h.query._queryParams.loadsAllData()||u.push(h.query)))}return p&&!zi(n)&&u.push(new(bD())(e._repo,e._path)),{removed:u,events:f}}function nS(n){const e=[];for(const i of n.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function ki(n,e){let i=null;for(const s of n.views.values())i=i||yD(s,e);return i}function iS(n,e){if(e._queryParams.loadsAllData())return Qu(n);{const s=e._queryIdentifier;return n.views.get(s)}}function rS(n,e){return iS(n,e)!=null}function zi(n){return Qu(n)!=null}function Qu(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu;function RD(n){G(!wu,"__referenceConstructor has already been defined"),wu=n}function AD(){return G(wu,"Reference.ts has not been loaded"),wu}let ND=1;class Kv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xe(null),this.pendingWriteTree_=iD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sS(n,e,i,s,l){return FO(n.pendingWriteTree_,e,i,s,l),l?Is(n,new pr(up(),e,i)):[]}function OD(n,e,i,s){YO(n.pendingWriteTree_,e,i,s);const l=xe.fromObject(i);return Is(n,new vs(up(),e,l))}function Oi(n,e,i=!1){const s=KO(n.pendingWriteTree_,e);if(QO(n.pendingWriteTree_,e)){let u=new xe(null);return s.snap!=null?u=u.set(Ee(),!0):ct(s.children,f=>{u=u.set(new Oe(f),!0)}),Is(n,new vu(s.path,u,i))}else return[]}function El(n,e,i){return Is(n,new pr(cp(),e,i))}function DD(n,e,i){const s=xe.fromObject(i);return Is(n,new vs(cp(),e,s))}function ID(n,e){return Is(n,new ll(cp(),e))}function MD(n,e,i){const s=_p(n,i);if(s){const l=yp(s),u=l.path,f=l.queryId,p=_t(u,e),h=new ll(fp(f),p);return vp(n,u,h)}else return[]}function Ru(n,e,i,s,l=!1){const u=e._path,f=n.syncPointTree_.get(u);let p=[];if(f&&(e._queryIdentifier==="default"||rS(f,e))){const h=wD(f,e,i,s);CD(f)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const m=h.removed;if(p=h.events,!l){const _=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,E=n.syncPointTree_.findOnPath(u,(v,w)=>zi(w));if(_&&!E){const v=n.syncPointTree_.subtree(u);if(!v.isEmpty()){const w=LD(v);for(let T=0;T<w.length;++T){const x=w[T],U=x.query,M=uS(n,x);n.listenProvider_.startListening(Wa(U),ol(n,U),M.hashFn,M.onComplete)}}}!E&&m.length>0&&!s&&(_?n.listenProvider_.stopListening(Wa(e),null):m.forEach(v=>{const w=n.queryToTagMap.get(Wu(v));n.listenProvider_.stopListening(Wa(v),w)}))}UD(n,m)}return p}function aS(n,e,i,s){const l=_p(n,s);if(l!=null){const u=yp(l),f=u.path,p=u.queryId,h=_t(f,e),m=new pr(fp(p),h,i);return vp(n,f,m)}else return[]}function xD(n,e,i,s){const l=_p(n,s);if(l){const u=yp(l),f=u.path,p=u.queryId,h=_t(f,e),m=xe.fromObject(i),_=new vs(fp(p),h,m);return vp(n,f,_)}else return[]}function Ch(n,e,i,s=!1){const l=e._path;let u=null,f=!1;n.syncPointTree_.foreachOnPath(l,(v,w)=>{const T=_t(v,l);u=u||ki(w,T),f=f||zi(w)});let p=n.syncPointTree_.get(l);p?(f=f||zi(p),u=u||ki(p,Ee())):(p=new eS,n.syncPointTree_=n.syncPointTree_.set(l,p));let h;u!=null?h=!0:(h=!1,u=se.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((w,T)=>{const x=ki(T,Ee());x&&(u=u.updateImmediateChild(w,x))}));const m=rS(p,e);if(!m&&!e._queryParams.loadsAllData()){const v=Wu(e);G(!n.queryToTagMap.has(v),"View does not exist, but we have a tag");const w=PD();n.queryToTagMap.set(v,w),n.tagToQueryMap.set(w,v)}const _=Ku(n.pendingWriteTree_,l);let E=TD(p,e,i,_,u,h);if(!m&&!f&&!s){const v=iS(p,e);E=E.concat(zD(n,e,v))}return E}function gp(n,e,i){const l=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(f,p)=>{const h=_t(f,e),m=ki(p,h);if(m)return m});return QE(l,e,u,i,!0)}function kD(n,e){const i=e._path;let s=null;n.syncPointTree_.foreachOnPath(i,(m,_)=>{const E=_t(m,i);s=s||ki(_,E)});let l=n.syncPointTree_.get(i);l?s=s||ki(l,Ee()):(l=new eS,n.syncPointTree_=n.syncPointTree_.set(i,l));const u=s!=null,f=u?new Pi(s,!0,!1):null,p=Ku(n.pendingWriteTree_,e._path),h=tS(l,e,p,u?f.getNode():se.EMPTY_NODE,u);return _D(h)}function Is(n,e){return lS(e,n.syncPointTree_,null,Ku(n.pendingWriteTree_,Ee()))}function lS(n,e,i,s){if(ge(n.path))return oS(n,e,i,s);{const l=e.get(Ee());i==null&&l!=null&&(i=ki(l,Ee()));let u=[];const f=de(n.path),p=n.operationForChild(f),h=e.children.get(f);if(h&&p){const m=i?i.getImmediateChild(f):null,_=WE(s,f);u=u.concat(lS(p,h,m,_))}return l&&(u=u.concat(mp(l,n,s,i))),u}}function oS(n,e,i,s){const l=e.get(Ee());i==null&&l!=null&&(i=ki(l,Ee()));let u=[];return e.children.inorderTraversal((f,p)=>{const h=i?i.getImmediateChild(f):null,m=WE(s,f),_=n.operationForChild(f);_&&(u=u.concat(oS(_,p,h,m)))}),l&&(u=u.concat(mp(l,n,s,i))),u}function uS(n,e){const i=e.query,s=ol(n,i);return{hashFn:()=>(gD(e)||se.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?MD(n,i._path,s):ID(n,i._path);{const u=IN(l,i);return Ru(n,i,null,u)}}}}function ol(n,e){const i=Wu(e);return n.queryToTagMap.get(i)}function Wu(n){return n._path.toString()+"$"+n._queryIdentifier}function _p(n,e){return n.tagToQueryMap.get(e)}function yp(n){const e=n.indexOf("$");return G(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Oe(n.substr(0,e))}}function vp(n,e,i){const s=n.syncPointTree_.get(e);G(s,"Missing sync point for query tag that we're tracking");const l=Ku(n.pendingWriteTree_,e);return mp(s,i,l,null)}function LD(n){return n.fold((e,i,s)=>{if(i&&zi(i))return[Qu(i)];{let l=[];return i&&(l=nS(i)),ct(s,(u,f)=>{l=l.concat(f)}),l}})}function Wa(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(AD())(n._repo,n._path):n}function UD(n,e){for(let i=0;i<e.length;++i){const s=e[i];if(!s._queryParams.loadsAllData()){const l=Wu(s),u=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(u)}}}function PD(){return ND++}function zD(n,e,i){const s=e._path,l=ol(n,e),u=uS(n,i),f=n.listenProvider_.startListening(Wa(e),l,u.hashFn,u.onComplete),p=n.syncPointTree_.subtree(s);if(l)G(!zi(p.value),"If we're adding a query, it shouldn't be shadowed");else{const h=p.fold((m,_,E)=>{if(!ge(m)&&_&&zi(_))return[Qu(_).query];{let v=[];return _&&(v=v.concat(nS(_).map(w=>w.query))),ct(E,(w,T)=>{v=v.concat(T)}),v}});for(let m=0;m<h.length;++m){const _=h[m];n.listenProvider_.stopListening(Wa(_),ol(n,_))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Ep(i)}node(){return this.node_}}class Sp{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=je(this.path_,e);return new Sp(this.syncTree_,i)}node(){return gp(this.syncTree_,this.path_)}}const HD=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Qv=function(n,e,i){if(!n||typeof n!="object")return n;if(G(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return BD(n[".sv"],e,i);if(typeof n[".sv"]=="object")return jD(n[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},BD=function(n,e,i){switch(n){case"timestamp":return i.timestamp;default:G(!1,"Unexpected server value: "+n)}},jD=function(n,e,i){n.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&G(!1,"Unexpected increment value: "+s);const l=e.node();if(G(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const f=l.getValue();return typeof f!="number"?s:f+s},cS=function(n,e,i,s){return bp(e,new Sp(i,n),s)},fS=function(n,e,i){return bp(n,new Ep(e),i)};function bp(n,e,i){const s=n.getPriority().val(),l=Qv(s,e.getImmediateChild(".priority"),i);let u;if(n.isLeafNode()){const f=n,p=Qv(f.getValue(),e,i);return p!==f.getValue()||l!==f.getPriority().val()?new it(p,$e(l)):n}else{const f=n;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new it(l))),f.forEachChild(Ve,(p,h)=>{const m=bp(h,e.getImmediateChild(p),i);m!==h&&(u=u.updateImmediateChild(p,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e="",i=null,s={children:{},childCount:0}){this.name=e,this.parent=i,this.node=s}}function Tp(n,e){let i=e instanceof Oe?e:new Oe(e),s=n,l=de(i);for(;l!==null;){const u=ms(s.node.children,l)||{children:{},childCount:0};s=new Cp(l,s,u),i=ke(i),l=de(i)}return s}function Ms(n){return n.node.value}function dS(n,e){n.node.value=e,Th(n)}function hS(n){return n.node.childCount>0}function VD(n){return Ms(n)===void 0&&!hS(n)}function Xu(n,e){ct(n.node.children,(i,s)=>{e(new Cp(i,n,s))})}function pS(n,e,i,s){i&&e(n),Xu(n,l=>{pS(l,e,!0)})}function qD(n,e,i){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Sl(n){return new Oe(n.parent===null?n.name:Sl(n.parent)+"/"+n.name)}function Th(n){n.parent!==null&&GD(n.parent,n.name,n)}function GD(n,e,i){const s=VD(i),l=En(n.node.children,e);s&&l?(delete n.node.children[e],n.node.childCount--,Th(n)):!s&&!l&&(n.node.children[e]=i.node,n.node.childCount++,Th(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=/[\[\].#$\/\u0000-\u001F\u007F]/,YD=/[\[\].#$\u0000-\u001F\u007F]/,Qd=10*1024*1024,wp=function(n){return typeof n=="string"&&n.length!==0&&!FD.test(n)},mS=function(n){return typeof n=="string"&&n.length!==0&&!YD.test(n)},KD=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),mS(n)},QD=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Zh(n)||n&&typeof n=="object"&&En(n,".sv")},gS=function(n,e,i,s){s&&e===void 0||$u(qu(n,"value"),e,i)},$u=function(n,e,i){const s=i instanceof Oe?new fO(i,n):i;if(e===void 0)throw new Error(n+"contains undefined "+lr(s));if(typeof e=="function")throw new Error(n+"contains a function "+lr(s)+" with contents = "+e.toString());if(Zh(e))throw new Error(n+"contains "+e.toString()+" "+lr(s));if(typeof e=="string"&&e.length>Qd/3&&Gu(e)>Qd)throw new Error(n+"contains a string greater than "+Qd+" utf8 bytes "+lr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(ct(e,(f,p)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!wp(f)))throw new Error(n+" contains an invalid key ("+f+") "+lr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);dO(s,f),$u(n,p,s),hO(s)}),l&&u)throw new Error(n+' contains ".value" child '+lr(s)+" in addition to actual children.")}},WD=function(n,e){let i,s;for(i=0;i<e.length;i++){s=e[i];const u=il(s);for(let f=0;f<u.length;f++)if(!(u[f]===".priority"&&f===u.length-1)){if(!wp(u[f]))throw new Error(n+"contains an invalid key ("+u[f]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(cO);let l=null;for(i=0;i<e.length;i++){if(s=e[i],l!==null&&Wt(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},XD=function(n,e,i,s){const l=qu(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const u=[];ct(e,(f,p)=>{const h=new Oe(f);if($u(l,p,je(i,h)),ip(h)===".priority"&&!QD(p))throw new Error(l+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(h)}),WD(l,u)},_S=function(n,e,i,s){if(!mS(i))throw new Error(qu(n,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$D=function(n,e,i,s){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),_S(n,e,i)},Rp=function(n,e){if(de(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},ZD=function(n,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!wp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!KD(i))throw new Error(qu(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zu(n,e){let i=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();i!==null&&!rp(u,i.path)&&(n.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(l)}i&&n.eventLists_.push(i)}function yS(n,e,i){Zu(n,i),vS(n,s=>rp(s,e))}function Xt(n,e,i){Zu(n,i),vS(n,s=>Wt(s,e)||Wt(e,s))}function vS(n,e){n.recursionDepth_++;let i=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const u=l.path;e(u)?(eI(n.eventLists_[s]),n.eventLists_[s]=null):i=!1}}i&&(n.eventLists_=[]),n.recursionDepth_--}function eI(n){for(let e=0;e<n.events.length;e++){const i=n.events[e];if(i!==null){n.events[e]=null;const s=i.getEventRunner();Fa&&ut("event: "+i.toString()),Ds(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="repo_interrupt",nI=25;class iI{constructor(e,i,s,l){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new JD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yu(),this.transactionQueueTree_=new Cp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rI(n,e,i){if(n.stats_=tp(n.repoInfo_),n.forceRestClient_||LN())n.server_=new _u(n.repoInfo_,(s,l,u,f)=>{Wv(n,s,l,u,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Xv(n,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(i)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new Vn(n.repoInfo_,e,(s,l,u,f)=>{Wv(n,s,l,u,f)},s=>{Xv(n,s)},s=>{sI(n,s)},n.authTokenProvider_,n.appCheckProvider_,i),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=BN(n.repoInfo_,()=>new HO(n.stats_,n.server_)),n.infoData_=new kO,n.infoSyncTree_=new Kv({startListening:(s,l,u,f)=>{let p=[];const h=n.infoData_.getNode(s._path);return h.isEmpty()||(p=El(n.infoSyncTree_,s._path,h),setTimeout(()=>{f("ok")},0)),p},stopListening:()=>{}}),Ap(n,"connected",!1),n.serverSyncTree_=new Kv({startListening:(s,l,u,f)=>(n.server_.listen(s,u,l,(p,h)=>{const m=f(p,h);Xt(n.eventQueue_,s._path,m)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function ES(n){const i=n.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Ju(n){return HD({timestamp:ES(n)})}function Wv(n,e,i,s,l){n.dataUpdateCount++;const u=new Oe(e);i=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,i):i;let f=[];if(l)if(s){const h=du(i,m=>$e(m));f=xD(n.serverSyncTree_,u,h,l)}else{const h=$e(i);f=aS(n.serverSyncTree_,u,h,l)}else if(s){const h=du(i,m=>$e(m));f=DD(n.serverSyncTree_,u,h)}else{const h=$e(i);f=El(n.serverSyncTree_,u,h)}let p=u;f.length>0&&(p=Ss(n,u)),Xt(n.eventQueue_,p,f)}function Xv(n,e){Ap(n,"connected",e),e===!1&&uI(n)}function sI(n,e){ct(e,(i,s)=>{Ap(n,i,s)})}function Ap(n,e,i){const s=new Oe("/.info/"+e),l=$e(i);n.infoData_.updateSnapshot(s,l);const u=El(n.infoSyncTree_,s,l);Xt(n.eventQueue_,s,u)}function Np(n){return n.nextWriteId_++}function aI(n,e,i){const s=kD(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(l=>{const u=$e(l).withIndex(e._queryParams.getIndex());Ch(n.serverSyncTree_,e,i,!0);let f;if(e._queryParams.loadsAllData())f=El(n.serverSyncTree_,e._path,u);else{const p=ol(n.serverSyncTree_,e);f=aS(n.serverSyncTree_,e._path,u,p)}return Xt(n.eventQueue_,e._path,f),Ru(n.serverSyncTree_,e,i,null,!0),u},l=>(bl(n,"get for query "+Ze(e)+" failed: "+l),Promise.reject(new Error(l))))}function lI(n,e,i,s,l){bl(n,"set",{path:e.toString(),value:i,priority:s});const u=Ju(n),f=$e(i,s),p=gp(n.serverSyncTree_,e),h=fS(f,p,u),m=Np(n),_=sS(n.serverSyncTree_,e,h,m,!0);Zu(n.eventQueue_,_),n.server_.put(e.toString(),f.val(!0),(v,w)=>{const T=v==="ok";T||yt("set at "+e+" failed: "+v);const x=Oi(n.serverSyncTree_,m,!T);Xt(n.eventQueue_,e,x),wh(n,l,v,w)});const E=Dp(n,e);Ss(n,E),Xt(n.eventQueue_,E,[])}function oI(n,e,i,s){bl(n,"update",{path:e.toString(),value:i});let l=!0;const u=Ju(n),f={};if(ct(i,(p,h)=>{l=!1,f[p]=cS(je(e,p),$e(h),n.serverSyncTree_,u)}),l)ut("update() called with empty data.  Don't do anything."),wh(n,s,"ok",void 0);else{const p=Np(n),h=OD(n.serverSyncTree_,e,f,p);Zu(n.eventQueue_,h),n.server_.merge(e.toString(),i,(m,_)=>{const E=m==="ok";E||yt("update at "+e+" failed: "+m);const v=Oi(n.serverSyncTree_,p,!E),w=v.length>0?Ss(n,e):e;Xt(n.eventQueue_,w,v),wh(n,s,m,_)}),ct(i,m=>{const _=Dp(n,je(e,m));Ss(n,_)}),Xt(n.eventQueue_,e,[])}}function uI(n){bl(n,"onDisconnectEvents");const e=Ju(n),i=yu();_h(n.onDisconnect_,Ee(),(l,u)=>{const f=cS(l,u,n.serverSyncTree_,e);GE(i,l,f)});let s=[];_h(i,Ee(),(l,u)=>{s=s.concat(El(n.serverSyncTree_,l,u));const f=Dp(n,l);Ss(n,f)}),n.onDisconnect_=yu(),Xt(n.eventQueue_,Ee(),s)}function cI(n,e,i){let s;de(e._path)===".info"?s=Ch(n.infoSyncTree_,e,i):s=Ch(n.serverSyncTree_,e,i),yS(n.eventQueue_,e._path,s)}function $v(n,e,i){let s;de(e._path)===".info"?s=Ru(n.infoSyncTree_,e,i):s=Ru(n.serverSyncTree_,e,i),yS(n.eventQueue_,e._path,s)}function fI(n){n.persistentConnection_&&n.persistentConnection_.interrupt(tI)}function bl(n,...e){let i="";n.persistentConnection_&&(i=n.persistentConnection_.id+":"),ut(i,...e)}function wh(n,e,i,s){e&&Ds(()=>{if(i==="ok")e(null);else{const l=(i||"error").toUpperCase();let u=l;s&&(u+=": "+s);const f=new Error(u);f.code=l,e(f)}})}function SS(n,e,i){return gp(n.serverSyncTree_,e,i)||se.EMPTY_NODE}function Op(n,e=n.transactionQueueTree_){if(e||ec(n,e),Ms(e)){const i=CS(n,e);G(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&dI(n,Sl(e),i)}else hS(e)&&Xu(e,i=>{Op(n,i)})}function dI(n,e,i){const s=i.map(m=>m.currentWriteId),l=SS(n,e,s);let u=l;const f=l.hash();for(let m=0;m<i.length;m++){const _=i[m];G(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const E=_t(e,_.path);u=u.updateChild(E,_.currentOutputSnapshotRaw)}const p=u.val(!0),h=e;n.server_.put(h.toString(),p,m=>{bl(n,"transaction put response",{path:h.toString(),status:m});let _=[];if(m==="ok"){const E=[];for(let v=0;v<i.length;v++)i[v].status=2,_=_.concat(Oi(n.serverSyncTree_,i[v].currentWriteId)),i[v].onComplete&&E.push(()=>i[v].onComplete(null,!0,i[v].currentOutputSnapshotResolved)),i[v].unwatcher();ec(n,Tp(n.transactionQueueTree_,e)),Op(n,n.transactionQueueTree_),Xt(n.eventQueue_,e,_);for(let v=0;v<E.length;v++)Ds(E[v])}else{if(m==="datastale")for(let E=0;E<i.length;E++)i[E].status===3?i[E].status=4:i[E].status=0;else{yt("transaction at "+h.toString()+" failed: "+m);for(let E=0;E<i.length;E++)i[E].status=4,i[E].abortReason=m}Ss(n,e)}},f)}function Ss(n,e){const i=bS(n,e),s=Sl(i),l=CS(n,i);return hI(n,l,s),s}function hI(n,e,i){if(e.length===0)return;const s=[];let l=[];const f=e.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<e.length;p++){const h=e[p],m=_t(i,h.path);let _=!1,E;if(G(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)_=!0,E=h.abortReason,l=l.concat(Oi(n.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=nI)_=!0,E="maxretry",l=l.concat(Oi(n.serverSyncTree_,h.currentWriteId,!0));else{const v=SS(n,h.path,f);h.currentInputSnapshot=v;const w=e[p].update(v.val());if(w!==void 0){$u("transaction failed: Data returned ",w,h.path);let T=$e(w);typeof w=="object"&&w!=null&&En(w,".priority")||(T=T.updatePriority(v.getPriority()));const U=h.currentWriteId,M=Ju(n),j=fS(T,v,M);h.currentOutputSnapshotRaw=T,h.currentOutputSnapshotResolved=j,h.currentWriteId=Np(n),f.splice(f.indexOf(U),1),l=l.concat(sS(n.serverSyncTree_,h.path,j,h.currentWriteId,h.applyLocally)),l=l.concat(Oi(n.serverSyncTree_,U,!0))}else _=!0,E="nodata",l=l.concat(Oi(n.serverSyncTree_,h.currentWriteId,!0))}Xt(n.eventQueue_,i,l),l=[],_&&(e[p].status=2,function(v){setTimeout(v,Math.floor(0))}(e[p].unwatcher),e[p].onComplete&&(E==="nodata"?s.push(()=>e[p].onComplete(null,!1,e[p].currentInputSnapshot)):s.push(()=>e[p].onComplete(new Error(E),!1,null))))}ec(n,n.transactionQueueTree_);for(let p=0;p<s.length;p++)Ds(s[p]);Op(n,n.transactionQueueTree_)}function bS(n,e){let i,s=n.transactionQueueTree_;for(i=de(e);i!==null&&Ms(s)===void 0;)s=Tp(s,i),e=ke(e),i=de(e);return s}function CS(n,e){const i=[];return TS(n,e,i),i.sort((s,l)=>s.order-l.order),i}function TS(n,e,i){const s=Ms(e);if(s)for(let l=0;l<s.length;l++)i.push(s[l]);Xu(e,l=>{TS(n,l,i)})}function ec(n,e){const i=Ms(e);if(i){let s=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[s]=i[l],s++);i.length=s,dS(e,i.length>0?i:void 0)}Xu(e,s=>{ec(n,s)})}function Dp(n,e){const i=Sl(bS(n,e)),s=Tp(n.transactionQueueTree_,e);return qD(s,l=>{Wd(n,l)}),Wd(n,s),pS(s,l=>{Wd(n,l)}),i}function Wd(n,e){const i=Ms(e);if(i){const s=[];let l=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(G(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(G(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),l=l.concat(Oi(n.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&s.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?dS(e,void 0):i.length=u+1,Xt(n.eventQueue_,Sl(e),l);for(let f=0;f<s.length;f++)Ds(s[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(n){let e="";const i=n.split("/");for(let s=0;s<i.length;s++)if(i[s].length>0){let l=i[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function mI(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const i of n.split("&")){if(i.length===0)continue;const s=i.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):yt(`Invalid query segment '${i}' in query '${n}'`)}return e}const Zv=function(n,e){const i=gI(n),s=i.namespace;i.domain==="firebase.com"&&Kn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&i.domain!=="localhost"&&Kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||RN();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new AE(i.host,i.secure,s,l,e,"",s!==i.subdomain),path:new Oe(i.pathString)}},gI=function(n){let e="",i="",s="",l="",u="",f=!0,p="https",h=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(p=n.substring(0,m-1),n=n.substring(m+2));let _=n.indexOf("/");_===-1&&(_=n.length);let E=n.indexOf("?");E===-1&&(E=n.length),e=n.substring(0,Math.min(_,E)),_<E&&(l=pI(n.substring(_,E)));const v=mI(n.substring(Math.min(n.length,E)));m=e.indexOf(":"),m>=0?(f=p==="https"||p==="wss",h=parseInt(e.substring(m+1),10)):m=e.length;const w=e.slice(0,m);if(w.toLowerCase()==="localhost")i="localhost";else if(w.split(".").length<=2)i=w;else{const T=e.indexOf(".");s=e.substring(0,T).toLowerCase(),i=e.substring(T+1),u=s}"ns"in v&&(u=v.ns)}return{host:e,port:h,domain:i,subdomain:s,secure:f,scheme:p,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_I=function(){let n=0;const e=[];return function(i){const s=i===n;n=i;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=Jv.charAt(i%64),i=Math.floor(i/64);G(i===0,"Cannot push at time == 0");let f=u.join("");if(s){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)f+=Jv.charAt(e[l]);return G(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,i,s,l){this.eventType=e,this.eventRegistration=i,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class vI{constructor(e,i,s){this.eventRegistration=e,this.error=i,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,i,s,l){this._repo=e,this._path=i,this._queryParams=s,this._orderByCalled=l}get key(){return ge(this._path)?null:ip(this._path)}get ref(){return new Xn(this._repo,this._path)}get _queryIdentifier(){const e=Pv(this._queryParams),i=Jh(e);return i==="{}"?"default":i}get _queryObject(){return Pv(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof Ip))return!1;const i=this._repo===e._repo,s=rp(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return i&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+uO(this._path)}}class Xn extends Ip{constructor(e,i){super(e,i,new op,!1)}get parent(){const e=UE(this._path);return e===null?null:new Xn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ul{constructor(e,i,s){this._node=e,this.ref=i,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Oe(e),s=cl(this.ref,e);return new ul(this._node.getChild(i),s,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new ul(l,cl(this.ref,s),Ve)))}hasChild(e){const i=new Oe(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function gn(n,e){return n=ft(n),n._checkNotDeleted("ref"),e!==void 0?cl(n._root,e):n._root}function cl(n,e){return n=ft(n),de(n._path)===null?$D("child","path",e):_S("child","path",e),new Xn(n._repo,je(n._path,e))}function EI(n,e){n=ft(n),Rp("push",n._path),gS("push",e,n._path,!0);const i=ES(n._repo),s=_I(i),l=cl(n,s),u=cl(n,s);let f;return f=Promise.resolve(u),l.then=f.then.bind(f),l.catch=f.then.bind(f,void 0),l}function SI(n){return Rp("remove",n._path),Au(n,null)}function Au(n,e){n=ft(n),Rp("set",n._path),gS("set",e,n._path,!1);const i=new ml;return lI(n._repo,n._path,e,null,i.wrapCallback(()=>{})),i.promise}function bI(n,e){XD("update",e,n._path);const i=new ml;return oI(n._repo,n._path,e,i.wrapCallback(()=>{})),i.promise}function RS(n){n=ft(n);const e=new wS(()=>{}),i=new tc(e);return aI(n._repo,n,i).then(s=>new ul(s,new Xn(n._repo,n._path),n._queryParams.getIndex()))}class tc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const s=i._queryParams.getIndex();return new yI("value",this,new ul(e.snapshotNode,new Xn(i._repo,i._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new vI(this,e,i):null}matches(e){return e instanceof tc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function CI(n,e,i,s,l){let u;if(typeof s=="object"&&(u=void 0,l=s),typeof s=="function"&&(u=s),l&&l.onlyOnce){const h=i,m=(_,E)=>{$v(n._repo,n,p),h(_,E)};m.userCallback=i.userCallback,m.context=i.context,i=m}const f=new wS(i,u||void 0),p=new tc(f);return cI(n._repo,n,p),()=>$v(n._repo,n,p)}function fl(n,e,i,s){return CI(n,"value",e,i,s)}SD(Xn);RD(Xn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="FIREBASE_DATABASE_EMULATOR_HOST",Rh={};let wI=!1;function RI(n,e,i,s){const l=e.lastIndexOf(":"),u=e.substring(0,l),f=As(u);n.repoInfo_=new AE(e,f,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,i),s&&(n.authTokenProvider_=s)}function AI(n,e,i,s,l){let u=s||n.options.databaseURL;u===void 0&&(n.options.projectId||Kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ut("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f=Zv(u,l),p=f.repoInfo,h;typeof process<"u"&&vv&&(h=vv[TI]),h?(u=`http://${h}?ns=${p.namespace}`,f=Zv(u,l),p=f.repoInfo):f.repoInfo.secure;const m=new PN(n.name,n.options,e);ZD("Invalid Firebase Database URL",f),ge(f.path)||Kn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=OI(p,n,m,new UN(n,i));return new DI(_,n)}function NI(n,e){const i=Rh[e];(!i||i[n.key]!==n)&&Kn(`Database ${e}(${n.repoInfo_}) has already been deleted.`),fI(n),delete i[n.key]}function OI(n,e,i,s){let l=Rh[e.name];l||(l={},Rh[e.name]=l);let u=l[n.toURLString()];return u&&Kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new iI(n,wI,i,s),l[n.toURLString()]=u,u}class DI{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xn(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(NI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Kn("Cannot call "+e+" on a deleted database.")}}function II(n=cE(),e){const i=$h(n,"database").getImmediate({identifier:e});if(!i._instanceStarted){const s=YR("database");s&&MI(i,...s)}return i}function MI(n,e,i,s={}){n=ft(n),n._checkNotDeleted("useEmulator");const l=`${e}:${i}`,u=n._repoInternal;if(n._instanceStarted){if(l===n._repoInternal.repoInfo_.host&&fr(s,u.repoInfo_.emulatorOptions))return;Kn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&Kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new $o($o.OWNER);else if(s.mockUserToken){const p=typeof s.mockUserToken=="string"?s.mockUserToken:KR(s.mockUserToken,n.app.options.projectId);f=new $o(p)}As(e)&&(iE(e),rE("Database",!0)),RI(u,l,s,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(n){EN(Os),gs(new dr("database",(e,{instanceIdentifier:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return AI(s,l,u,i)},"PUBLIC").setMultipleInstances(!0)),Mi(Ev,Sv,n),Mi(Ev,Sv,"esm2017")}Vn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Vn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};xI();var kI="firebase",LI="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi(kI,LI,"app");function Mp(n,e){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(i[s[l]]=n[s[l]]);return i}function AS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UI=AS,NS=new gl("auth","Firebase",AS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new Wh("@firebase/auth");function PI(n,...e){Nu.logLevel<=Ne.WARN&&Nu.warn(`Auth (${Os}): ${n}`,...e)}function Zo(n,...e){Nu.logLevel<=Ne.ERROR&&Nu.error(`Auth (${Os}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(n,...e){throw xp(n,...e)}function _n(n,...e){return xp(n,...e)}function OS(n,e,i){const s=Object.assign(Object.assign({},UI()),{[e]:i});return new gl("auth","Firebase",s).create(e,{appName:n.name})}function qn(n){return OS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xp(n,...e){if(typeof n!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(i,...s)}return NS.create(n,...e)}function re(n,e,...i){if(!n)throw xp(e,...i)}function zn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zo(e),new Error(e)}function Qn(n,e){n||zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function zI(){return e0()==="http:"||e0()==="https:"}function e0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zI()||$R()||"connection"in navigator)?navigator.onLine:!0}function BI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,i){this.shortDelay=e,this.longDelay=i,Qn(i>e,"Short delay should be less than long delay!"),this.isMobile=Qh()||sE()}get(){return HI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(n,e){Qn(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qI=new Cl(3e4,6e4);function $n(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Sn(n,e,i,s,l={}){return IS(n,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Ns(Object.assign({key:n.config.apiKey},f)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:h},u);return XR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&As(n.emulatorConfig.host)&&(m.credentials="include"),DS.fetch()(await MS(n,n.config.apiHost,i,p),m)})}async function IS(n,e,i){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},jI),e);try{const l=new FI(n),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Qo(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[h,m]=p.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qo(n,"credential-already-in-use",f);if(h==="EMAIL_EXISTS")throw Qo(n,"email-already-in-use",f);if(h==="USER_DISABLED")throw Qo(n,"user-disabled",f);const _=s[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw OS(n,_,m);ln(n,_)}}catch(l){if(l instanceof Bi)throw l;ln(n,"network-request-failed",{message:String(l)})}}async function Tl(n,e,i,s,l={}){const u=await Sn(n,e,i,s,l);return"mfaPendingCredential"in u&&ln(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function MS(n,e,i,s){const l=`${e}${i}?${s}`,u=n,f=u.config.emulator?kp(n.config,l):`${n.config.apiScheme}://${l}`;return VI.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function GI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(_n(this.auth,"network-request-failed")),qI.get())})}}function Qo(n,e,i){const s={appName:n.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=_n(n,e,s);return l.customData._tokenResponse=i,l}function t0(n){return n!==void 0&&n.enterprise!==void 0}class YI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return GI(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KI(n,e){return Sn(n,"GET","/v2/recaptchaConfig",$n(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(n,e){return Sn(n,"POST","/v1/accounts:delete",e)}async function Ou(n,e){return Sn(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WI(n,e=!1){const i=ft(n),s=await i.getIdToken(e),l=Lp(s);re(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:Xa(Xd(l.auth_time)),issuedAtTime:Xa(Xd(l.iat)),expirationTime:Xa(Xd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Xd(n){return Number(n)*1e3}function Lp(n){const[e,i,s]=n.split(".");if(e===void 0||i===void 0||s===void 0)return Zo("JWT malformed, contained fewer than 3 sections"),null;try{const l=fu(i);return l?JSON.parse(l):(Zo("Failed to decode base64 JWT payload"),null)}catch(l){return Zo("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function n0(n){const e=Lp(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(n,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Bi&&XI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function XI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(n){var e;const i=n.auth,s=await n.getIdToken(),l=await bs(n,Ou(i,{idToken:s}));re(l==null?void 0:l.users.length,i,"internal-error");const u=l.users[0];n._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?xS(u.providerUserInfo):[],p=JI(n.providerData,f),h=n.isAnonymous,m=!(n.email&&u.passwordHash)&&!(p!=null&&p.length),_=h?m:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Nh(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function ZI(n){const e=ft(n);await Du(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JI(n,e){return[...n.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function xS(n){return n.map(e=>{var{providerId:i}=e,s=Mp(e,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(n,e){const i=await IS(n,{},async()=>{const s=Ns({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=n.config,f=await MS(n,l,"/v1/token",`key=${u}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:p,body:s};return n.emulatorConfig&&As(n.emulatorConfig.host)&&(h.credentials="include"),DS.fetch()(f,h)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function tM(n,e){return Sn(n,"POST","/v2/accounts:revokeToken",$n(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){re(e.length!==0,"internal-error");const i=n0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:u}=await eM(e,i);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:u}=i,f=new fs;return s&&(re(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(re(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(re(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fs,this.toJSON())}_performRefresh(){return zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class rn{constructor(e){var{uid:i,auth:s,stsTokenManager:l}=e,u=Mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Nh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await bs(this,this.stsTokenManager.getToken(this.auth,e));return re(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return WI(this,e)}reload(){return ZI(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new rn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Du(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qt(this.auth.app))return Promise.reject(qn(this.auth));const e=await this.getIdToken();return await bs(this,QI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var s,l,u,f,p,h,m,_;const E=(s=i.displayName)!==null&&s!==void 0?s:void 0,v=(l=i.email)!==null&&l!==void 0?l:void 0,w=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,T=(f=i.photoURL)!==null&&f!==void 0?f:void 0,x=(p=i.tenantId)!==null&&p!==void 0?p:void 0,U=(h=i._redirectEventId)!==null&&h!==void 0?h:void 0,M=(m=i.createdAt)!==null&&m!==void 0?m:void 0,j=(_=i.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:H,emailVerified:F,isAnonymous:q,providerData:J,stsTokenManager:$}=i;re(H&&$,e,"internal-error");const ue=fs.fromJSON(this.name,$);re(typeof H=="string",e,"internal-error"),Ti(E,e.name),Ti(v,e.name),re(typeof F=="boolean",e,"internal-error"),re(typeof q=="boolean",e,"internal-error"),Ti(w,e.name),Ti(T,e.name),Ti(x,e.name),Ti(U,e.name),Ti(M,e.name),Ti(j,e.name);const X=new rn({uid:H,auth:e,email:v,emailVerified:F,displayName:E,isAnonymous:q,photoURL:T,phoneNumber:w,tenantId:x,stsTokenManager:ue,createdAt:M,lastLoginAt:j});return J&&Array.isArray(J)&&(X.providerData=J.map(Se=>Object.assign({},Se))),U&&(X._redirectEventId=U),X}static async _fromIdTokenResponse(e,i,s=!1){const l=new fs;l.updateFromServerResponse(i);const u=new rn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Du(u),u}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];re(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?xS(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),p=new fs;p.updateFromIdToken(s);const h=new rn({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:f}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Nh(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Map;function Hn(n){Qn(n instanceof Function,"Expected a class definition");let e=i0.get(n);return e?(Qn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,i0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}kS.type="NONE";const r0=kS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(n,e,i){return`firebase:${n}:${e}:${i}`}class ds{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Jo(this.userKey,l.apiKey,u),this.fullPersistenceKey=Jo("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Ou(this.auth,{idToken:e}).catch(()=>{});return i?rn._fromGetAccountInfoResponse(this.auth,i,e):null}return rn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new ds(Hn(r0),e,s);const l=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||Hn(r0);const f=Jo(s,e.config.apiKey,e.name);let p=null;for(const m of i)try{const _=await m._get(f);if(_){let E;if(typeof _=="string"){const v=await Ou(e,{idToken:_}).catch(()=>{});if(!v)break;E=await rn._fromGetAccountInfoResponse(e,v,_)}else E=rn._fromJSON(e,_);m!==u&&(p=E),u=m;break}}catch{}const h=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!h.length?new ds(u,e,s):(u=h[0],p&&await u._set(f,p.toJSON()),await Promise.all(i.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new ds(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BS(e))return"Blackberry";if(jS(e))return"Webos";if(US(e))return"Safari";if((e.includes("chrome/")||PS(e))&&!e.includes("edge/"))return"Chrome";if(HS(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function LS(n=vt()){return/firefox\//i.test(n)}function US(n=vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PS(n=vt()){return/crios\//i.test(n)}function zS(n=vt()){return/iemobile/i.test(n)}function HS(n=vt()){return/android/i.test(n)}function BS(n=vt()){return/blackberry/i.test(n)}function jS(n=vt()){return/webos/i.test(n)}function Up(n=vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nM(n=vt()){var e;return Up(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iM(){return ZR()&&document.documentMode===10}function VS(n=vt()){return Up(n)||HS(n)||jS(n)||BS(n)||/windows phone/i.test(n)||zS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(n,e=[]){let i;switch(n){case"Browser":i=s0(vt());break;case"Worker":i=`${s0(vt())}-${n}`;break;default:i=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Os}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=u=>new Promise((f,p)=>{try{const h=e(u);f(h)}catch(h){p(h)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(n,e={}){return Sn(n,"GET","/v2/passwordPolicy",$n(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=6;class lM{constructor(e){var i,s,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=f.minPasswordLength)!==null&&i!==void 0?i:aM,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,s,l,u,f,p;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(i=h.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(l=h.containsLowercaseLetter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsUppercaseLetter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNumericCharacter)!==null&&f!==void 0?f:!0),h.isValid&&(h.isValid=(p=h.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),h}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new rM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Hn(i)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await ds.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Ou(this,{idToken:e}),s=await rn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Qt(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,p=l==null?void 0:l._redirectEventId,h=await this.tryRedirectSignIn(e);(!f||f===p)&&(h!=null&&h.user)&&(l=h.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Du(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qt(this.app))return Promise.reject(qn(this));const i=e?ft(e):null;return i&&re(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qt(this.app)?Promise.reject(qn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qt(this.app)?Promise.reject(qn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sM(this),i=new lM(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gl("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await tM(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Hn(e)||this._popupRedirectResolver;re(i,this,"argument-error"),this.redirectPersistenceManager=await ds.create(this,[Hn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const h=e.addObserver(i,s,l);return()=>{f=!0,h()}}else{const h=e.addObserver(i);return()=>{f=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var e;if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&PI(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Er(n){return ft(n)}class a0{constructor(e){this.auth=e,this.observer=null,this.addObserver=oA(i=>this.observer=i)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uM(n){nc=n}function GS(n){return nc.loadJS(n)}function cM(){return nc.recaptchaEnterpriseScript}function fM(){return nc.gapiScript}function dM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class hM{constructor(){this.enterprise=new pM}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class pM{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const mM="recaptcha-enterprise",FS="NO_RECAPTCHA";class gM{constructor(e){this.type=mM,this.auth=Er(e)}async verify(e="verify",i=!1){async function s(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{KI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const m=new YI(h);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,f(m.siteKey)}}).catch(h=>{p(h)})})}function l(u,f,p){const h=window.grecaptcha;t0(h)?h.enterprise.ready(()=>{h.enterprise.execute(u,{action:e}).then(m=>{f(m)}).catch(()=>{f(FS)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hM().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!i&&t0(window.grecaptcha))l(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let h=cM();h.length!==0&&(h+=p),GS(h).then(()=>{l(p,u,f)}).catch(m=>{f(m)})}}).catch(p=>{f(p)})})}}async function l0(n,e,i,s=!1,l=!1){const u=new gM(n);let f;if(l)f=FS;else try{f=await u.verify(i)}catch{f=await u.verify(i,!0)}const p=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const h=p.phoneEnrollmentInfo.phoneNumber,m=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const h=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Oh(n,e,i,s,l){var u;if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await l0(n,e,i,i==="getOobCode");return s(n,f)}else return s(n,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await l0(n,e,i,i==="getOobCode");return s(n,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(n,e){const i=$h(n,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(fr(u,e??{}))return l;ln(l,"already-initialized")}return i.initialize({options:e})}function yM(n,e){const i=(e==null?void 0:e.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Hn);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function vM(n,e,i){const s=Er(n);re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=YS(e),{host:f,port:p}=EM(e),h=p===null?"":`:${p}`,m={url:`${u}//${f}${h}/`},_=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),re(fr(m,s.config.emulator)&&fr(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,As(f)?(iE(`${u}//${f}${h}`),rE("Auth",!0)):SM()}function YS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function EM(n){const e=YS(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:o0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:o0(f)}}}function o0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function SM(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,i){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}}async function bM(n,e){return Sn(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(n,e){return Tl(n,"POST","/v1/accounts:signInWithPassword",$n(n,e))}async function TM(n,e){return Sn(n,"POST","/v1/accounts:sendOobCode",$n(n,e))}async function wM(n,e){return TM(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(n,e){return Tl(n,"POST","/v1/accounts:signInWithEmailLink",$n(n,e))}async function AM(n,e){return Tl(n,"POST","/v1/accounts:signInWithEmailLink",$n(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Pp{constructor(e,i,s,l=null){super("password",s),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new dl(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new dl(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(e,i,"signInWithPassword",CM);case"emailLink":return RM(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(e,s,"signUpPassword",bM);case"emailLink":return AM(e,{idToken:i,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hs(n,e){return Tl(n,"POST","/v1/accounts:signInWithIdp",$n(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="http://localhost";class gr extends Pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new gr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ln("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=i,u=Mp(i,["providerId","signInMethod"]);if(!s||!l)return null;const f=new gr(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return hs(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,hs(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,hs(e,i)}buildRequest(){const e={requestUri:NM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ns(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DM(n){const e=ja(Va(n)).link,i=e?ja(Va(e)).deep_link_id:null,s=ja(Va(n)).deep_link_id;return(s?ja(Va(s)).link:null)||s||i||e||n}class zp{constructor(e){var i,s,l,u,f,p;const h=ja(Va(e)),m=(i=h.apiKey)!==null&&i!==void 0?i:null,_=(s=h.oobCode)!==null&&s!==void 0?s:null,E=OM((l=h.mode)!==null&&l!==void 0?l:null);re(m&&_&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=_,this.continueUrl=(u=h.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=h.lang)!==null&&f!==void 0?f:null,this.tenantId=(p=h.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const i=DM(e);try{return new zp(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.providerId=xs.PROVIDER_ID}static credential(e,i){return dl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=zp.parseLink(i);return re(s,"argument-error"),dl._fromEmailAndCode(e,s.code,s.tenantId)}}xs.PROVIDER_ID="password";xs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends KS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends wl{constructor(){super("facebook.com")}static credential(e){return gr._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return gr._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return Ri.credential(i,s)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends wl{constructor(){super("github.com")}static credential(e){return gr._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends wl{constructor(){super("twitter.com")}static credential(e,i){return gr._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Ni.credential(i,s)}catch{return null}}}Ni.TWITTER_SIGN_IN_METHOD="twitter.com";Ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(n,e){return Tl(n,"POST","/v1/accounts:signUp",$n(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const u=await rn._fromIdTokenResponse(e,s,l),f=u0(s);return new _r({user:u,providerId:f,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=u0(s);return new _r({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function u0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends Bi{constructor(e,i,s,l){var u;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Iu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new Iu(e,i,s,l)}}function QS(n,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Iu._fromErrorAndOperation(n,u,e,s):u})}async function MM(n,e,i=!1){const s=await bs(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return _r._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(n,e,i=!1){const{auth:s}=n;if(Qt(s.app))return Promise.reject(qn(s));const l="reauthenticate";try{const u=await bs(n,QS(s,l,e,n),i);re(u.idToken,s,"internal-error");const f=Lp(u.idToken);re(f,s,"internal-error");const{sub:p}=f;return re(n.uid===p,s,"user-mismatch"),_r._forOperation(n,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ln(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(n,e,i=!1){if(Qt(n.app))return Promise.reject(qn(n));const s="signIn",l=await QS(n,s,e),u=await _r._fromIdTokenResponse(n,s,l);return i||await n._updateCurrentUser(u.user),u}async function kM(n,e){return WS(Er(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(n){const e=Er(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LM(n,e,i){if(Qt(n.app))return Promise.reject(qn(n));const s=Er(n),f=await Oh(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IM).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&XS(n),h}),p=await _r._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function UM(n,e,i){return Qt(n.app)?Promise.reject(qn(n)):kM(ft(n),xs.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&XS(n),s})}async function PM(n,e){const i=ft(n),l={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:u}=await wM(i.auth,l);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(n,e){return Sn(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(n,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const s=ft(n),u={idToken:await s.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},f=await bs(s,zM(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const p=s.providerData.find(({providerId:h})=>h==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function BM(n,e,i,s){return ft(n).onIdTokenChanged(e,i,s)}function jM(n,e,i){return ft(n).beforeAuthStateChanged(e,i)}function VM(n){return ft(n).signOut()}const Mu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Mu,"1"),this.storage.removeItem(Mu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=1e3,GM=10;class ZS extends $S{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,p,h)=>{this.notifyListeners(f,h)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!i&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);iM()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,GM):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},qM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZS.type="LOCAL";const FM=ZS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS extends $S{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}JS.type="SESSION";const eb=JS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new ic(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:u}=i.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(f).map(async m=>m(i.origin,u)),h=await YM(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:h})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ic.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(n="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((p,h)=>{const m=Hp("",20);l.port1.start();const _=setTimeout(()=>{h(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(E){const v=E;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(v.data.response);break;default:clearTimeout(_),clearTimeout(u),h(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function QM(n){yn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}async function WM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function $M(){return tb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="firebaseLocalStorageDb",ZM=1,xu="firebaseLocalStorage",ib="fbase_key";class Rl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rc(n,e){return n.transaction([xu],e?"readwrite":"readonly").objectStore(xu)}function JM(){const n=indexedDB.deleteDatabase(nb);return new Rl(n).toPromise()}function Dh(){const n=indexedDB.open(nb,ZM);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(xu,{keyPath:ib})}catch(l){i(l)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(xu)?e(s):(s.close(),await JM(),e(await Dh()))})})}async function c0(n,e,i){const s=rc(n,!0).put({[ib]:e,value:i});return new Rl(s).toPromise()}async function ex(n,e){const i=rc(n,!1).get(e),s=await new Rl(i).toPromise();return s===void 0?null:s.value}function f0(n,e){const i=rc(n,!0).delete(e);return new Rl(i).toPromise()}const tx=800,nx=3;class rb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dh(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>nx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ic._getInstance($M()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await WM(),!this.activeServiceWorker)return;this.sender=new KM(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dh();return await c0(e,Mu,"1"),await f0(e,Mu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>c0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>ex(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>f0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=rc(l,!1).getAll();return new Rl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rb.type="LOCAL";const ix=rb;new Cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(n,e){return e?Hn(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends Pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hs(e,this._buildIdpRequest())}_linkToIdToken(e,i){return hs(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function sx(n){return WS(n.auth,new Bp(n),n.bypassAuthState)}function ax(n){const{auth:e,user:i}=n;return re(i,e,"internal-error"),xM(i,new Bp(n),n.bypassAuthState)}async function lx(n){const{auth:e,user:i}=n;return re(i,e,"internal-error"),MM(i,new Bp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,i,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const h={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sx;case"linkViaPopup":case"linkViaRedirect":return lx;case"reauthViaPopup":case"reauthViaRedirect":return ax;default:ln(this.auth,"internal-error")}}resolve(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=new Cl(2e3,1e4);class os extends sb{constructor(e,i,s,l,u){super(e,i,l,u),this.provider=s,this.authWindow=null,this.pollId=null,os.currentPopupAction&&os.currentPopupAction.cancel(),os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Qn(this.filter.length===1,"Popup operations only handle one event");const e=Hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ox.get())};e()}}os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="pendingRedirect",eu=new Map;class cx extends sb{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=eu.get(this.auth._key());if(!e){try{const s=await fx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}eu.set(this.auth._key(),e)}return this.bypassAuthState||eu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fx(n,e){const i=px(e),s=hx(n);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function dx(n,e){eu.set(n._key(),e)}function hx(n){return Hn(n._redirectPersistence)}function px(n){return Jo(ux,n.config.apiKey,n.name)}async function mx(n,e,i=!1){if(Qt(n.app))return Promise.reject(qn(n));const s=Er(n),l=rx(s,e),f=await new cx(s,l,i).execute();return f&&!i&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=10*60*1e3;class _x{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yx(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var s;if(e.error&&!ab(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(_n(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gx&&this.cachedEventUids.clear(),this.cachedEventUids.has(d0(e))}saveEventToCache(e){this.cachedEventUids.add(d0(e)),this.lastProcessedEventTime=Date.now()}}function d0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ab({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ab(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(n,e={}){return Sn(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sx=/^https?/;async function bx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await vx(n);for(const i of e)try{if(Cx(i))return}catch{}ln(n,"unauthorized-domain")}function Cx(n){const e=Ah(),{protocol:i,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&s===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===s}if(!Sx.test(i))return!1;if(Ex.test(n))return s===n;const l=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=new Cl(3e4,6e4);function h0(){const n=yn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function wx(n){return new Promise((e,i)=>{var s,l,u;function f(){h0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h0(),i(_n(n,"network-request-failed"))},timeout:Tx.get()})}if(!((l=(s=yn().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=yn().gapi)===null||u===void 0)&&u.load)f();else{const p=dM("iframefcb");return yn()[p]=()=>{gapi.load?f():i(_n(n,"network-request-failed"))},GS(`${fM()}?onload=${p}`).catch(h=>i(h))}}).catch(e=>{throw tu=null,e})}let tu=null;function Rx(n){return tu=tu||wx(n),tu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Cl(5e3,15e3),Nx="__/auth/iframe",Ox="emulator/auth/iframe",Dx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ix=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mx(n){const e=n.config;re(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?kp(e,Ox):`https://${n.config.authDomain}/${Nx}`,s={apiKey:e.apiKey,appName:n.name,v:Os},l=Ix.get(n.config.apiHost);l&&(s.eid=l);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${Ns(s).slice(1)}`}async function xx(n){const e=await Rx(n),i=yn().gapi;return re(i,n,"internal-error"),e.open({where:document.body,url:Mx(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dx,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=_n(n,"network-request-failed"),p=yn().setTimeout(()=>{u(f)},Ax.get());function h(){yn().clearTimeout(p),l(s)}s.ping(h).then(h,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lx=500,Ux=600,Px="_blank",zx="http://localhost";class p0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hx(n,e,i,s=Lx,l=Ux){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const h=Object.assign(Object.assign({},kx),{width:s.toString(),height:l.toString(),top:u,left:f}),m=vt().toLowerCase();i&&(p=PS(m)?Px:i),LS(m)&&(e=e||zx,h.scrollbars="yes");const _=Object.entries(h).reduce((v,[w,T])=>`${v}${w}=${T},`,"");if(nM(m)&&p!=="_self")return Bx(e||"",p),new p0(null);const E=window.open(e||"",p,_);re(E,n,"popup-blocked");try{E.focus()}catch{}return new p0(E)}function Bx(n,e){const i=document.createElement("a");i.href=n,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="__/auth/handler",Vx="emulator/auth/handler",qx=encodeURIComponent("fac");async function m0(n,e,i,s,l,u){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:s,v:Os,eventId:l};if(e instanceof KS){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",oh(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))f[_]=E}if(e instanceof wl){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(f.scopes=_.join(","))}n.tenantId&&(f.tid=n.tenantId);const p=f;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const h=await n._getAppCheckToken(),m=h?`#${qx}=${encodeURIComponent(h)}`:"";return`${Gx(n)}?${Ns(p).slice(1)}${m}`}function Gx({config:n}){return n.emulator?kp(n,Vx):`https://${n.authDomain}/${jx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="webStorageSupport";class Fx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eb,this._completeRedirectFn=mx,this._overrideRedirectResult=dx}async _openPopup(e,i,s,l){var u;Qn((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await m0(e,i,s,Ah(),l);return Hx(e,f,Hp())}async _openRedirect(e,i,s,l){await this._originValidation(e);const u=await m0(e,i,s,Ah(),l);return QM(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(Qn(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await xx(e),s=new _x(e);return i.register("authEvent",l=>(re(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send($d,{type:$d},l=>{var u;const f=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[$d];f!==void 0&&i(!!f),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=bx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return VS()||US()||Up()}}const Yx=Fx;var g0="@firebase/auth",_0="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wx(n){gs(new dr("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;re(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const h={apiKey:f,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qS(n)},m=new oM(s,l,u,h);return yM(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),gs(new dr("auth-internal",e=>{const i=Er(e.getProvider("auth").getImmediate());return(s=>new Kx(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mi(g0,_0,Qx(n)),Mi(g0,_0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=5*60,$x=nE("authIdTokenMaxAge")||Xx;let y0=null;const Zx=n=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>$x)return;const l=i==null?void 0:i.token;y0!==l&&(y0=l,await fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Jx(n=cE()){const e=$h(n,"auth");if(e.isInitialized())return e.getImmediate();const i=_M(n,{popupRedirectResolver:Yx,persistence:[ix,FM,eb]}),s=nE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=Zx(u.toString());jM(i,f,()=>f(i.currentUser)),BM(i,p=>f(p))}}const l=eE("auth");return l&&vM(i,`http://${l}`),i}function e2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}uM({loadJS(n){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=l=>{const u=_n("internal-error");u.customData=l,i(u)},s.type="text/javascript",s.charset="UTF-8",e2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wx("Browser");const t2={apiKey:"AIzaSyDkZYAt5AdQkGeLVyY5NIUH_hiQekEqXs4",authDomain:"rampivsportchallendge.firebaseapp.com",databaseURL:"https://rampivsportchallendge-default-rtdb.firebaseio.com",projectId:"rampivsportchallendge",storageBucket:"rampivsportchallendge.firebasestorage.app",messagingSenderId:"927769427616",appId:"1:927769427616:web:9ed7b86f12ae80292793c5",measurementId:"G-D9LKHJNEE0"},lb=uE(t2),Ih=Jx(lb),vn=II(lb),ob=DR({creators:{asyncThunk:NR}}),v0={weeklyChallenges:[],dailyChallenges:[],loading:!1,error:null},Zd=Wn("challenges/fetchWeekly",async n=>{const e=gn(vn,"weeklyChallenges");return new Promise(i=>{fl(e,s=>{const l=s.val(),u=l?Object.keys(l).map(f=>({...l[f],id:f})):[];i(u)})})}),Jd=Wn("challenges/fetchDaily",async n=>{const e=gn(vn,`dailyChallenges/${n}`);return new Promise(i=>{fl(e,s=>{const l=s.val(),u=l?Object.keys(l).map(f=>({...l[f],id:f,userId:n})):[];i(u)})})}),n2=Wn("challenges/addDaily",async({challenge:n,userId:e})=>{const i=gn(vn,`dailyChallenges/${e}`),s=EI(i);return await Au(s,{...n,createdAt:Date.now(),current:0,isCompleted:!1}),{id:s.key,...n}}),ub=Wn("challenges/deleteDaily",async({id:n,userId:e})=>{const i=gn(vn,`dailyChallenges/${e}/${n}`);return await SI(i),n}),i2=Wn("challenges/incrementProgress",async({id:n,userId:e,isDaily:i})=>{const s=i?`dailyChallenges/${e}/${n}`:`weeklyChallenges/${n}`,l=gn(vn,s);return fl(l,async u=>{const f=u.val();if(f){const p=f.current+1,h=p>=f.target,m=h?f.countCompleted+1:f.countCompleted;if(await Au(l,{...f,current:p,isCompleted:h,countCompleted:m}),i&&h){const _=gn(vn,"weeklyChallenges"),v=(await RS(_)).val();if(v){const w=Object.keys(v).map(async T=>{const x=gn(vn,`weeklyChallenges/${T}`),U=v[T],M=U.current+1;await Au(x,{...U,current:M,isCompleted:M>=U.target})});await Promise.all(w)}}}},{onlyOnce:!0}),{id:n,userId:e,isDaily:i}});let ku=[];const cb=()=>{ku.forEach(n=>n()),ku=[]},r2=Wn("challenges/subscribe",async(n,{dispatch:e})=>{cb();const i=gn(vn,"weeklyChallenges"),s=fl(i,l=>{const u=l.val(),f=u?Object.keys(u).map(p=>({...u[p],id:p})):[];e(s2(f))});if(ku.push(()=>s()),n){const l=gn(vn,`dailyChallenges/${n}`),u=fl(l,f=>{const p=f.val(),h=p?Object.keys(p).map(m=>({...p[m],id:m,userId:n})):[];e(a2(h))});ku.push(()=>u())}}),fb=ob({name:"challenges",initialState:v0,reducers:{setWeeklyChallenges:(n,e)=>{n.weeklyChallenges=e.payload},setDailyChallenges:(n,e)=>{n.dailyChallenges=e.payload},resetChallenges:()=>v0},extraReducers:n=>{n.addCase(Zd.pending,e=>{e.loading=!0,e.error=null}).addCase(Zd.fulfilled,(e,i)=>{e.weeklyChallenges=i.payload,e.loading=!1}).addCase(Zd.rejected,(e,i)=>{e.loading=!1,e.error=i.payload}).addCase(Jd.pending,e=>{e.loading=!0,e.error=null}).addCase(Jd.fulfilled,(e,i)=>{e.dailyChallenges=i.payload,e.loading=!1}).addCase(Jd.rejected,(e,i)=>{e.loading=!1,e.error=i.payload}).addCase(ub.fulfilled,(e,i)=>{e.dailyChallenges=e.dailyChallenges.filter(s=>s.id!==i.payload)})}}),{setWeeklyChallenges:s2,setDailyChallenges:a2,resetChallenges:R2}=fb.actions,l2=fb.reducer,db=p1.withTypes(),Lu=_1.withTypes(),E0={user:null,isLoading:!1,error:null,emailForVerification:null,isEmailVerified:!1},hb=n=>({uid:n.uid,email:n.email,displayName:n.displayName,emailVerified:n.emailVerified,photoURL:n.photoURL,providerId:n.providerId}),nu=Wn("auth/login",async({email:n,password:e},{rejectWithValue:i})=>{try{const s=await UM(Ih,n,e);return hb(s.user)}catch(s){return i(s.message)}}),iu=Wn("auth/register",async({email:n,password:e,displayName:i},{rejectWithValue:s})=>{try{const l=await LM(Ih,n,e);return i&&await HM(l.user,{displayName:i}),await PM(l.user),await VM(Ih),hb(l.user)}catch(l){return s(l.message)}}),pb=ob({name:"auth",initialState:E0,reducers:{setUser:(n,e)=>{var i;n.user=e.payload,n.isEmailVerified=((i=e.payload)==null?void 0:i.emailVerified)??!1,n.error=null},setLoading:(n,e)=>{n.isLoading=e.payload},setError:(n,e)=>{n.error=e.payload},setEmailForVerification:(n,e)=>{n.emailForVerification=e.payload},verifyEmail:n=>{n.user&&(n.isEmailVerified=!0)},resetAuthState:()=>E0},extraReducers:n=>{n.addCase(nu.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nu.fulfilled,(e,i)=>{e.isLoading=!1,e.user=i.payload,e.isEmailVerified=i.payload.emailVerified}).addCase(nu.rejected,(e,i)=>{e.isLoading=!1,e.error=i.payload}).addCase(iu.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iu.fulfilled,(e,i)=>{e.isLoading=!1,e.emailForVerification=i.payload.email}).addCase(iu.rejected,(e,i)=>{e.isLoading=!1,e.error=i.payload})}}),{setUser:o2,setLoading:A2,setError:N2,setEmailForVerification:O2,verifyEmail:D2,resetAuthState:I2}=pb.actions,u2=n=>n.auth.user,c2=pb.reducer,f2=()=>{const{user:n}=Lu(e=>e.auth);return n?V.jsx(cw,{}):V.jsx(uw,{to:"/login",replace:!0})},d2=({visible:n,onClose:e,onAdd:i})=>{const[s,l]=I.useState(""),[u,f]=I.useState(""),p=()=>{const h=parseInt(u,10);s.trim()&&!isNaN(h)&&h>0&&(i(s,h),l(""),f(""))};return n?V.jsx("div",{className:"modal-overlay",children:V.jsxs("div",{className:"modal-content",children:[V.jsx("h2",{className:"modal-title",children:"Добавить ежедневное испытание"}),V.jsx("input",{className:"modal-input",type:"text",placeholder:"Название испытания",value:s,onChange:h=>l(h.target.value)}),V.jsx("input",{className:"modal-input",type:"number",placeholder:"Количество",value:u,onChange:h=>f(h.target.value)}),V.jsxs("div",{className:"modal-button-container",children:[V.jsx("button",{className:"modal-button cancel",onClick:e,children:"Отмена"}),V.jsx("button",{className:"modal-button add",onClick:p,children:"Добавить"})]})]})}):null},h2=()=>V.jsx("div",{className:"loading",children:V.jsxs("div",{className:"loading-container",children:[V.jsx("div",{className:"dash uno"}),V.jsx("div",{className:"dash dos"}),V.jsx("div",{className:"dash tres"}),V.jsx("div",{className:"dash cuatro"})]})}),mb=({props:n})=>V.jsx("nav",{className:"navigation",children:V.jsx("div",{className:"container",children:V.jsx("ul",{className:"navigation__list",children:n.map((e,i)=>V.jsx("li",{className:"navigation__item",children:V.jsx(Vh,{to:e.href,className:"navigation__link",children:e.text},`${e.text} ${e.href}`)},`${e.text} ${i}`))})})}),p2=({visible:n,onConfirm:e,onCancel:i,title:s,message:l})=>n?V.jsx("div",{className:"confirm-modal-overlay",children:V.jsxs("div",{className:"confirm-modal",children:[V.jsx("h3",{className:"confirm-modal__title",children:s}),V.jsx("p",{className:"confirm-modal__message",children:l}),V.jsxs("div",{className:"confirm-modal__actions",children:[V.jsx("button",{className:"confirm-modal__btn confirm-modal__btn-cancel",onClick:i,children:"Отмена"}),V.jsx("button",{className:"confirm-modal__btn confirm-modal__btn-confirm",onClick:e,children:"Удалить"})]})]})}):null,m2=Mh.memo(mb),g2=()=>{const n=db(),{weeklyChallenges:e,dailyChallenges:i,error:s}=Lu(H=>H.challenges),l=Lu(u2),[u,f]=I.useState(!1),[p,h]=I.useState(!0),[m,_]=I.useState(!1),[E,v]=I.useState(null);I.useEffect(()=>{const H=async()=>{try{h(!0),await n(r2((l==null?void 0:l.uid)||"")).unwrap(),l!=null&&l.uid&&await F()}catch($){console.error("Error loading challenges:",$)}finally{h(!1)}},F=async()=>{const $=new Date().toDateString(),ue=gn(vn,`dailyChallenges/${l==null?void 0:l.uid}`),Se=(await RS(ue)).val();if(!Se)return;const Qe={};let qe=!1;Object.keys(Se).forEach(zt=>{Se[zt].lastResetDate!==$&&(Qe[`${zt}/current`]=0,Qe[`${zt}/isCompleted`]=!1,Qe[`${zt}/lastResetDate`]=$,qe=!0)}),qe&&await bI(ue,{...Qe})},J=(()=>{const $=new Date,X=new Date($.getFullYear(),$.getMonth(),$.getDate()+1,0,0,0).getTime()-$.getTime();return setTimeout(async()=>{l!=null&&l.uid&&await F(),setInterval(()=>{l!=null&&l.uid&&F()},24*60*60*1e3)},X)})();return H(),()=>{cb(),clearTimeout(J)}},[n,l==null?void 0:l.uid]);const w=(H,F)=>{if(l!=null&&l.uid){const q=new Date().toDateString();n(n2({challenge:{title:H,target:F,current:0,isCompleted:!1,type:"daily",createdAt:Date.now(),lastResetDate:q,countCompleted:0},userId:l.uid})).unwrap(),f(!1)}},T=(H,F)=>{l!=null&&l.uid&&n(i2({id:H,userId:l.uid,isDaily:F}))},x=H=>V.jsxs(V.Fragment,{children:[V.jsx("span",{className:"challenges__item-title",children:H.title}),V.jsxs("span",{className:"challenges__item-count",children:[H.current," / ",H.target]}),H.type==="daily"&&V.jsxs("div",{className:"challenges__item-actions",children:[V.jsx("button",{className:`challenges__item-btn challenges__item-btn_completed ${H.isCompleted?"completed":""}`,onClick:()=>T(H.id,!0),disabled:H.isCompleted,children:H.isCompleted?"Готово":"Выполнить"}),V.jsx("button",{className:"challenges__item-btn challenges__item-btn_delete",onClick:()=>U(H.id),children:"Удалить"})]})]}),U=H=>{v(H),_(!0)},M=()=>{l!=null&&l.uid&&E&&n(ub({id:E,userId:l.uid})),_(!1),v(null)},j=()=>{_(!1),v(null)};return s?V.jsxs("div",{className:"error-message",children:["Error: ",s]}):p||e.length===0?V.jsx(h2,{}):V.jsxs(V.Fragment,{children:[V.jsx("section",{className:"challenges",children:V.jsxs("div",{className:"container",children:[V.jsxs("div",{className:"challenges__content",children:[V.jsx("h2",{className:"challenges__h2",children:"Еженедельные испытания"}),V.jsx("ul",{className:"challenges__list challenges__list_weekly",children:e.length>0?e.map(H=>V.jsx("li",{className:"challenges__item",children:x(H)},H.id)):V.jsx("span",{className:"challenges__void",children:"Нет доступных еженедельных испытаний или они еще не загрузились"})}),l&&V.jsxs(V.Fragment,{children:[V.jsx("h2",{className:"challenges__h2",children:"Твои дневные испытаения"}),V.jsx("button",{className:"challenges__btn-add",onClick:()=>f(!0),children:"Добавить ежедневое испытание"}),V.jsx("ul",{className:"challenges__list",children:i.length>0?i.map(H=>V.jsx("li",{className:"challenges__item",children:x(H)},H.id)):V.jsx("span",{className:"challenges__void",children:"Ежедневные испытания еще не добавлены или они еще не загрузились"})})]})]}),V.jsx(d2,{visible:u,onClose:()=>f(!1),onAdd:w}),V.jsx(p2,{visible:m,onConfirm:M,onCancel:j,title:"Подтверждение удаления",message:"Вы уверены, что хотите удалить этот челлендж?"})]})}),V.jsx(m2,{props:[{text:"Рейтинг",href:"/rating"},{text:"Аккаунт",href:"#"},{text:"Инструкции",href:"#"}]})]})},_2=({className:n})=>V.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 150",className:n,children:V.jsx("path",{fill:"none",stroke:"#FF156D",strokeWidth:"15",strokeLinecap:"round",strokeDasharray:"300 385",strokeDashoffset:"0",d:"M275 75c0 31-27 50-50 50-58 0-92-100-150-100-28 0-50 22-50 50s23 50 50 50c58 0 92-100 150-100 24 0 50 19 50 50Z",children:V.jsx("animate",{attributeName:"stroke-dashoffset",calcMode:"spline",dur:"2",values:"685;-685",keySplines:"0 0 1 1",repeatCount:"indefinite"})})}),y2=()=>V.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 64 64",fill:"none",id:"hide",className:"eye-icon",children:[V.jsx("path",{fill:"#2B3151",fillRule:"evenodd",d:"M32 18.667c-9.728 0-18.023 5.751-21.438 13.851a1.333 1.333 0 1 1-2.457-1.036C11.942 22.382 21.212 16 32 16s20.058 6.382 23.895 15.482a1.333 1.333 0 0 1-2.457 1.036c-3.415-8.1-11.71-13.851-21.438-13.851Z",clipRule:"evenodd"}),V.jsx("path",{fill:"#2B3151",fillRule:"evenodd",d:"M32 45.333c-9.728 0-18.023-5.751-21.438-13.851a1.333 1.333 0 1 0-2.457 1.036C11.942 41.618 21.212 48 32 48s20.058-6.382 23.895-15.482a1.333 1.333 0 0 0-2.457-1.036c-3.415 8.1-11.71 13.851-21.438 13.851Z",clipRule:"evenodd"}),V.jsx("path",{fill:"#2B3151",fillRule:"evenodd",d:"M32 25.334a6.667 6.667 0 1 0 0 13.333 6.667 6.667 0 0 0 0-13.333ZM22.667 32a9.333 9.333 0 1 1 18.666 0 9.333 9.333 0 0 1-18.666 0Z",clipRule:"evenodd"}),V.jsx("path",{fill:"#2B3151",fillRule:"evenodd",d:"M55.61 8.39c.52.521.52 1.365 0 1.886L10.275 55.61a1.333 1.333 0 1 1-1.885-1.886L53.724 8.39c.52-.521 1.365-.521 1.886 0Z",clipRule:"evenodd"})]}),v2=Mh.memo(y2),E2=()=>{const[n,e]=I.useState(""),[i,s]=I.useState(""),[l,u]=I.useState(!0),[f,p]=I.useState(""),[h,m]=I.useState(!1),[_,E]=I.useState(!1),v=db(),w=Ph(),T=Lu(M=>M.auth.user);I.useEffect(()=>{const M=localStorage.getItem("RampivSportChallendge");if(M){const j=JSON.parse(M);v(o2(j))}},[]),I.useEffect(()=>{T&&w("/")},[T,w]);const x=async M=>{if(M.preventDefault(),!!(n.includes("@")?i.length<6?(p("Пароль должен содержать минимум 6 символов"),!1):!0:(p("Введите корректный email"),!1))){m(!0),p("");try{let H;l?H=await v(nu({email:n,password:i})).unwrap():H=await v(iu({email:n,password:i})).unwrap(),localStorage.setItem("RampivSportChallendge",JSON.stringify(H)),w("/")}catch(H){console.error("Auth error:",H),p("Произошла ошибка. Перезагрузите страницу")}finally{m(!1)}}},U=()=>{E(!_)};return V.jsx("div",{className:"auth",children:V.jsx("div",{className:"container",children:V.jsxs("div",{className:"auth__content",children:[V.jsx("h2",{className:"auth__h2",children:l?"Вход в аккаунт":"Регистрация"}),f&&V.jsx("div",{className:"error",children:V.jsx("span",{className:"error__text",children:f})}),V.jsxs("form",{className:"auth__form",onSubmit:x,children:[V.jsxs("div",{className:"auth__credential",children:[V.jsx("label",{htmlFor:"email",className:"auth__credential-label",children:"Email"}),V.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:M=>{e(M.target.value)},className:"auth__credential-input",placeholder:"Email"}),V.jsxs("div",{className:"auth__credential",children:[V.jsx("label",{htmlFor:"password",className:"auth__credential-label",children:"Пароль"}),V.jsx("input",{id:"password",name:"password",type:_?"text":"password",autoComplete:l?"current-password":"new-password",required:!0,value:i,onChange:M=>{s(M.target.value)},className:"auth__credential-input",placeholder:"Пароль"}),V.jsx("a",{href:"#",className:"password-control",onClick:U,children:V.jsx(v2,{})})]})]}),V.jsx("button",{type:"submit",disabled:h,className:"auth__credential-button",children:h?V.jsx(_2,{className:"auth__loading"}):l?"Войти":"Зарегистрироваться"})]}),V.jsx("button",{onClick:()=>{u(!l),p("")},className:"auth__toggle",children:l?"Нет аккаунта? Зарегистрироваться":"Уже есть аккаунт? Войти"})]})})})},S2=Mh.memo(mb),b2=()=>V.jsx(V.Fragment,{children:V.jsx(S2,{props:[{text:"Вернуться на главную",href:"/"}]})}),C2=()=>V.jsx("div",{className:"App",children:V.jsxs(dw,{children:[V.jsx(Ha,{path:"/login",element:V.jsx(E2,{})}),V.jsxs(Ha,{element:V.jsx(f2,{}),children:[V.jsx(Ha,{path:"/",element:V.jsx(g2,{})}),V.jsx(Ha,{path:"/rating",element:V.jsx(b2,{})})]})]})}),T2=_R({reducer:{challenges:l2,auth:c2}}),S0=document.getElementById("root");if(S0)XT.createRoot(S0).render(V.jsx(I.StrictMode,{children:V.jsx(Uw,{basename:"/sportChallendge/",children:V.jsx(f1,{store:T2,children:V.jsx(C2,{})})})}));else throw new Error("Root element with ID 'root' was not found in the document. Ensure there is a corresponding HTML element with the ID 'root' in your HTML file.");
